 SFF specifications are available at http://www.snia.org/sff/specifications         or ftp://ftp.seagate.com/sff    This specification was developed by the SFF Committee prior to it   becoming the SFF TA (Technology Affiliate) TWG (Technical Working       Group) of SNIA (Storage Networking Industry Association). The information below should be used instead of the equivalent herein.    POINTS OF CONTACT: Chairman SFF TA TWG          Email: SFF-Chair@snia.org         If you are interested in participating in the activities of the SFF TWG, the  membership application can be found at:     http://www.snia.org/sff/join    The complete list of SFF Specifications which have been completed or are currently  being worked on can be found at:     http://www.snia.org/sff/specifications/SFF-8000.TXT    The operations which complement the SNIA's TWG Policies & Procedures to guide the SFF  TWG can be found at:     http://www.snia.org/sff/specifications/SFF-8032.PDF      Suggestions for improvement of this specification will be welcome, they should be  submitted to:      http://www.snia.org/feedback     Archived      SFF-8431 Rev 4.1 + Addendum     SFF Committee documentation may be purchased in hard copy or electronic form   SFF specifications are available at ftp://ftp.seagate.com/sff      This specification has been Archived. SFF-8419 SFP+ Low Speed Interface is the reference     for all high speed specifications    SFF-8418 SFP+ 10 Gb/s Electrical Interface contains         the remaining content of this specification.       SFF Committee      SFF-8431        Specification for  SFP+ 10 Gb/s and Low Speed Electrical Interface        Rev 4.1       July 6, 2009        Rev 4.1 Addendum   September 15, 2013        Secretariat:  SFF Committee

Abstract: This specification defines the high speed electrical characteristics for  enhanced Small Form Factor Pluggable (SFP+) modules and hosts. The SFP+ module is a  hot pluggable small footprint serial-to-serial data-agnostic optical transceiver.  The modules may be used to implement single-mode or multimode serial optical  interfaces at 850 nm, 1310 nm, or 1550 nm. The SFP+ module design may use one of  several different optical connectors.     This specification provides a common reference for systems manufacturers, system  integrators, and suppliers. This is an internal working specification of the SFF  Committee, an industry ad hoc group.    This specification is made available for public review, and written comments are  solicited from readers. Comments received by the members will be considered for  inclusion in future revisions of this specification.  摘要：本规范定义了增强型小型可插拔（SFP +）模块和主机的高速电气特性。 SFP +模块是一个热插拔小型串行到串行数据无关的光收发器。 这些模块可用于实现850nm，1310nm或1550nm的单模或多模串行光接口。 SFP +模块设计可以使用几种不同的光纤连接器之一。 该规范为系统制造商，系统集成商和供应商提供了通用参考。 这是SFF委员会的内部工作规范，是一个行业专案小组。 本规范可供公众查阅，书面征求意见。 会员将收到的意见将纳入本规范的未来版本。

Support: This specification is supported by the identified member companies of the  SFF Committee.       POINT OF CONTACT:       Chairman SFF Committee     I. Dal Allan      14426 Black Walnut Court      Saratoga, CA 95070      408-867-6630     endlcom@acm.org

  SFP+ 10 Gb/s and Low Speed Electrical Interface Cover Archived      SFF-8431 Rev 4.1 + Addendum EXPRESSION OF SUPPORT BY MANUFACTURERS    The following member companies of the SFF Committee voted in favor of this industry  specification.        Amphenol      JDS Uniphase      Applied Micro LSI      Arista Networks          Luxtera      Avago         Molex      Broadcom      NetLogic uSyst      Cinch         Oclaro      Clariphy      Panduit      Cortina Systems          Picolight      EMC           QLogic      Emulex        Samsung      ETRI          Shenzhen      FCI           Sumitomo      Finisar       Sun Microsystems      Foxconn       TE Connectivity      Fujitsu CPA   Vitesse Semiconductor      Hewlett Packard          W L Gore      The following member companies of the SFF Committee voted to abstain on this  industry specification.        3M            Meritec      Comax         Sandisk      HGST          Seagate      Leoni Cables  Toshiba      Luxshare-ICT  Western Digital      Change History    Rev 4.1   - Expansion of Table 1 to include generations of Fibre Channel (June 20, 2013)    o Corrected 8.5GFC to reference FC-PI-5 (September 15, 2013)    - Addition of a Level III power module (June 20, 2013)  - Expand title to be descriptive of contents (July 17, 2014)  - Break content into SFF-8418 and SFF-8419 (May 2015)    o In response to complaint that SFP16 and SFP28 were referencing a 10 Gb/s spec


  SFP+ 10 Gb/s and Low Speed Electrical Interface Cover Published      SFF-8431, Revision 4.1

SFF Committee documentation may be purchased in hard copy or electronic form. SFF specifications are available at ftp://ftp.seagate.com/sff


    SFF Committee

         SFF-8431 Specifications for

  Enhanced Small Form Factor Pluggable Module SFP+

    Revision 4.1

 6th of July 2009

Secretariat: SFF Committee

Abstract: This document defines the low speed electrical and management interface specifications for enhanced Small Form  Factor Pluggable (SFP+) modules and hosts. The SFP+ module is a hot pluggable small footprint serial-to-serial data-agnostic  optical transceiver. This document defines the high speed electrical interface specifications for 10 Gigabit/s SFP+ modules  and hosts. The 8.5 Gigabit/s high speed electrical interface specifications are defined in FC-PI-4. The modules may optionally  support lower signalling rates as well. The modules may be used to implement single-mode or multimode serial optical inter- faces at 850 nm, 1310 nm, or 1550 nm. The SFP+ module design may use one of several different optical connectors.
摘要：本文档规定了增强型小型可插拔（SFP +）模块和主机的低速电气和管理接口规范。 SFP +模块是一个热插拔小型串行到串行数据无关的光收发器。 本文档定义了10Gb / s SFP +模块和主机的高速电接口规范。 FC-PI-4定义了8.5千兆位/秒的高速电接口规范。 模块也可以选择地支持较低的信令速率。 这些模块可用于实现850 nm，1310 nm或1550 nm的单模或多模串行光学接口。 SFP +模块设计可以使用几种不同的光纤连接器之一。


This specification provides a common reference for system manufacturers, system integrators, and suppliers. This is an inter- nal working specification of the SFF Committee, an industry ad hoc group. This specification is made available for public review, and written comments are solicited from readers. Comments received  by the members will be considered for inclusion in future revisions of this specification.
本规范为系统制造商，系统集成商和供应商提供了通用参考。 这是SFF委员会的内部工作规范，这是一个行业特设小组。 本规范可供公众查阅，书面征求意见。 会员将收到的意见将纳入本规范的未来版本。

Support: This specification is supported by the identified member companies of the SFF Committee.

POINTS OF CONTACT:

Technical Editor:      Chairman SFF Committee        Ali Ghiasi   I. Dal Allan         Broadcom Corporation    ENDL        3151 Zanker Road        14426 Black Walnut Court         San Jose, CA 95134      Saratoga, CA 95070         Voice: (408) 922-7423   Voice: (408) 867-6630        EMail: aghiasi@broadcom.com    EMail: endlcom@acm.org

SSWG Leader:        Tom Lindsay         ClariPhy Communications        16 Technology Drive, Suite 165         Irvine, CA 92618        Voice: (425)608-0209        EMail: tom.lindsay@clariphy.com


    SFP+ (Enhanced 10 Gbps pluggable module)      Published      SFF-8431, Revision 4.1

EXPRESSION OF SUPPORT BY MANUFACTURERS

The following member companies of the SFF Committee voted in favor of this industry specification:

    AMCC      Amphenol      Arista Networks      Avago      Broadcom      Cinch      Clariphy      Cortina Systems      EMC      Emulex      ETRI      Finisar      Foxconn      Fujitsu CPA      Hewlett Packard      Hitachi GST      JDS Uniphase      Luxtera      Molex      NetLogic uSyst      OpNext      Panduit      Picolight      QLogic      Samsung      Sumitomo      Sun Microsystems      Tyco      Vitesse Semiconductor      W L Gore

The following member companies of the SFF Committee voted to abstain on this industry specification.     Comax      FCI      ICT Solutions      Leoni Cables      Meritec      Seagate      Toshiba


The user's attention is called to the possibility that implementation to this Specification may require use of an invention cov- ered by patent rights. By distribution of this specification, no position is taken with respect to the validity of a claim or claims  of any patent rights in connection therewith. Members of the SFF Committee which advise that a patent exists are required  to provide a statement of willingness to grant a license under these rights on reasonable and non-discriminatory terms and  conditions to applicants desiring to obtain such a license.
用户的注意力被称为实施本规范可能需要使用由专利权所包含的发明的可能性。 通过分发本说明书，关于与其有关的任何专利权利要求或权利要求的有效性，不采取任何立场。 要求专利存在的SFF委员会成员必须提供一份愿意按合理和非歧视性条款向这些权利授予许可证的声明，以供希望获得该许可证的申请人申请。


SFP+ (Enhanced 10 Gbps Pluggable Module))    Page iiPublished      SFF-8431, Revision 4.1

Foreword

The development work on this specification was done by the SFF Committee, an industry group. The membership of the  committee since its formation in August 1990 has included a mix of companies which are leaders across the industry.  When 2 1/2” diameter disk drives were introduced, there was no commonality on external dimensions e.g. physical size,  mounting locations, connector type, connector location, between vendors.  The first use of these disk drives was in specific applications such as laptop portable computers and system integrators  worked individually with vendors to develop the packaging. The result was wide diversity, and incompatibility. The problems faced by integrators, device suppliers, and component suppliers led to the formation of the SFF Committee as  an industry ad hoc group to address the marketing and engineering considerations of the emerging new technology.  During the development of the form factor definitions, other activities were suggested because participants in the SFF Com- mittee faced more problems than the physical form factors of disk drives. In November 1992, the charter was expanded to  address any issues of general interest and concern to the storage industry. The SFF Committee became a forum for resolving  industry issues that are either not addressed by the standards process or need an immediate solution.  Those companies which have agreed to support a specification are identified in the first pages of each SFF Specification.  Industry consensus is not an essential requirement to publish an SFF Specification because it is recognized that in an emerg- ing product area, there is room for more than one approach. By making the documentation on competing proposals avail- able, an integrator can examine the alternatives available and select the product that is felt to be most suitable.  SFF Committee meetings are held during T10 weeks (see www.t10.org), and Specific Subject Working Groups are held at the  convenience of the participants. Material presented at SFF Committee meetings becomes public domain, and there are no  restrictions on the open mailing of material presented at committee meetings.  Most of the specifications developed by the SFF Committee have either been incorporated into standards or adopted as  standards by EIA (Electronic Industries Association), ANSI (American National Standards Institute) and IEC (International Elec- trotechnical Commission). The SFF Committee activities support the requirements of the storage industry, and it is involved with several standards.  If you are interested in participating or wish to follow the activities of the SFF Committee, the signup for membership and/or  documentation can be found at:    www.sffcommittee.com/ie/join.html The complete list of SFF Specifications which have been completed or are currently being worked on by the SFF Committee  can be found at:    ftp://ftp.seagate.com/sff/SFF-8000.TXT If you wish to know more about the SFF Committee, the principles which guide the activities can be found at:   ftp://ftp.seagate.com/sff/SFF-8032.TXT Suggestions for improvement of this specification will be welcome. They should be sent to the SFF Committee, 14426 Black  Walnut Ct, Saratoga, CA 95070.
该规范的开发工作由SFF委员会（一个行业组织）完成。自1990年8月成立以来，委员会的成员包括各行各业的公司。当引入2 1/2“直径的磁盘驱动器时，外部尺寸没有共同点，例如物理尺寸，安装位置，连接器类型，连接器位置，供应商之间。这些磁盘驱动器的首次使用是在笔记本电脑便携式计算机和系统集成商等具体应用中与供应商分开开发包装。结果是广泛的多样性，不兼容。集成商，设备供应商和组件供应商面临的问题导致SFF委员会成立为行业专案组，以解决新兴技术的营销和工程考虑。在开发形式因素定义时，提出了其他活动，因为SFF委员会的参与者面临比磁盘驱动器的物理形状因素更多的问题。 1992年11月，该章程得到扩大，以解决存储行业普遍关心的任何问题。 SFF委员会成为解决不符合标准过程或需要立即解决的行业问题的论坛。已经同意支持规范的那些公司在每个SFF规范的第一页中被标识。发布SFF规范的行业共识并不是基本要求，因为认识到在出现的产品领域，存在多种方法的空间。通过提供有关竞争性提案的文档，集成商可以检查可用的替代方案，并选择被认为最合适的产品。 SFF委员会会议在T10周期间举行（见www.t10.org），特定主题工作组在参加者方便的时候举行。在SFF委员会会议上提交的材料成为公有领域，对委员会会议上提交的材料的公开邮寄没有限制。 SFF委员会制定的大多数规范已被EIA（电子工业协会），ANSI（美国国家标准协会）和IEC（国际电工委员会）纳入标准或采用标准。 SFF委员会活动支持存储行业的要求，涉及多个标准。如果您有兴趣参与或希望遵循SFF委员会的活动，则可以在以下网址找到会员资格和/或文档的注册：www.sffcommittee.com/ie/join.html已经有SFF规格的完整列表完成或正在由SFF委员会工作，可以在以下网址找到：ftp://ftp.seagate.com/sff/SFF-8000.TXT如果您想更多地了解SFF委员会，指导活动的原则可以在以下位置找到：ftp://ftp.seagate.com/sff/SFF-8032.TXT欢迎对本规范进行改进的建议。他们应该送到SFF委员会，14426 Black Walnut Ct，Saratoga，CA 95070。


SFP+ (Enhanced 10 Gbps Pluggable Module))    Page iiiPublished       SFF-8431, Revision 4.1

Industry Documents  The following interface standards are relevant to SFP+ Specifications.  SFF-8432 - Improved Pluggable Formfactor (ftp://ftp.seagate.com/sff/) SFF-8083 - Improved 0.8mm Card Edge Connector (ftp://ftp.seagate.com/sff/) SFF-8089 - SFP Rate and Application codes (ftp://ftp.seagate.com/sff/) SFF-8079 - SFP Rate and Application Selection (ftp://ftp.seagate.com/sff/) SFF-8472 - Diagnostic Monitoring Interface for Optical Transceivers (ftp://ftp.seagate.com/sff/) INF-8074i - SFP (Small Form Factor) Transceiver (ftp://ftp.seagate.com/sff/) INF-8077i - 10 Gigabit Small Form Factor Pluggable Module (XFP MSA) (ftp://ftp.seagate.com/sff/) FC-PI-4 - Fibre Channel - Physical Interface-4 10GFC - Fibre Channel - 10 Gigabit FC-MJSQ - Methodologies for Jitter and Signal Quality Specifications FC INCITS Project 1316-DT Rev 14.1, June 5, 2005 IEEE 802.3 - IEEE Standard 802.3, Relevant 10 Gigabit Ethernet clauses are 49, 10GBASE-R LAN PHY; 50, 10GBASE-W WAN PHY;  52, 10 Gigabit Ethernet serial PMDs; and 68, 10GBASE-LRM) OIF CEI - Optical Internetworking Forum - Implementation Agreement # OIF-CEI-02.0 Common Electrical I/O (CEI)  (http://www.oiforum.com/public/impagreements.html)
行业文件以下接口标准与SFP +规范相关。 SFF-8432 - 改进的可插拔形状因子（ftp://ftp.seagate.com/sff/）SFF-8083 - 改进的0.8mm卡缘连接器（ftp://ftp.seagate.com/sff/）SFF-8089 - SFP速率和应用程序代码（ftp://ftp.seagate.com/sff/）SFF-8079 - SFP速率和应用程序选择（ftp://ftp.seagate.com/sff/）SFF-8472 - 光学诊断监控接口收发器（ftp://ftp.seagate.com/sff/）INF-8074i - SFP（小型）收发器（ftp://ftp.seagate.com/sff/）INF-8077i - 10千兆小型可插拔模块（XFP MSA）（ftp://ftp.seagate.com/sff/）FC-PI-4 - 光纤通道 - 物理接口-4 10GFC - 光纤通道 - 10千兆FC-MJSQ - 抖动和信号质量规格方法FC INCITS项目1316-DT Rev 14.1，2005年6月5日IEEE 802.3 - IEEE标准802.3，相关的10千兆以太网子句是49,10GBASE-R LAN PHY; 50，10GBASE-W WAN PHY; 52，千兆以太网串行PMD;和68，10GBASE-LRM）OIF CEI - 光互联论坛 - 实施协议＃OIF-CEI-02.0通用电气I / O（CEI）（http://www.oiforum.com/public/impagreements.html）

Acronyms and other abbreviations

   64B/66B      Data encoded with 64B/66B encoder as defined by the IEEE Std. 802.3 CL 49.    BER          bit error ratio    CDR          clock and data recovery    CRU          clock recovery unit      decibel. 10*log10(ratio of power quantities). Powers can be electrical or optical. Conventional usage. See also dBe and     dB      dBo.      Specific case of dB where signals are electrical. 10*log10(ratio of electrical power quantities). 20*log10(ratio of voltage     dBe      quantities) can be used if reference impedances are equal.    dBm          decibel (relative to 1 mW)       Specific case of dB where the signals are in optical power. 10*log10(ratio of optical power quantities). Also, in certain     dBo          cases with electrical signals relating to linear optical modules, where it is expected that electrical voltage is in proportion       to optical power, 10*log10(ratio of voltage quantities).    DCD          Duty cycle distortion    DDPWS        Data Dependent Pulse Width Shrinkage    DDJ          Data Dependent Jitter    dRN          Difference of Relative noise see Appendix D    DUT          device under test    dWDP         Difference of the waveform distortion penalty of an optical receiver    dWDPc        Difference of the waveform distortion penalty of an electrical cable assembly    EMC          electromagnetic compatibility    EMI          electromagnetic Interference    FC           Fibre Channel    h hexadecimal notation    HCB          Host Compliance Board    IEEE         Institute of Electrical and Electronics Engineers    ITU-T        ITU Telecommunication Standardization Sector    Gbit         gigabit = 109 bits    GBd          Gigabaud    J2           99% Jitter      IEEE 802.3 CL68 Physical Layer Specifications for 10Gb/s using 10GBASE-R encoding and long wavelength optics for     LRM      multimode fiber
缩略语等缩写

   64B / 66B用IEEE标准定义的64B / 66B编码器编码的数据。 802.3 CL 49. BER位错误率CDR时钟和数据恢复CRU时钟恢复单元分贝。 10 * log10（功率比）。电力可以是电气或光学。常规用法。另见dBe和dB dBo。信号为电的dB的具体情况。 10 * log10（电功率比）。如果参考阻抗相等，则可以使用20 * log10（电压dBe量的比率）。 dBm分贝（相对于1 mW）信号处于光功率的dB的具体情况。 10 * log10（光功率比）。此外，在某些具有与线性光学模块相关的电信号的dBo情况下，预期电压与光功率成比例，10 * log10（电压量的比）。 DCD占空比失真DDPWS数据相关脉冲宽度收缩DDJ数据相关抖动dRN相对噪声的差异参见附录D被测器件受测dWDP光接收器的波形失真损失的差异dWDPc电缆组件的波形失真损失的差异EMC电磁兼容性EMI电磁干扰FC光纤通道十六进制符号HCB主机合规板IEEE电气和电子工程师协会ITU-T国际电联电信标准化部门Gbit千兆比特= 109位GBd Gigabaud J2 99％抖动IEEE 802.3 CL68 10Gb / s的物理层规范使用10GBASE-R编码和长波长光学器件用于LRM多模光纤]

SFP+ (Enhanced 10 Gbps Pluggable Module)) Page ivPublished       SFF-8431, Revision 4.1


   MCB          Module Compliance Board    OMA          optical modulation amplitude    PCB          printed circuit board    PRBS9        Pseudo-Random Bit Sequence 29-1, see D.1.1    PRBS31       Pseudo-Random Bit Sequence 231-1, see D.1.1

   Qsq          Qsq a measure of SNR, see D.8 and IEEE 802.3.68.6.7    RI           random interference     RMS          root mean square    RN           relative noise    Rx           receiver    Rx_LOS       Loss of signal same as defined in FC PI-4 and the inverse of signal detect (SD) in 802.3    RSS          “Root Sum of Squares”    SD           Signal Detect    SerDes       Serializer/Deserializer    SFI          SFP+ high speed serial electrical interface    SNR          signal-to-noise ratio    VccT         Module positive power supply rail for the transmitter    VccR         Module positive power supply rail for the receiver    VMA          voltage modulation amplitude    Tx           transmitter    TWDP         Transmitter Waveform Distortion Penalty for an optical transmitter    TWDPc        Transmitter Waveform Distortion Penalty of a host transmitter supporting an electrical cable assembly    UI           unit interval = 1 symbol period    UJ           Uncorrelated Jitter    WDP          Waveform distortion penalty    WDPc         Waveform distortion penalty for an electrical cable assembly
MCB模块合规板OMA光调制幅度PCB印刷电路板PRBS9伪随机位序列29-1，参见D.1.1 PRBS31伪随机位序列231-1，见D.1.1

   Qsq Qsq是SNR的度量，见D.8和IEEE 802.3.68.6.7 RI随机干扰RMS均方根RN相对噪声Rx接收机Rx_LOS信号丢失与FC PI-4中定义的信号和信号检测的反相（SD ）在802.3 RSS“正方形总和”SD信号检测SerDes串行器/解串器SFI SFP +高速串行电气接口SNR信噪比VccT模块正电源轨为发射器VccR模块正电源轨为接收器VMA电压调制幅度Tx发射机TWDP发射机波形失真光发射机的处罚TWDPc发射机波形失真支持电缆组件的主机发射机的处罚单位间隔= 1符号周期UJ不相关的抖动WDP波形失真损失WDPc电缆组件的波形失真损失

SFF Specifications There are several projects active within the SFF Committee. The complete list of specifications which have been completed or  are still being worked on are listed in the specification at ftp://ftp.seagate.com/sff/SFF-8000.TXT

Document Sources  Those who join the SFF Committee as an Observer or Member receive electronic copies of the minutes and SFF specifications  (http://www.sffcommittee.com/ie/join.html). Copies of ANSI standards may be purchased from the InterNational Committee for Information Technology Standards  (http://tinyurl.com/c4psg). Copies of SFF, T10 (SCSI), T11 (Fibre Channel) and T13 (ATA) standards and standards still in development are available on the  HPE version of CD_Access (http://tinyurl.com/85fts).
SFF规范SFF委员会内有若干项目活跃。 规范中已完成或仍在处理的完整列表，请参见规范中的ftp://ftp.seagate.com/sff/SFF-8000.TXT

文件来源参加SFF委员会作为观察员或会员的会员将收到会议记录和SFF规范的电子副本（http://www.sffcommittee.com/ie/join.html）。 ANSI标准的副本可以从国际信息技术标准委员会（http://tinyurl.com/c4psg）购买。 SFE，T10（SCSI），T11（光纤通道）和T13（ATA）标准和标准仍在开发中的副本可在HPE版本的CD_Access（http://tinyurl.com/85fts）上获得。


SFP+ (Enhanced 10 Gbps Pluggable Module)) Page vPublished      SFF-8431, Revision 4.1

Conventions The American convention of numbering is used i.e., the thousands and higher multiples are separated by a comma and a  period is used as the decimal point. This is equivalent to the ISO/IEC convention of a space and comma.
约定使用美国的编号惯例，即千分之一和更高的倍数用逗号隔开，而一个时期用作小数点。 这相当于ISO / IEC惯例的空格和逗号。
     American:     ISO:     0.6        0,6     1,000 1 000      1,323,462.9           1 323 462,9

           SFP+ Publication History

    Revision     Description          Date     Number        0.1     Initial Publication of Document, Preliminary     May 9, 2006        0.5     Initial Public Review Draft          June 29, 2006,        1.0     2nd Public Draft  August 28, 2006        1.1     3rd Public Draft        October 10, 2006        1.2     4rd Public Draft        December 21, 2006        1.3     5rd Public Draft        February 16, 2007        2.0     6th Public Draft and the 1st SFF A ballot       April 26, 2007        2.1     7th Public Draft  August 30, 2007        2.2     8th Public Draft        December 19, 2007        3.0     9th Public Draft and the 2nd SFF A ballot        May 8, 2008        3.1     Editor review draft     November 11, 2008        3.2     10th Public Draft and the 3rd SFF A ballot    November 12, 2008        3.3     11th Public Draft and the 4rd SFF A ballot      April 8, 2009

       4.0     12th Public Draft and the 1st SFF Publication Ballot   June 11, 2009

    Valid comments were made on draft revision 3.3 that mask hit ratios of 1e-12 at C’ and      C” compliance points are too time consuming for normal testing.   While changes to the      document to enable extrapolation from 1e-12 to a higher hit ratio would be desirable,      due to concerns that developing a better specification would delay the schedule, no so-     lutions are provided in this revision of SFF-8431. Improved testing methods should be      considered for future projects.

       4.1     Published           July 6, 2009

    It was proposed to truncate the diamond mask into a hexagonal mask while maintaining      the current slope of the diamond mask. The underlying reason for this comment was      that the downstream CDR due to setup and hold times could not use the upper and low-     er apexes of the diamond mask. It was considered with interest but it could not be ac-     commodated with the schedule.


SFP+ (Enhanced 10 Gbps Pluggable Module))    Page viPublished      SFF-8431, Revision 4.1

        Contents

Chapter 1        Scope of SFP+ Specification      ................................................................................. 1 1.1      Introduction .............................................................................................................................................................................1 1.2      The SFP+ Supported Standards ........................................................................................................................................2 1.3      SFI Typical PCB Reach (Informative).................................................................................................................................3

Chapter 2        Low Speed Electrical and Power Specifications        .................................................. 4 2.1      Introduction .............................................................................................................................................................................4 2.2      General Requirements..........................................................................................................................................................4 2.3      SFP+ Host Connector Definition.......................................................................................................................................4 2.4      Low Speed Electrical Control Contacts and 2-wire Interface..................................................................................7          2.4.1     Tx_Fault ....................................................................................................................................................................................7          2.4.2     Tx_Disable ...............................................................................................................................................................................7          2.4.3     RS0/RS1 ....................................................................................................................................................................................7          2.4.4     Mod_ABS .................................................................................................................................................................................8          2.4.5     SCL/SDA ...................................................................................................................................................................................8          2.4.6     Rx_LOS......................................................................................................................................................................................8 2.5      Rate Select Hardware Control............................................................................................................................................8 2.6      Low Speed Electrical Specifications.................................................................................................................................9          2.6.1     Module Low Speed Electrical Specifications ..............................................................................................................9          2.6.2     Host Low speed Electrical Specifications..................................................................................................................10 2.7      Timing Requirement of Control and Status I/O.........................................................................................................11          2.7.1     Module power on initialization procedure, Tx_Disable negated....................................................................12          2.7.2     Module power on initialization procedure, Tx_Disable asserted.....................................................................12          2.7.3     Initialization During Hot Plugging ..............................................................................................................................13          2.7.4     Transmitter management...............................................................................................................................................14          2.7.5    Transmitter safety detection and presentation ......................................................................................................14          2.7.6     Module fault recovery......................................................................................................................................................15          2.7.7     Module loss of signal indication...................................................................................................................................16 2.8      SFP+ Power Requirement..................................................................................................................................................17          2.8.1     Module Power Supply Requirements.........................................................................................................................17          2.8.2     Host Power Supply Noise Output................................................................................................................................17          2.8.3     Module Power Supply Noise Output..........................................................................................................................17          2.8.4     Power Supply Noise Tolerance......................................................................................................................................17          2.9       ESD ........................................................................................................................................................................19


SFP+ (Enhanced 10 Gbps pluggable module)     Page viiPublished       SFF-8431, Revision 4.1

Chapter 3     High Speed Electrical Specification SFI  ............................................................. 20 3.1     Introduction ...........................................................................................................................................................................20 3.2     SFI Applications Definition................................................................................................................................................20 3.3     SFI Test Points Definition and Measurements............................................................................................................21         3.3.1   Host Compliance Points ..................................................................................................................................................21         3.3.2   Module Compliance Points............................................................................................................................................22         3.3.3   ASIC/SerDes Test Points (Informative)........................................................................................................................23         3.3.4   Host Input Calibration Point ..........................................................................................................................................24         3.3.5   Module Input Calibration Point....................................................................................................................................24 3.4     SFI Termination and DC Blocking ...................................................................................................................................25 3.5     SFP+ Host System Specifications....................................................................................................................................27         3.5.1   Host Transmitter Output Specifications at B............................................................................................................27         3.5.2   Host Receiver Input Specifications at C and C”.......................................................................................................30 3.6     SFP+ Module Specifications .............................................................................................................................................35         3.6.1   Module Transmitter Input Specifications at B’ and B”..........................................................................................35         3.6.2   Module Receiver Output Specifications at C’..........................................................................................................37

Chapter 4     SFP+ 2-wire Interface   .......................................................................................... 41 4.1     Introduction ...........................................................................................................................................................................41 4.2     2-wire Electrical Specifications ........................................................................................................................................41 4.3     SFP+ 2-wire Timing Diagram............................................................................................................................................42 4.4     Memory Transaction Timing ............................................................................................................................................43 4.5     Device Addressing and Operation .................................................................................................................................44 4.6     Read/Write Functionality...................................................................................................................................................45         4.6.1   SFP+ Memory Address Counter (Read and Write Operations)..........................................................................45         4.6.2   Read Operations (Current Address Read) .................................................................................................................46         4.6.3   Read Operations (Random Read).................................................................................................................................46         4.6.4   Read Operations (Sequential Read)............................................................................................................................47         4.6.5   Write Operations (Byte Write) .......................................................................................................................................48         4.6.6   Write Operations (Sequential Write)...........................................................................................................................49         4.6.7   Write Operations (Acknowledge Polling)..................................................................................................................49

Appendix A     SFI Channel Recommendation (Informative)      ................................................... 50         A.1    SFI Host Channel General Recommendations...........................................................................................50         A.2    SFI Channel Transfer Recommendations.....................................................................................................50         A.3    SFI Channel Return Loss Recommendations .............................................................................................52         A.4    SFI Channel Ripple Recommendations........................................................................................................52

Appendix B     SFI ASIC/SerDes Specification (Informative)  .................................................... 54         B.1    Introduction...........................................................................................................................................................54         B.2    SFI ASIC/SerDes Transmitter Output Specifications at A (Informative)............................................54


SFP+ (Enhanced 10 Gbps pluggable module)     Page viiiPublished       SFF-8431, Revision 4.1

        B.3    SFI ASIC/SerDes Receiver Input Specifications at D (Informative) .....................................................54

Appendix C     Application Reference Boards (Normative)    ........ ............................................. 56         C.1    Compliance Boards .............................................................................................................................................56    C.1.1  Host Compliance Board Transfer Characteristics.......................................................................56    C.1.2  Module Compliance Board Transfer Characteristics ................................................................57    C.1.3  ASIC/SerDes Test Board Transfer Characteristics.......................................................................58         C.2    Host Compliance Board.....................................................................................................................................59    C.2.1  Host Compliance Board Material and Layer Stack-up .............................................................59    C.2.2  Host Compliance Board Partlist.......................................................................................................60    C.2.3  HCB Gerber Files....................................................................................................................................60    C.2.4  Schematic of Host Compliance Board...........................................................................................60         C.3    Module Compliance Board...............................................................................................................................62    C.3.1  Module Compliance Board Material and Layer Stack-up .......................................................62    C.3.2  Schematic of Module Compliance Board.....................................................................................63    C.3.3  Module Compliance Board Partlist.................................................................................................65    C.3.4  MCB Gerber files....................................................................................................................................65         C.4    Specifications for Mated Host and Module Compliance Boards ........................................................66

Appendix D     Test Methodology and Measurement (Normative)       ......................................... 72         D.1   Introduction...........................................................................................................................................................72    D.1.1  Test Patterns............................................................................................................................................72         D.2   Eye Mask Compliance.........................................................................................................................................72    D.2.1  Example Calculations for 5x10-5 Hit Ratio...................................................................................73         D.3   Data Dependent Jitter (DDJ) and Pulse Width Shrinkage (DDPWS) .................................................74    D.3.1  Duty Cycle Distortion (DCD) .............................................................................................................75         D.4   Uncorrelated Jitter (UJ)......................................................................................................................................75         D.5   99% Jitter (J2) and Total Jitter (TJ) .................................................................................................................76         D.6   Rise and Fall Times...............................................................................................................................................77         D.7   Voltage Modulation Amplitude (VMA) ........................................................................................................77         D.8   Relative Noise (RN) ..............................................................................................................................................78         D.9   Waveform Distortion Penalty (WDP).............................................................................................................79         D.10   Electrical compliance signal at B” for the SFP+ Module transmitter.................................................80         D.11   Test Method for a host receiver for a limiting module ...........................................................................82    D.11.1 Test Equipment & Setup.....................................................................................................................83    D.11.2 Stressed-Eye Jitter Characteristics ..................................................................................................83    D.11.3 Calibration ...............................................................................................................................................85    D.11.4 Calibration Procedure..........................................................................................................................86    D.11.5 Test Procedure........................................................................................................................................87         D.12  Limiting Module Receiver Compliance Tests.............................................................................................87         D.13  Test Method for a Host Receiver with a Linear Module..........................................................................88

SFP+ (Enhanced 10 Gbps pluggable module)     Page ixPublished       SFF-8431, Revision 4.1

   D.13.1 Test Description and Procedure for Host Receiver for Linear Module...........................89    D.13.2 Host Linear Tester calibration.......................................................................................................90         D.14   Linear Module Receiver Compliance Tests .............................................................................................91     D.14.1 Linear Module receiver noise compliance test.......................................................................91     D.14.2 linear Module Receiver Distortion Penalty Compliance Test............................................93     D.14.3 Linear Module Receiver Output Differential Peak-Peak Voltage .....................................94         D.15   AC Common Mode Voltage..........................................................................................................................95     D.15.1 Definition of AC Common Mode Voltage ................................................................................95     D.15.2 AC Common Mode Generation Test ..........................................................................................95     D.15.3 AC Common Mode Tolerance Test..............................................................................................95         D.16   Termination Mismatch ..................................................................................................................................95         D.17   Power Supply Testing methodology.........................................................................................................96     D.17.1 Host Power Supply Noise Output ...............................................................................................97     D.17.2 SFP+ Module Power Supply Noise Output..............................................................................99     D.17.3 Module Power Supply Tolerance Testing .................................................................................99

Appendix E     SFP+ Direct Attach Cable Specifications “10GSFP+Cu” (Optional)    ........... 101         E.1    10GSFP+Cu Direct Attach Construction............................................................................................... 101         E.2    SFP+ Host Output Specifications for Passive Direct Attach Cables ............................................ 102    E.2.1  Transmitter Stressor ...................................................................................................................... 102         E.3    SFP+ Host Receiver Supporting 10GSFP+Cu Input Compliance Test Signal Calibrated at C”104    E.3.1  Copper Host Receiver Specifications...................................................................................... 104    E.3.2  Copper Host Stress Generator 1 UI Pulse Response.......................................................... 105         E.4    SFP+ Passive Direct Attach cable Assembly Specifications........................................................... 107    E.4.1  SFP+ Direct Attach Cable Test Setup ...................................................................................... 108    E.4.2  Cable dWDP Test Procedure....................................................................................................... 109    E.4.3  Cable NEXT Measurement Procedure..................................................................................... 109    E.4.4  VMA to Crosstalk Ratio (VCR)..................................................................................................... 110

Appendix F     1.25 GBd Operation Support (Optional)    ............. ........................................ 112         F.1    Introduction.................................................................................................................................................... 112         F.2    SFP+ Host Operation Guideline for Supporting Classic SFP ......................................................... 112

Appendix G     Matlab Code for TWDP     ......................................... ........................................ 115


SFP+ (Enhanced 10 Gbps pluggable module)     Page x Published       SFF-8431, Revision 4.1

        List of Tables

 Table 1     SFP+ Standard Compliance .......................................................................................................... 2 Table 2     Host Board Achievable Trace Length .......................................................................................... 3  Table 3     SFP+ Module and Host Electrical contact definition................................................................ 6  Table 4     Rate Select Hardware Control Contacts...................................................................................... 9  Table 5     Low Speed Module Electrical Specifications ............................................................................ 10  Table 6     Low Speed Host Electrical Specifications .................................................................................10 Table 7     Timing Parameters for SFP+ Management............................................................................... 11 Table 8     SFP+ Module Power Supply Requirements .............................................................................. 18 Table 9     SFI Supported signalling Rates................................................................................................... 20 Table 10    SFI Reference Points .................................................................................................................... 21 Table 11     Host Transmitter Output Electrical Specifications at B .......................................................... 28 Table 12     Host Transmitter Output Jitter and Eye Mask Specifications at B......................................... 29 Table 13     Host Receiver Input Electrical Specifications at C and C” ..................................................... 30 Table 14     Host receiver supporting limiting module input compliance test signal calibrated at C”.. 31 Table 15     Host receiver supporting linear module input compliance test signal calibrated at C”...... 34 Table 16     Module Transmitter Input Electrical Specifications at B’ ....................................................... 35 Table 17    Module Transmitter Input Tolerance Signal Calibrated at B” ................................................ 36 Table 18     Module Receiver Output Electrical Specifications at C’ ......................................................... 37 Table 19     Limiting Module Receiver Output Jitter and Eye Mask Specifications at C’........................ 38 Table 20     Linear Module Receiver Specifications at C’ ............................................................................ 39 Table 21     2-Wire Interface Electrical Specifications................................................................................. 41 Table 22     SFP+ 2-wire Timing Specifications............................................................................................ 43 Table 23    SFP+ Memory Specifications...................................................................................................... 43 Table 24    SFP+ Device Address Word........................................................................................................ 45 Table 25    SFI Host Interconnect Budget .................................................................................................... 50 Table 26     ASIC/SerDes Transmitter Output Electrical Specifications at A........................................... 55 Table 27     ASIC/SerDes Receiver Electrical Input Specifications at D.................................................... 55 Table 28    Host Compliance Board Part List .............................................................................................. 60 Table 29    Module Compliance Board Part List ......................................................................................... 65 Table 30     Estimated parameter values for an ideal stressed signal generator........................................ 82 Table 31    Target RNi Values......................................................................................................................... 93 Table 32     Truncated Filter Response Coefficients..................................................................................... 98 Table 33     SFP+ Host Transmitter Output Specifications at B for Cu ................................................... 102 Table 34    10GSFP+Cu TWDPc Stressor .................................................................................................. 103 Table 35    10GSFP+ Host receiver input stress Generator at C”............................................................ 104 Table 36    Stress Generator 1 UI Pulse Response with 8x Over-sampling............................................ 106 Table 37     10GSFP+Cu Cable Assembly Specifications at B’ and C’ ..................................................... 107

 SFP+ (Enhanced 10 Gbps pluggable module)        Page xiPublished       SFF-8431, Revision 4.1

Table 38    INF-8074i Voltage Levels for Reference Only ....................................................................... 112 Table 39    SFP+ Host Transmitter Requirements to Support 1.25 GBd Mode ................................... 113 Table 40    SFP+ Host Receiver Requirements to Support 1.25 GBd Mode......................................... 113 Table 41    SFP Module input and output ranges that can be supported by the SFP+ Host............... 114


SFP+ (Enhanced 10 Gbps pluggable module)        Page xiiPublished       SFF-8431, Revision 4.1

      List of Figures

Figure 1    Host PCB SFP+ pad assignment top view ................................................................................. 5 Figure 2    SFP+ module contact assignment............................................................................................... 5 Figure 3    Power on initialization of module, Tx_Disable negated ....................................................... 12 Figure 4    Power on initialization of module, Tx_Disable asserted....................................................... 13 Figure 5    Example of initialization during hot plugging, Tx_Disable negated................................... 13 Figure 6    Management of module during normal operation, Tx_Disable implemented.................. 14 Figure 7    Occurrence of condition generating Tx_Fault........................................................................ 14 Figure 8    Successful recovery from transient safety fault condition..................................................... 15 Figure 9    Unsuccessful recovery from safety fault condition ................................................................ 16 Figure 10   Timing of Rx_LOS detection..................................................................................................... 16 Figure 11   Instantaneous and sustained peak current for VccT or VccR.............................................. 19 Figure 12   SFI Application Reference Model............................................................................................. 20 Figure 13   Host Compliance Board............................................................................................................. 22 Figure 14   Module Compliance Board........................................................................................................ 23 Figure 15   ASIC/SerDes Test Board............................................................................................................ 23 Figure 16   Host input calibration point C” and crosstalk source calibration point B”........................ 24 Figure 17   Module input calibration point B” and crosstalk source calibration point C”................... 25 Figure 18   SFI Termination and AC Coupling.......................................................................................... 26 Figure 19   Transmitter Differential Output Compliance Mask at B and B” ......................................... 29 Figure 20   Host Receiver Input Compliance Mask at C” Supporting Limiting Module ..................... 32 Figure 21   SR and LR Host Sinusoidal Jitter Tolerance Mask................................................................. 32 Figure 22   Module Transmitter Differential Input Compliance Mask at B”......................................... 36 Figure 23   Limiting Module Receiver Differential Output Compliance Mask at C’ ............................ 38 Figure 24   LRM module receiver RN and dWDP compliance and host receiver test calibration...... 40 Figure 25   2-wire Timing Diagram ............................................................................................................. 42 Figure 26   Detail of Clock Stretching.......................................................................................................... 42 Figure 27   Current Address Read Operation............................................................................................. 46 Figure 28   Random Read .............................................................................................................................. 47 Figure 29   Sequential Address Read Starting at Current Word Address............................................... 47 Figure 30   Sequential Address Read Starting with Random Read .......................................................... 48 Figure 31   SFP+ Write Byte Operation....................................................................................................... 48 Figure 32   Sequential Write Operation....................................................................................................... 49 Figure 33   Example of SFI Host Recommended Channel........................................................................ 51 Figure 34   Approximate Response of Host Compliance Board .............................................................. 57 Figure 35   Approximate Transfer Response of Module Compliance Board......................................... 58 Figure 36   Host Compliance Board stack-up............................................................................................. 59 Figure 37   Schematic of the Host Compliance Board............................................................................... 61 Figure 38   Module Compliance Board stack up ........................................................................................ 62 Figure 39   Schematic of The Module Compliance Board ........................................................................ 64 Figure 40   Measurements Port Definition.................................................................................................. 66 Figure 41   Maximum Differential Response of mated MCB and HCB.................................................. 67 Figure 42   Mated MCB-HCB Differential Through Response Limits.................................................... 68

SFP+ (Enhanced 10 Gbps pluggable module)        Page xiiiPublished       SFF-8431, Revision 4.1

Figure 43   Maximum Common Mode Response of mated MCB and HCB.......................................... 69 Figure 44   Maximum Differential to Common Mode Response of mated MCB and HCB................ 70 Figure 45   Maximum Differential NEXT Response of mated MCB and HCB ..................................... 71 Figure 46   Eye mask measurement setup - block diagram....................................................................... 73 Figure 47   DDJ Test Method........................................................................................................................ 74 Figure 48   Example xMA waveform showing xMA measurement windows........................................ 78 Figure 49   Compliance signal generator for module transmitter ........................................................... 81 Figure 50   Jitter Tolerance Test Configuration ......................................................................................... 84 Figure 51   Stressed eye jitter components .................................................................................................. 84 Figure 52   TP3 to electrical adaptor for host that operates with linear modules.................................. 89 Figure 53   Linear Module Receiver Noise Test.......................................................................................... 91 Figure 54   Module receiver waveform penalty compliance test.............................................................. 93 Figure 55   AC Termination Mismatch Measurement.............................................................................. 96 Figure 56   Module Compliance Board Power Supply Filters .................................................................. 97 Figure 57   Reference filter response ............................................................................................................ 98 Figure 58   Power Supply Noise Tolerance Test Setup............................................................................ 100 Figure 59   10GSFP+Cu Direct Attach Block Diagram........................................................................... 102 Figure 60   10GSFP+Cu TWDPc Stressor Impulse Response................................................................ 103 Figure 61   Block Diagram of Copper Stressor Noise Model.................................................................. 105 Figure 62   Stress Generator 1UI Pulse Response with 8x over-sampling............................................ 105 Figure 63   10GSFP+ Cable Test Setup ...................................................................................................... 108 Figure 64   10GSFP+Cu Cable NEXT dWDP Test Setup ....................................................................... 109 Figure 65   SFP+ Host Transmitter Output Mask for 1.25 GBd Operation ......................................... 113 Figure 66   SFP+ Host Receiver Input Mask for 1.25 GBd Operation .................................................. 114


SFP+ (Enhanced 10 Gbps pluggable module)        Page xivSFF-8431       Scope of SFP+ Specification        July 6, 2009 REVISION 4.1    PUBLISHED

CHAPTER 1 SCOPE OF SFP+ SPECIFICATION


1.1  INTRODUCTION This specification defines the electrical interfaces and their test methods be- tween the SFP+ module and host board for operation up to 11.1 GBd. The high  speed electrical interface between the host and SFP+ module is called “SFI”. SFI  simplifies the module and leverages host based transmit pre-emphasis and  host based receive equalization to overcome PCB and external media impair- ments.

       SFI typically operates with one connector at the module interface and up to  about 200 mm of improved FR4 material or 150 mm of standard FR4, see 1.3.   The electrical interface is based on high speed, low voltage AC coupled logic   with a nominal differential impedance of 100 Ω.

 The SFP+ specifications includes management, connector1, mechanical2, low  speed signalling, high speed signalling, and appendices providing parameter  and test board definitions, and implementation and measurement descrip- tions.

       SFP+ modules are hot pluggable and active connections are powered by indi- vidual power connections for the transmitter (VccT) and the receiver (VccR).  Multiple modules can share a single 3.3 V power supply with individual fil- tering for each VccT and VccR. Detailed power supply specifications are given  in 2.8.

 All SFP+ module compliance points are defined and measured through the   mated reference test card as defined by C.3. All SFP+ host compliance points  are defined and measured through the mated reference test card as defined by  C.2.

       The SFP+ module could be an electrical-to-optical or an electrical-to-electrical  device intended to support one or more of the applications listed in Table 1.

       It is expected that a range of SFP+ modules will operate on single-mode fiber,  multimode fiber, and SFP+ electrical cable assemblies.

       SFP+ compliant hosts are permitted to support just linear modules, just lim- iting modules, or both linear and limiting modules. Linear modules are mod- ules which contain a linear receiver. Limiting modules are modules which  contain a limiting receiver. Although not required, host supporting linear specifications are encouraged to support 10GSFP+Cu direct attach cables (Ap-           pendix E). For other copper variants see SFF-8461.
介绍
本规范定义了SFP +模块和主机板之间的电气接口及其测试方法，最高可达11.1 GBd。主机与SFP +模块之间的高速电接口称为“SFI”。 SFI简化了模块，并利用基于主机的传输预加重和基于主机的接收均衡来克服PCB和外部介质损伤。

                             SFI通常在模块接口处使用一个连接器，高达约200 mm的改进的FR4材料或150 mm的标准FR4，见1.3。电气接口基于标称差分阻抗为100Ω的高速，低压交流耦合逻辑。

 SFP +规范包括管理，连接器1，机械2，低速信号，高速信号，以及提供参数和测试板定义的附录以及实施和测量描述。

                             SFP +模块是可热插拔的，主动连接由发射机（VccT）和接收机（VccR）的单独电源连接供电。多个模块可以为每个VccT和VccR共享单个3.3 V电源，并提供单独的滤波。详细的电源规格见2.8。

 通过C.3定义的配对参考测试卡定义和测量所有SFP +模块符合点。通过C.2定义的配对参考测试卡定义和测量所有SFP +主机合规点。

                             SFP +模块可以是旨在支持表1中列出的一个或多个应用的​​电对光学或电 - 电设备。

                             预计一系列SFP +模块将在单模光纤，多模光纤和SFP +电缆组件上运行。

                             允许符合SFP +标准的主机只支持线性模块，只限制模块，或线性模块和限位模块。线性模块是包含线性接收器的模块。限制模块是包含限制接收器的模块。尽管不是必需的，但是鼓励支持线性规范的主机支持10GSFP + Cu直连电缆（附录E）。对于其他铜型号，请参阅SFF-8461。

1.2  THE SFP+ SUPPORTED STANDARDS
An SFP+ module may comply with any combination of the standards shown in Table 1, and may be suitable for other or future standards. This specification does not preclude operation at other signalling rates not listed in this table, such as 2.125 GBd for 2GFC, or 4.25 GBd for 4GFC.

          Due to the possibility of insertion of classic SFP modules into a host designed for SFP+ the damage threshold of the host for the input signal at C (see Figure 13) shall be at least 2000 mV peak to peak differential.
SFP +模块可以遵守表1所示标准的任何组合，并且可能适用于其他或未来的标准。 本规范并不排除本表未列出的其他信令速率的操作，例如2GFC为2.125 GBd，4GFC为4.25 GBd。

           由于将经典SFP模块插入到为SFP +设计的主机的可能性，C端的输入信号的主机的损坏阈值（见图13）应至少为2000 mV峰 - 峰差。

          Table 1  SFP+ Standard Compliance

  Standard       Signalling  High Speed   High Speed      Low Speed     Low Speed    Management     Mechanical/ Rate        Serial       Serial Test     Electrical   Test Methods       Connector (GBd)      Interface    Method         Definitions

  IEEE 802.3 Clause 38 or     1.25      802.3 Clause    Clause 59 (1 Gb/s Ether-    38 or 59    net)     Appendix F

  8 GFC  8.5       FC-PI-4        FC-PI-4

  10GSFP+Cu       10.3125     Chapter 3    Appendix D Appendix E    Appendix E

  IEEE 802.3 Clause 52 (10   10.3125    Chapter 2    Appendix D      Chapter 4     SFF-8432   Gb/s Ethernet LAN PHY)     SFF-8472,     SFF-8083 SFF-8079,    IEEE 802.3 Clause 52 (10   9.95328    SFF-8089   Gb/s Ethernet WAN PHY)   Chapter 3    Appendix D   IEEE 802.3 Clause 68       10.3125   (LRM)

  10 GFC         10.51875

  10GBASE-R (IEEE 802.3       11.10   Clause 49) Encapsulated    in G.709 ODU-2 Frame    (FEC)


SFP+ (Enhanced 10 Gbps Pluggable Module)        Page 2SFF-8431 Scope of SFP+ Specification   July 6, 2009 REVISION 4.1           PUBLISHED

1.3  SFI TYPICAL PCB REACH (INFORMATIVE)
The SFI channel may be implemented with either microstrip or stripline structures. Example host board designs with typical PCB trace reaches are shown in Table 2. Detailed channel properties and recommendations are documented in Appendix A.
1.3 SFI典型PCB达到（信息）
SFI通道可以用微带线或带状线结构来实现。 具有典型PCB走线的示例主机板设计如表2所示。附录A中列出了详细的通道特性和建议。

      Table 2  Host Board Achievable Trace Length

        Copper  Trace Width   Copper         Trace Length           Type Material  Loss Tangent     Thickness (oz)     (mm)    Thickness (μm)       (mm)          see 1

    Microstrip           FR4-6/8  0.3  0.022   1 35       200

           Nelco 4000-13          0.3  0.016   1    35    300

    Stripline FR4-6/8           0.125  0.022  0.5  17.5   150

           Nelco 4000-13        0.125  0.016  0.5  17.5   200        1. Copper (oz) is defined as an ounce of copper over one square foot of laminate.


SFP+ (Enhanced 10 Gbps Pluggable Module)        Page 3SFF-8431            Low Speed Electrical and Power Specifications       July 6, 2009 REVISION 4.1    PUBLISHED

CHAPTER 2 LOW SPEED ELECTRICAL AND POWER SPECIFICATIONS


2.1  INTRODUCTION
The SFP+ low speed electrical interface has several enhancements over the  classic SFP interface (INF-8074i), but the SFP+ host can be designed to also  support most legacy SFP modules. SFP+ 2-wire interface electrical and timing  specifications are defined in Chapter 4, and the SFP+ 2-wire interface manage- ment and register map are defined by SFF-8472.
2.1引言
SFP +低速电接口与传统的SFP接口（INF-8074i）相比具有多种增强功能，但SFP +主机也可以支持大多数传统SFP模块。 SFP + 2线接口电气和时序规范在第4章中定义，SFP + 2线接口管理和寄存器映射由SFF-8472定义。

2.2  GENERAL REQUIREMENTS
The SFP+ modules are hot-pluggable. Hot pluggable refers to plugging in or  unplugging a module while the host board is powered.

       The module signal ground contacts VeeR and VeeT should be isolated from  module case.

 All electrical specifications shall be met over the entire specified range of  power supplies given in section 2.8.
2.2一般要求
SFP +模块可热插拔。 热插拔是指在主板供电时插入或拔出模块。

        模块信号接地触点VeeR和VeeT应与模块外壳隔离。

  所有电气规格应在2.8节给出的电源的整个规定范围内满足。

2.3  SFP+ HOST CONNECTOR DEFINITION
The SFP+ host connector is a 0.8 mm pitch 20 position improved connector  specified by SFF-8083, or stacked connector with equivalent electrical perfor- mance. Host PCB contact assignment is shown in Figure 1 and contact defini-  tions are given in Table 3. SFP+ module contacts mate with the host in the  order of ground, power, followed by signal as illustrated by Figure 2 and the   contact sequence order listed in Table 3.
2.3 SFP +主机连接器定义
SFP +主机连接器是由SFF-8083或具有等效电气性能的堆叠式连接器指定的0.8 mm间距20位改进连接器。 主机PCB触点分配如图1所示，触点定义如表3所示。SFP +模块触点按照接地，电源顺序与主机配合，其次为图2所示的信号， 表3。

SFP+ (Enhanced 10 Gbps Pluggable Module)          Page 4SFF-8431     Low Speed Electrical and Power Specifications   July 6, 2009 REVISION 4.1    PUBLISHED


        VEER   10           11     VEER        RS1   9           12     RD-      RX_LOS   8           13    RD+          RS0   7           14   VEER    MOD_ABS     6           15  VCCR          SCL   5          TOWARD HOST  VCCT  TOWARD          16    4          WITH DIRECTION     SDA        BEZEL          OF MODULE    VEET          17          TX_DISABLE  3          INSERTION           18   TD+     TX_FAULT   2           19   TD-          VEET  1           20   VEET

     Figure 1  Host PCB SFP+ pad assignment top view


      10         11


     BOTTOM OF   TOP VIEW   TOWARD HOST          BOARD AS    OF BOARD      VIEWED FROM   WITH DIRECTION       TOP THROUGH   OF MODULE            BOARD   INSERTION

      1          20


         Figure 2  SFP+ module contact assignment


SFP+ (Enhanced 10 Gbps Pluggable Module)    Page 5SFF-8431   Low Speed Electrical and Power Specifications            July 6, 2009 REVISION 4.1           PUBLISHED


   Table 3  SFP+ Module and Host Electrical contact definition

  Power            1   Contacts      Logic        Symbol     Sequence    Name/Description     Note   Order   case          case           See 2    Module case   1  VeeT 1st     Module Transmitter Ground 3   2          LVTTL-O       Tx_Fault        3rd     Module Transmitter Fault  4   3          LVTTL-I       Tx_Disable      3rd     Transmitter Disable; Turns off transmitter laser output           5   4          LVTTL-I/O     SDA  3rd     2-wire Serial Interface Data Line (Same as MOD-DEF2 in INF-8074i) 6

  5          LVTTL-I/O     SCL  3rd     2-wire Serial Interface Clock (Same as MOD-DEF1 in INF-8074i)     6

  6  Mod_ABS         3rd     Module Absent, connected to VeeT or VeeR in the module 7   7          LVTTL-I       RS0  3rd     Rate Select 0, optionally controls SFP+ module receiver.          8

  8          LVTTL-O       Rx_LOS          3rd     Receiver Loss of Signal Indication (In FC designated as Rx_LOS and in 4            Ethernet designated as Signal Detect)   9          LVTTL-I       RS1  3rd     Rate Select 1, optionally controls SFP+ module transmitter        8

  10            VeeR 1st     Module Receiver Ground    3   11            VeeR 1st     Module Receiver Ground    3   12         CML-O         RD-  3rd     Receiver Inverted Data Output   13         CML-O         RD+  3rd     Receiver Non-Inverted Data Output   14            VeeR 1st     Module Receiver Ground    3   15            VccR 2nd     Module Receiver 3.3 V Supply   16            VccT 2nd     Module Transmitter 3.3 V Supply   17            VeeT 1st     Module Transmitter Ground 3   18         CML-I         TD+  3rd     Transmitter Non-Inverted Data Input   19         CML-I         TD-  3rd     Transmitter Inverted Data Input   20            VeeT 1st     Module Transmitter Ground 3

1. Labeling as inputs (I) and outputs (O) are from the perspective of the module   
2. The case makes electrical contact to the cage before any of the board edge contacts are made.   
3. The module signal ground contacts, VeeR and VeeT, should be isolated from the module case.   
4. This contact is an open collector/drain output contact and shall be pulled up on the host see 2.4.1 and 2.4.6. Pull ups can be connected to    one of several power supplies, however the host board design shall ensure that no module contact has voltage exceeding module VccT/R +    0.5 V.   
5. Tx_Disable is an input contact with a 4.7 kΩ to 10 kΩ pullup to VccT inside the module.   
6. See 4.2.   
7. See 2.4.4.   
8. For SFF-8431 rate select definition see section 2.4.3 and 2.5. (If implementing SFF-8079 contact 7 and 9 in SFF-8431 are used for AS0 and    AS1 respectively).
1.作为输入（I）和输出（O）的标签是从模块2的角度出发的。在制作任何板边缘触点之前，该情况使电气接触到保持架。 3.模块信号接地触点VeeR和VeeT应与模块外壳隔离。 4.该接点是集电极/漏极开路触点，应在主机上拉起，见2.4.1和2.4.6。 上拉电阻可以连接到多个电源之一，但是主机板设计应确保模块接触电压不超过VccT / R + 0.5 V模块。5. Tx_Disable是4.7kΩ至10kΩ上拉电阻的输入触点 模块内的VccT。 见4.2。 7.见2.4.4。 8. SFF-8431速率选择定义见2.4.3和2.5。 （如果在SFF-8431中实现SFF-8079触点7和9分别用于AS0和AS1）。


SFP+ (Enhanced 10 Gbps Pluggable Module)        Page 6SFF-8431            Low Speed Electrical and Power Specifications       July 6, 2009 REVISION 4.1    PUBLISHED

2.4  LOW SPEED ELECTRICAL CONTROL CONTACTS AND 2-WIRE INTERFACE
In addition to the 2-wire serial interface, the SFP+ module has the following  low speed contacts for control and status:

    •  Tx_Fault     •  Tx_Disable     •  RS0/RS1     •  Mod_ABS     •  Rx_LOS 2.4.1
TX_FAULT Tx_Fault is a module output that when high, indicates that the module trans- mitter has detected a fault condition related to laser operation or safety. If  Tx_Fault is not implemented, the Tx_Fault contact signal shall be held low by  the module and may be connected to Vee within the module.    The     Tx_Fault output is an open drain/collector and shall be pulled up to the  Vcc_Host in the host with a resistor in the range 4.7 kΩ to 10 kΩ, or with an ac- tive termination according to Table 6.
2.4低速电气控制触点和2线接口
除了2线串行接口外，SFP +模块还具有以下低速触点，用于控制和状态：

     •Tx_Fault•Tx_Disable•RS0 / RS1•Mod_ABS•Rx_LOS 2.4.1
TX_FAULT Tx_Fault是一个模块输出，当高电平时，表示模块发送器检测到与激光器操作或安全相关的故障状态。 如果Tx_Fault未实现，则Tx_Fault触点信号应由模块保持低电平，并可连接到模块内的Vee。 Tx_Fault输出是开路漏极/集电极，必须上拉至主机中的Vcc_Host，电阻的阻值范围为4.7kΩ至10kΩ，或根据表6激活端接。

2.4.2  TX_DISABLE
When Tx_Disable is asserted high or left open, the SFP+ module transmitter  output shall be turned off unless the module is a passive cable assembly (see  Appendix E) in which case this signal may be ignored. This contact shall be  pulled up to VccT with a 4.7 kΩ to 10 kΩ resistor in modules and cable assem-  blies. Tx_Disable is a module input contact.

 When Tx_Disable is asserted low or grounded the module transmitter is operating normally.
2.4.2 TX_DISABLE
当Tx_Disable被置为高电平或断开时，除非模块是无源电缆组件（见附录E），否则SFP +模块变送器输出将被关闭，在这种情况下，该信号可能会被忽略。 该模块和电缆组件中的触点应拉高至VccT至4.7kΩ至10kΩ电阻。 Tx_Disable是一个模块输入联系人。

  当Tx_Disable被置为低电平或接地时，模块变送器正常工作。

2.4.3  RS0/RS1
RS0 and RS1 are module inputs and are pulled low to VeeT with > 30 kΩ resis- tors in the module. RS0 optionally selects the optical receive signaling rate  coverage. RS1 optionally selects the optical transmit signaling rate coverage.  For logical definitions of RS0/RS1 see 2.5.

       These contacts can also be used for AS0 and AS1 if implementing SFF8079.    See SFF8079 for details.

       RS1 is commonly connected to VeeT or VeeR in the classic SFP modules. The  host needs to ensure that it will not be damaged if this contact is connected to  VeeT or VeeR in the module.
2.4.3 RS0 / RS1
RS0和RS1是模块输入，并被拉低到模块中具有> 30kΩ电阻的VeeT。 RS0可选择选择光接收信令速率覆盖。 RS1可选地选择光发送信令速率覆盖。 对于RS0 / RS1的逻辑定义见2.5。

        如果实施SFF8079，这些触点也可以用于AS0和AS1。 详见SFF8079。

        RS1通常连接到经典SFP模块中的VeeT或VeeR。 如果该联系人连接到模块中的VeeT或VeeR，主机需要确保不会损坏它。

SFP+ (Enhanced 10 Gbps Pluggable Module)          Page 7SFF-8431            Low Speed Electrical and Power Specifications       July 6, 2009 REVISION 4.1    PUBLISHED

2.4.4  MOD_ABS
Mod_ABS is connected to VeeT or VeeR in the SFP+ module. The host may pull  this contact up to Vcc_Host with a resistor in the range 4.7 kΩ to10 kΩ.  Mod_ABS is asserted “High” when the SFP+ module is physically absent from  a host slot. In the SFP MSA (INF-8074i) this contact has the same function but  is called MOD_DEF0.
2.4.4 MOD_ABS
Mod_ABS连接到SFP +模块中的VeeT或VeeR。 主机可以使用4.7kΩ至10kΩ范围内的电阻将此触点拉至Vcc_Host。 当SFP +模块在主机插槽中物理上不存在时，Mod_ABS被置为“高”。 在SFP MSA（INF-8074i）中，该联系人具有相同的功能，称为MOD_DEF0。

2.4.5  SCL/SDA
SCL is the 2-wire interface clock and SDA is the 2-wire interface data line. SCL  and SDA are pulled up to Vcc_Host_2w by resistors in the host. For full specifi- cations see Chapter 4.
2.4.5 SCL / SDA
SCL是2线接口时钟，SDA是2线接口数据线。 SCL和SDA由主机中的电阻上拉至Vcc_Host_2w。 有关详细说明，请参见第4章。

2.4.6  RX_LOS
Rx_LOS when high indicates an optical signal level below that specified in the  relevant standard. Rx_LOS is an open drain/collector output, but may also be  used as an input by supervisory circuitry in the module. For a nominally 3.3 V  Vcc_Host using a resistive pull up to Vcc_Host the resistor value shall be in the  range 4.7 kΩ to 10 kΩ. For a nominally 2.5 V Vcc_Host using a resistive pull up  to Vcc_Host the resistor value shall be in the range 4.7 kΩ to 7.2 kΩ. Alterna- tively, an active termination according to Table 6 may be used.

       The Rx_LOS signal is intended as a preliminary indication to the host in which  the module is installed that the received signal strength is below the specified  range. Such an indication typically points to non-installed cables, broken ca- bles, or a disabled, failing or a powered off transmitter at the far end of the  cable. Additional indications are provided by the host in which the module is  installed to verify that the information being transmitted is valid, correctly en- coded, and in the correct format. Such additional indications are outside the  scope of the module specification.

       Rx_LOS may be an optional function depending on the supported standard. If  the Rx_LOS function is not implemented, or is reported via the two-wire inter- face only, the Rx_LOS contact shall be held low by the module and may be con- nected to Vee within the module.

       Rx_LOS assert min and de-assert max are defined in the relevant standard. To  avoid spurious transition of Rx_LOS a minimum hysteresis of 0.5 dBo is recom- mended.
2.4.6 RX_LOS
Rx_LOS在高电平时表示光信号电平低于相关标准规定的电平。 Rx_LOS是开路漏极/集电极输出，但也可以用作模块中监控电路的输入。对于名义上3.3 V Vcc_Host，使用电阻上拉至Vcc_Host，电阻值应在4.7kΩ至10kΩ的范围内。对于名义上为2.5 V Vcc_Host的Vcc_Host电阻上拉至Vcc_Host，电阻值应在4.7kΩ至7.2kΩ的范围内。或者，可以使用根据表6的活动终端。

       Rx_LOS信号旨在作为对其中安装模块的主机的接收信号强度低于指定范围的初步指示。这种指示通常指向电缆远端的未安装的电缆，断开的电缆，或禁用的，故障的或断电的发送器。附加指示由安装模块的主机提供，以验证正在发送的信息是否有效，正确编码，并以正确的格式。这些附加指示超出了模块规范的范围。

       Rx_LOS可能是可选功能，具体取决于支持的标准。如果Rx_LOS功能未实现，或仅通过双线接口报告，Rx_LOS触点应由模块保持低电平，并可在模块内连接到Vee。

       Rx_LOS assert min和de-assert max在相关标准中定义。为了避免Rx_LOS的虚假转换，建议使用0.5 dBo的最小滞后。

2.5  RATE SELECT HARDWARE CONTROL
The SFP+ module provides two inputs RS0 and RS1 that can optionally be used  for rate selection. RS0 controls the receive path signalling rate capability, and  RS1 controls the transmit path signalling rate capability, as defined in Table 4.  The host and module may choose to use either, both, or none of these functions. Because contact 9 in the classic SFP INF-8074i is connected to VeeR, an  SFP+ host utilizing RS1 must provide short circuit protection.
2.5速率选择硬件控制
SFP +模块提供两个可选择用于速率选择的输入RS0和RS1。 RS0控制接收路径信令速率能力，RS1控制发送路径信令速率能力，如表4所定义。主机和模块可以选择使用这两种功能，也可以不使用这些功能。 由于经典SFP INF-8074i中的触点9连接到VeeR，因此使用RS1的SFP +主机必须提供短路保护。


SFP+ (Enhanced 10 Gbps Pluggable Module)          Page 8SFF-8431            Low Speed Electrical and Power Specifications       July 6, 2009 REVISION 4.1    PUBLISHED

       This rate select functionality can also be controlled by software as defined by  SFF-8472.

       Optionally the rate select methods of Part 2 of SFF-8079 may be used instead  of the method described here by setting the management declaration bit (A0h  byte 93 bit 2) to 1, see SFF-8472.
该速率选择功能也可以由SFF-8472定义的软件控制。

        可选地，可以使用SFF-8079的第2部分的速率选择方法来代替这里描述的方法，将管理声明位（A0h字节93位2）设置为1，请参见SFF-8472。

    Table 4  Rate Select Hardware Control Contacts

   Parameter  State         Conditions

       RS0    Low         RX signalling rate less than or equal to 4.25 GBd

       High        RX signalling rate greater than 4.25 GBd

       RS1    Low         TX signalling rate less than or equal to 4.25 GBd

       High        TX signalling rate greater than 4.25 GBd
参数状态条件

        RS0低RX信号速率小于或等于4.25 GBd

        高RX信号速率大于4.25 GBd

        RS1低TX信令速率小于或等于4.25 GBd

        高TX信号速率大于4.25 GBd


2.6  LOW SPEED ELECTRICAL SPECIFICATIONS
SFP+ low speed signalling is based on Low Voltage TTL (LVTTL) operating with  a module supply of 3.3 V +/-5% and with a host supply range of 2.38 to 3.46 V.

       The 2-wire interface protocol and electrical specifications are defined in  Chapter 4.
2.6低速电气规格
SFP +低速信号基于低电压TTL（LVTTL），工作模块电源为3.3 V +/- 5％，主机供电范围为2.38至3.46 V.

        2线接口协议和电气规范在第4章中定义。

2.6.1  MODULE LOW SPEED ELECTRICAL SPECIFICATIONS
The SFP+ module low speed electrical specifications are given in Table 5. All  I/O powered by VccT is referenced to VeeT and similarly VccR is referenced to  VeeR.
2.6.1模块低速电气规格
SFP +模块低速电气规格见表5.所有由VccT供电的I / O都参考VeeT，VccR也参考VccR。


SFP+ (Enhanced 10 Gbps Pluggable Module)          Page 9SFF-8431   Low Speed Electrical and Power Specifications            July 6, 2009 REVISION 4.1           PUBLISHED


 Table 5  Low Speed Module Electrical Specifications

           Parameter   Symbol          Min.          Max.        Unit       Conditions

   Module Vcc         VccT, VccR       3.14           3.46        V

      1        VOL           -0.3           0.40        V      At 0.7 mA     Tx_Fault, Rx_LOS         1        μ  Ω       IOH -50 37.5         A     Measured with a 4.7 k  load pulled up to      Vcc_Host where      Vcc_Host_min<Vcc_host<Vcc_Host_max

       VIL           -0.3           0.8         V    Tx_Disable, RS0, RS1        VIH           2.0         VccT + 0.3     V
1. Positive values indicate current flowing into the module.
正值表示流入模块的电流。

2.6.2  HOST LOW SPEED ELECTRICAL SPECIFICATIONS
The SFP+ Host low speed electrical specifications are given in Table 6. All I/O powered by VccT is referenced to VeeT and similarly VccR is referenced to VeeR.
2.6.2主机低速电气规格
SFP +主机低速电气规格见表6.所有由VccT供电的I / O都参考VeeT，VccR也参考VccR。

   Table 6  Low Speed Host Electrical Specifications

 Parameter Symbol         Min. Max.        Unit       Conditions

   Host Vcc Pullup   Vcc_Host        2.38 3.46         V

      VIL          see 1           see 1        V    Tx_Fault, Rx_LOS       VIH          see 1           see 1        V        Ω       Ω       VOL           -0.3 0.4         V      VOL measured with 4.7 k  to 10 k  pull up     Tx_Disable  to VccT max         Ω       VOH        VccT-0.5        VccT + 0.3     V      VOH measured with 10 k  pull up to VccT      min

      VOL           -0.3 0.4         V      VOL measured with no load    RS0, RS1       Ω       VOH           2.2          VccT + 0.3     V      VOH measured with 30 k  to VeeR.
1. Determined by host design, such that VIH > 2.1 V for the range of IOH in Table 5. One option is using standard LVTTL input with a pullup to Vcc_Host in the range 4.7 kΩ to 10 kΩ
1.由主机设计确定，VIH> 2.1 V表示IOH的范围。一个选项是使用标准LVTTL输入，上拉至Vcc_Host，范围为4.7kΩ至10kΩ

SFP+ (Enhanced 10 Gbps Pluggable Module)       Page 10SFF-8431   Low Speed Electrical and Power Specifications            July 6, 2009 REVISION 4.1           PUBLISHED

2.7  TIMING REQUIREMENT OF CONTROL AND STATUS I/O
The timing requirements of control and status I/O are defined in Table 7.
2.7控制和状态I / O的时序要求
控制和状态I / O的时序要求在表7中定义。

 Table 7  Timing Parameters for SFP+ Management

 Parameter        Symbol          Min.   Max.    Unit         Conditions

  Tx_Disable assert time       t_off      100     μs    Rising edge of Tx_Disable to fall of output signal           below 10% of nominal

  Tx_Disable negate time       t_on        2      ms    Falling edge of Tx_Disable to rise of output signal           above 90% of nominal. This only applies in normal           operation, not during start up or fault recovery.

  Time to initialize 2-wire interface t_2w_start_up  300     ms    From power on or hot plug after the supply meet-          ing Table 8.

  Time to initialize        t_start_up    300     ms    From power supplies meeting Table 8 or hot plug           or Tx disable negated during power up, or           Tx_Fault recovery, until non-cooled power level I           part (or non-cooled power level II part already           enabled at power level II for Tx_Fault recovery) is           fully operational.

  Time to initialize cooled module  t_start_up_cooled           90      s     From power supplies meeting Table 8 or hot plug,    and time to power up a cooled       or Tx disable negated during power up or Tx_Fault    module to Power Level II            recovery, until cooled power level I part (or cooled           power level II part during fault recovery) is fully           operational. Also, from stop bit low-to-high SDA           transition enabling Power Level II until cooled           module is fully operational

  Time to Power Up to Level II       t_power_level2  300     ms    From stop bit low-to-high SDA transition enabling           power level II until non-cooled module is fully           operational

  Time to Power Down from Level II   t_power_down    300     ms    From stop bit low-to-high SDA transition dis-          abling power level II until module is within power           level I requirements

  Tx_Fault assert          Tx_Fault_on     1      ms    From occurrence of fault to assertion of Tx_Fault

  Tx_Fault assert for cooled module Tx_Fault_on_cooled          50      ms    From occurrence of fault to assertion of Tx_Fault

  Tx_Fault Reset   t_reset         10  μs    Time Tx_Disable must be held high to reset           Tx_Fault

  RS0, RS1 rate select timing for FC   t_RS0_FC,     500     μs    From assertion till stable output           t_RS1_FC

  RS0, RS1 rate select timing non FC  t_RS0, t_RS1   24      ms    From assertion till stable output

  Rx_LOS assert delay        t_los_on     100     μs    From occurrence of loss of signal to assertion of           Rx_LOS

  Rx_LOS negate delay        t_los_off    100     μs    From occurrence of presence of signal to negation           of Rx_LOS


SFP+ (Enhanced 10 Gbps Pluggable Module)       Page 11SFF-8431            Low Speed Electrical and Power Specifications       July 6, 2009 REVISION 4.1    PUBLISHED


2.7.1   MODULE POWER ON INITIALIZATION PROCEDURE, TX_DISABLE NEGATED
During power on of the module, Tx_Fault, if implemented, may be asserted  (high) as soon as power supply voltages are within specification. For module  initialization with Tx_Disable negated, Tx_Fault shall be negated when the  transmitter safety circuitry, if implemented, has detected that the transmitter  is operating in its normal state. If a transmitter fault has not occurred, Tx_Fault  shall be negated within a period t_start_up from the time that VccT exceeds  the specified minimum operating voltage (see Table 8). If the Tx_Fault remains   asserted after t_start_up, the host shall determine whether the module is   cooled by reading the status bit over 2-wire interface. If the module is not   cooled, the host may assume that a transmission fault has occurred. If the   module is cooled, the host may assume that a transmission fault has occurred   if Tx_Fault remains asserted beyond t_start_up_cooled.

 The power on initialization timing for a module with Tx_Disable negated is   shown in Figure 3.
2.7.1模块上电初始化程序，TX_DISABLE NEGATED
在模块上电期间，如果实现了Tx_Fault，一旦电源电压在规定范围内，就可以断言（高电平）。对于Tx_Disable否定的模块初始化，当发射机安全电路（如果实施）已经检测到发射机正在其正常状态下工作时，Tx_Fault将被否定。如果没有发生发射机故障，Tx_Fault将在VccT超出指定的最小工作电压时间（t_start_up）的时间内被否定（见表8）。如果Tx_Fault在t_start_up之后保持置位，则主机将通过读取2线接口上的状态位来确定模块是否被冷却。如果模块没有冷却，主机可能会认为发生了传输故障。如果模块被冷却，如果Tx_Fault保持断言超过t_start_up_cooled，主机可能会认为发生了传输故障。

 Tx_Disable否定模块的初始化时序功率如图3所示。


       VCCT>3.14

       Tx_Fault

       Tx_Disable

       Transmitted Signal

  t_start_up (or t_start_up_cooled)

     Figure 3  Power on initialization of module, Tx_Disable negated

2.7.2  MODULE POWER ON INITIALIZATION PROCEDURE, TX_DISABLE ASSERTED.
For module power on initialization with Tx_Disable asserted, the state of  Tx_Fault is not defined while Tx_Disable is asserted. After Tx_Disable is ne- gated, Tx_Fault may be asserted while safety circuit initialization is performed.  Tx_Fault shall be negated when the transmitter safety circuitry, if imple- mented, has detected that the transmitter is operating in its normal state. If a  transmitter fault has not occurred, Tx_Fault shall be negated within a period  t_start_up from the time that Tx_Disable is negated. If Tx_Fault remains as- serted beyond the period t_start_up, the host may assume that a transmission  fault has been detected by the module.
2.7.2模块上电初始化步骤，TX_DISABLE ASSERTED。
对于使用Tx_Disable置位的模块上电初始化，Tx_Disable置位时Tx_Fault的状态未定义。 在Tx_Disable置位之后，Tx_Fault可能在执行安全电路初始化时被置位。 当变送器安全电路（如果实施）检测到变送器工作在正常状态时，Tx_Fault将被否定。 如果没有发生发射机故障，则Tx_ault在从Tx_Disable被否定的时间段内的t_start_up期间将被否定。 如果Tx_Fault保持在t_start_up周期之外，主机可能会认为模块检测到传输故障。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 12SFF-8431            Low Speed Electrical and Power Specifications       July 6, 2009 REVISION 4.1    PUBLISHED

       If no transmitter safety circuitry is implemented, the Tx_Fault signal may be  tied to its negated state.

       The power on initialization timing for a module with Tx_Disable asserted is  shown in Figure 4.
如果没有实现发射机安全电路，则Tx_Fault信号可能会被绑定到它的否定状态。

        具有Tx_Disable的模块的初始化时序的上电功能如图4所示。

         VCCT>3.14

         Tx_Fault

         Tx_Disable

         Transmitted Signal

   t_start_up (or t_start_up_cooled)

     Figure 4  Power on initialization of module, Tx_Disable asserted

2.7.3  INITIALIZATION DURING HOT PLUGGING
When a module is not installed, Tx_Fault is held to the asserted state by the  pull up circuits on the host. As the module is installed, contact is made with the  ground, voltage, and signal contacts in the specified order. After the module  has determined that VccT has reached the specified value, the power on initial- ization takes place as described in the previous section. An example of initial- ization during hot plugging is provided in Figure 5.
2.7.3热插拔时的初始化
当未安装模块时，Tx_Fault由主机上拉电路保持到被断言状态。 随着模块的安装，按照指定的顺序与地面，电压和信号触点进行接触。 在模块确定VccT达到指定值后，初始化电源将按照上一节所述进行。 图5中提供了热插拔时的初始化示例。

  VCCT>3.14

  Tx_Fault

  Tx_Disable

  Transmitted Signal

        t_start_up (or t_start_up_cooled)

   Figure 5  Example of initialization during hot plugging, Tx_Disable  negated.


SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 13SFF-8431            Low Speed Electrical and Power Specifications       July 6, 2009 REVISION 4.1    PUBLISHED

2.7.4  TRANSMITTER MANAGEMENT
The timing requirements for the management of optical outputs from the  module using the Tx_Disable signal are shown in Figure 6. Note that t_on time  refers to the maximum delay until the modulated optical signal reaches 90%  of the final value, not just the average optical power.
2.7.4发射机管理
使用Tx_Disable信号从模块管理光输出的时序要求如图6所示。请注意，t_on时间是指调制光信号达到最终值的90％的最大延迟，而不仅仅是平均光功率。

      Tx_Fault

      Tx_Disable

      Transmitted Signal

  t_off   t_on

 Figure 6  Management of module during normal operation, Tx_Disable       implemented

2.7.5  TRANSMITTER SAFETY DETECTION AND PRESENTATION
If Tx_Fault is implemented it shall meet the timing requirements of Figure 7.


           Occurrence of transmitter safety fault  Tx_Fault
2.7.5发射机安全检测和演示
如果Tx_Fault被实现，它将满足图7的时序要求。


            发生变送器安全故障Tx_Fault
 Tx_Disable

 Transmitted Signal

      tx_fault_on

         Figure 7  Occurrence of condition generating Tx_Fault


SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 14SFF-8431            Low Speed Electrical and Power Specifications       July 6, 2009 REVISION 4.1    PUBLISHED

2.7.6  MODULE FAULT RECOVERY
The detection of a safety-related transmitter fault condition presented by  Tx_Fault shall be latched. The following protocol may be used to reset the latch  in case the transmitter fault condition is transient.

       To reset the fault condition and associated detection circuitry, Tx_Disable shall  be asserted for a minimum of t_reset. Tx_Disable shall then be negated. Alter- natively the Software Tx disable is asserted and negated. In less than the max- imum value of t_start_up the optical transmitter will correctly reinitialize the  laser circuits, negate Tx_Fault, and begin normal operation if the fault condi- tion is no longer present. If a fault condition is detected during the reinitializa- tion, Tx_Fault shall again be asserted, the fault condition again latched, and  the optical transmitter circuitry will again be disabled until the next time a  reset protocol is attempted. The manufacturer of the module shall ensure that  the optical power emitted from an open connector or fiber is compliant with  applicable eye safety requirements during all reset attempts, during normal  operation or upon the occurrence of reasonable single fault conditions. The  module may require internal protective circuitry to prevent the frequent asser- tion of the Tx_Disable signal from generating frequent pulses of energy that vi- olate the safety requirements. The timing for successful recovery from a  transient safety fault condition is shown in Figure 8.
2.7.6模块故障恢复
由Tx_Fault提供的与安全相关的发射机故障状况的检测应被锁定。在发射机故障状态为瞬态情况下，以下协议可用于复位锁存器。

       要重新设置故障状态和相关的检测电路，Tx_Disable必须至少保留t_reset。然后Tx_Disable将被否定。另外，软件Tx禁用被断言和否定。在小于t_start_up的最大值时，光发射机将正确地重新激活激光电路，否则Tx_Fault，如果故障条件不再存在，则开始正常工作。如果在重新初始化期间检测到故障条件，Tx_Fault将再次被断言，故障条件再次被锁存，并且光发射机电路将再次被禁用，直到下一次尝试复位协议。模块的制造商应确保在正常运行期间或出现合理的单一故障条件时，从开放式连接器或光纤发出的光功率符合所有复位尝试期间的适用眼睛安全要求。该模块可能需要内部保护电路，以防止Tx_Disable信号的频繁断言产生频繁的能量脉冲，从而影响安全性要求。从瞬态安全故障状态恢复成功的时机如图8所示。

 Occurrence of transmit-  ter safety fault  Tx_Fault

 Tx_Disable

 Transmitted Signal


         t_reset

      t_start_up (or t_start_up_cooled)  * SFP+ shall clear Tx_Fault in < t_start_up if the failure is transient.

    Figure 8  Successful recovery from transient safety fault condition

       An example of an unsuccessful recovery, where the fault condition was not  transient, is shown in Figure 9.
图8从瞬态安全故障状态成功恢复

        图9中显示了故障状态不是瞬态的恢复失败的示例。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 15SFF-8431         Low Speed Electrical and Power Specifications  July 6, 2009 REVISION 4.1      PUBLISHED


         Occurrence of transmit-          ter safety fault          Tx_Fault

         Tx_Disable

         Transmitted Signal

   tx_fault_on     t_reset

         t_start_up (or t_start_up_cooled)          * SFP+ shall clear Tx_Fault in < t_start_up if the failure is transient.

   Figure 9  Unsuccessful recovery from safety fault condition

2.7.7  MODULE LOSS OF SIGNAL INDICATION
If the module is specified as implementing Rx_LOS, the timing is specified in       Figure 10.
2.7.7模块丢失信号指示
如果模块被指定为实现Rx_LOS，则时序如图10所示。

          Occurrence of loss of signal           Rx_LOS

       t_los_on        t_los_off


           Figure 10  Timing of Rx_LOS detection


SFP+ (Enhanced 10 Gbps Pluggable Module)           Page 16SFF-8431            Low Speed Electrical and Power Specifications       July 6, 2009 REVISION 4.1    PUBLISHED

2.8  SFP+ POWER REQUIREMENT
The module host has two 3.3 V power contacts, one supplying the module  transmitter voltage (VccT) and the other supplying the module receiver  voltage (VccR). The maximum current capacity, both continuous and peak, for  each connector contact is 500 mA.

       SFP+ module maximum power consumption shall meet one of the following  power classes:

    •  Power Level I modules – Up to 1.0 W     •  Power Level II modules – Up to 1.5 W To avoid exceeding system power supply limits and cooling capacity, all mod- ules at power up by default shall operate with ≤1.0 W. Hosts supporting Power  Level II operation may enable a Power Level II module through the 2-wire in- terface. Power Level II modules shall assert the power level declaration bit of  SFF-8472.

       The maximum power level is allowed to exceed the classified power level for  500 ms following hot insertion or power up, or Power Level II authorization,  however the current is limited to values given by Table 8 and illustrated in  Figure 11.

       At host power up the host shall supply VccT and VccR to the module within  100  ms of each other.
2.8 SFP +电源要求
模块主机有两个3.3 V电源触点，一个提供模块发射器电压（VccT），另一个提供模块接收器电压（VccR）。每个连接器触点的最大电流容量（连续和峰值）为500 mA。

       SFP +模块最大功耗应满足以下功率等级之一：

    •功率级别I模块 - 高达1.0W•功率级II模块 - 高达1.5W为了避免超过系统电源限制和制冷能力，默认上电时的所有模块应在≤1.0W的范围内工作。支持电源的主机II级操作可以通过2线接口实现Power Level II模块。功率级II模块应断言SFF-8472的功率电平声明位。

       允许最大功率电平超过热插拔或上电或电源II授权后500 ms的分类功率电平，但电流受限于表8给出的值，如图11所示。

       在主机上电时，主机将在彼此之间的100ms内向模块提供VccT和VccR。

2.8.1  MODULE POWER SUPPLY REQUIREMENTS
SFP+ module operates from the host supplied VccT and VccR. To protect the  host and system operation, each SFP+ module during hot plug and normal op- eration shall follow the requirements listed in Table 8 and illustrated by Figure  11. The requirements for current apply to the current through each inductor of  Figure 56 while the power supply voltages are defined at the SFP+ connector.

2.8.2  HOST POWER SUPPLY NOISE OUTPUT
The host shall generate an effective weighted integrated spectrum RMS noise  less than 25 mV in the frequency range 10 Hz to 10 MHz, according to the  methods of D.17.1

2.8.3  MODULE POWER SUPPLY NOISE OUTPUT
The module shall generate less than 15 mV RMS noise at point X of Figure 56   in the frequency range 10Hz to 10MHz, according to the methods of D.17.2.

2.8.4  POWER SUPPLY NOISE TOLERANCE
SFP+ modules shall meet all electrical requirements and remain fully opera- tional in the presence of a sinusoidal tolerance signal of amplitude given by Table 8 swept from 10 Hz to 10 MHz according to the methods of D.17.3. This emulates the worst case noise of the host.

          It is also desirable for a module and host to each tolerate a degree of random or semi-random noise on both VccT and VccR simultaneously, but the characteristics of this noise are beyond the scope of this document.
2.8.1模块电源要求
SFP +模块由主机提供VccT和VccR。为了保护主机和系统运行，每个SFP +模块在热插拔和正常运行期间都应遵循表8所列的要求，如图11所示。电流的要求适用于图56中每个电感器的电流，而功率电源电压在SFP +接口上定义。

2.8.2主机电源输出
根据D.17.1的方法，主机将在10 Hz至10 MHz的频率范围内产生小于25 mV的有效加权积分频谱RMS噪声

2.8.3模块电源噪声输出
根据D.17.2的方法，该模块在频率范围10Hz至10MHz范围内，在图56的X点产生小于15 mV的RMS噪声。

2.8.4电源噪声容限
根据D.17.3的方法，SFP +模块应满足所有电气要求，并保持完全可操作性，方法是按照表8从10 Hz扫描到10 MHz的正弦公差信号。这样可以模拟主机的最坏情况。

          模块和主机也希望同时容忍VccT和VccR两者的随机或半随机噪声程度，但这种噪声的特性超出了本文件的范围。

   Table 8  SFP+ Module Power Supply Requirements

      Parameters Symbol       Conditions          Min           Max         Units

   Power Level I Module       Power supply noise tolerance including ripple [peak-  see D.17.3  66          mV       to-peak]       Power supply voltages including ripple, droop and   VccT,         Note 1 3.14           3.46         V       noise below 100 kHz    VccR       Instantaneous peak current at hot plug     Note 2, 3   400         mA

      Sustained peak current at hot plug Note 2, 3, 5            330         mA

      Module maximum power consumption         1.0         W

   Power Level II Module       Power supply noise tolerance including ripple [peak-  see D.17.3  66          mV       to-peak]       Power supply voltages including ripple, droop and   VccT,         Note 1 3.14           3.46         V       noise below 100 kHz    VccR       Instantaneous peak current at hot plug     Note 2, 3   400         mA

      Sustained peak current at hot plug Note 2, 3, 5            330         mA

      Instantaneous peak current on enabling Power Level II           Note 2, 3, 5            600         mA

      Module sustained peak current on enabling Power      Note 2, 3, 5            500         mA       Level II        Module maximum power consumption         1.5         W

      Maximum power consumption at power up       Note 4      1          W

      1. Set point is measured at the input to the connector on the host board reference to Vee. Droop is any temporary drop in voltage of the        power supply such as that caused by plugging in another module or when enabling another module to Power Level II.       2. The requirements for current apply to the current through each inductor of Figure 56.       3. The maximum currents are the allowed currents for each power supply VccT or VccR, therefore the total module peak currents can be        twice this value. The instantaneous peak current is allowed to exceed the specified maximum current capacity of the connector contact        for a short period, see Figure 11.       4. Maximum module power consumption shall not exceed 1.0 W from 500ms after power up until level II operation is enabled.       5. Not to exceed the sustained peak limit for more than 50 μs; may exceed this limit for shorter durations.
1.设定点在主机板上连接器的输入端测量参考Vee。 Droop是电源电压的任何暂时下降，例如由于插入另一个模块或使另一个模块能够使能电平II引起的电压。 2.电流的要求适用于通过图56中每个电感的电流。3.最大电流是每个电源VccT或VccR允许的电流，因此总模块峰值电流可以是该值的两倍。 允许瞬时峰值电流在短时间内超过连接器触点的规定最大电流容量，参见图11. 4.上电后500ms内最大模块功耗不得超过1.0 W，直到II级运行使能。 5.不超过50μs的持续峰值极限; 可能会在较短的持续时间内超出此限制。

SFP+ (Enhanced 10 Gbps Pluggable Module)       Page 18SFF-8431            Low Speed Electrical and Power Specifications       July 6, 2009 REVISION 4.1    PUBLISHED


  Limit for instantaneous   peak current

  Limit for sustained   peak current

 Long-term limit  determined by module  power limit (depends   on other Vcc current)


 0 A or current of Power   Level II module in Power   Level I mode      Hot plug time or time of Instantaneous peak          Initialization time      initialization of Power duration <50 μs   window (500 ms)      Level II

  Figure 11  Instantaneous and sustained peak current for VccT or VccR

2.9  ESD
The SFP+ module and host SFI contacts (High Speed Contacts) shall withstand  1000 V electrostatic discharge based on Human Body Model per JEDEC  JESD22-A114-B.

       The SFP+ module and all host contacts with exception of the SFI contacts  (High Speed Contacts) shall withstand 2 kV electrostatic discharge based on  Human Body Model per JEDEC JESD22-A114-B.

       The SFP+ module shall meet ESD requirements given in EN61000-4-2, criterion  B test specification such that units are subjected to 15 kV air discharges during  operation and 8 kV direct contact discharges to the case.
2.9 ESD
SFP +模块和主机SFI触点（高速触头）应根据JEDEC JESD22-A114-B的人体模型承受1000 V静电放电。

        除了SFI触点（高速触头）外，SFP +模块和所有主机触点都应能承受基于JEDEC JESD22-A114-B的人体模型的2 kV静电放电。

        SFP +模块应符合EN61000-4-2标准B测试规范中给出的ESD要求，使得在运行过程中，单元经受15 kV的空气放电，并向该情况下8 kV直接接地放电。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 19SFF-8431    High Speed Electrical Specification SFI          July 6, 2009 REVISION 4.1    PUBLISHED

CHAPTER 3 HIGH SPEED ELECTRICAL SPECIFICATION SFI
第三章高速电气规格SFI

3.1  INTRODUCTION
SFI signalling is based on differential high speed low voltage logic with AC- coupling in the module. SFI was developed with the primary goal of low power  and low electromagnetic interference (EMI). To satisfy this requirement the  nominal differential signal levels are ~500 mV p-p with edge speed control to  reduce EMI. SFP+ compliant hosts are allowed to support just linear modules,  just limiting modules, or both linear and limiting modules.
3.1引言
SFI信号是基于模块中具有交流耦合的差分高速低电压逻辑。 SFI的开发主要是低功耗和低电磁干扰（EMI）。 为了满足这一要求，标称差分信号电平为〜500 mV p-p，具有边沿速度控制，以降低EMI。 允许符合SFP +标准的主机只支持线性模块，只限制模块，或线性模块和限制模块。

3.2  SFI APPLICATIONS DEFINITION
The application reference model for SFI connects a high speed ASIC/SERDES to  the SFP+ module as shown in Figure 12. The SFI interface is designed to sup-  port IEEE 802.3 10Gig standards Clauses 49, 50, and 51, and 10GFC. For all   other FC signalling rates see FC-PI-4. SFI supported signalling rates are listed in  Table 9. SFP+ compliant modules and hosts may support one or more of the  signalling rates listed in Table 9. For 10GSFP+Cu (direct attach copper) specifi-  cations and applications reference model, see Appendix E.
3.2 SFI应用定义
SFI的应用参考模型将高速ASIC / SERDES连接到SFP +模块，如图12所示。SFI接口设计用于支持IEEE 802.3 10Gig标准第49,50和51条以及10GFC。 对于所有其他FC信号速率，请参见FC-PI-4。 SFI支持的信令速率列在表9中。符合SFP +的模块和主机可以支持表9中列出的一个或多个信令速率。对于10GSFP + Cu（直接连接铜）规范和应用参考模型，请参见附录E.

           Table 9  SFI Supported signalling Rates

  Standard  Description      signalling Rate Units

  IEEE std-802.3 Clause 50    10GBASE-W WAN PHY       9.95328      GBd

  IEEE std-802.3 Clause 49     10GBASE-R LAN PHY      10.3125      GBd

  Fibre Channel - 10 Gigabit (10GFC) 10GFC           10.51875      GBd

  10Gig Ethernet with FEC     10GBASE-R over G.709    11.10        GBd

       The SFI interface operates from 9.95 to 11.1 GBd.

         SFF-8083          Connector     SFP+ Module   Host EDC

        ASIC/SerDes        SFI Interface          DC Blocks    Driver   Pre-   emphasis

        Host Board    Figure 12  SFI Application Reference Model


SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 20SFF-8431    High Speed Electrical Specification SFI          July 6, 2009 REVISION 4.1    PUBLISHED

3.3  SFI TEST POINTS DEFINITION AND MEASUREMENTS
SFI reference compliance test points are defined with the Host Compliance  Board and the Module Compliance Board for measurement consistency, see  Appendix C. The reference test boards provide a set of overlapping measure-  ments for ASIC/SerDes, module, and host validation to ensure interoperability.   For improved measurement accuracy the actual reference test card responses   may be calibrated out of the measurements and replaced with functions that   represent the ideal responses defined in Appendix C for the reference test   cards.

 Points A, B, C, and D require AC coupled test equipment. All SFI test equipment   must have 50 Ω single ended impedance on all test ports.

 The reference impedance for differential measurements and S-parameters is   100 Ω, and the reference impedance for common mode measurements and     S-parameters is 25 Ω.

       The bandwidth of measurement instrument shall be 12 GHz unless specified  otherwise.

       SFI reference points are listed in Table 10.
3.3 SFI测试点定义和测量
SFI参考合规性测试点由主机合规委员会和模块合规委员会定义，用于测量一致性，请参见附录C.参考测试板为ASIC / SerDes，模块和主机验证提供了一组重叠测量，以确保互操作性。为了提高测量精度，可以从测量中校准实际的参考测试卡响应，并用代表参考测试卡附录C中定义的理想响应的函数代替。

 A，B，C和D点需要交流耦合测试设备。所有SFI测试设备在所有测试端口上必须具有50Ω单端阻抗。

 差分测量和S参数的参考阻抗为100Ω，共模测量和S参数的参考阻抗为25Ω。

       除非另有规定，否则测量仪器的带宽应为12 GHz。

       SFI参考点列于表10。

          Table 10  SFI Reference Points

       Compliance point           Designation

       ASIC/SerDes output  A

       Host output  B

       Host input   C

       ASIC/SerDes input   D

       Module input B’

       Module output      C’

       Module input calibration           B” (double quotation)

       Host input calibration  C” (double quotation)


3.3.1  HOST COMPLIANCE POINTS
Host system transmitter and receiver compliance are defined by tests in which  a Host Compliance Board is inserted as shown in Figure 13 in place of the SFP+   module. The Host Compliance Board meets the specifications of Appendix C.  The compliance points are B and C.
3.3.1主机符合要点
主机系统发射器和接收器的兼容性通过插入主机兼容板的测试来定义，如图13所示，代替SFP +模块。 主机合性板符合附录C的规定。合规点是B和C.

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 21SFF-8431    High Speed Electrical Specification SFI          July 6, 2009 REVISION 4.1    PUBLISHED


      Connector    C *          Measurement     ASIC/SerDes          Host Compliance Board      DC Blocks      Instrumentation

     B      Host Under Test

   * C” equivalent is located about 1 inch past the SFP+ connector on the host board.

       Figure 13  Host Compliance Board

       SFP+ host compliance points are defined as the following:

       •   B: Host transmitter output at the output of the Host Compliance Board.      Specifications for B are given in 3.5.1.
•   C: Host receiver input at the input of the Host Compliance Board. Specifications for C are given in 3.5.2. 3.3.2  MODULE COMPLIANCE POINTS Module transmitter and receiver compliance are defined by tests in which the  module is inserted into the Module Compliance Board as shown in Figure 14.   The Module Compliance Board meets the specifications of Appendix C. The   compliance points for the module are B’ and C’.
* C“等效物位于主板上的SFP +连接器大约1英寸处。

        图13主机合规委员会

        SFP +主机合规点定义如下：

        •B：主机兼容板输出端的主机发射机输出。 3.5规定了B的规格。
•C：主机合规板输入端的主机接收器输入。 3.5的规范给出。 3.3.2模块兼容点模块发射器和接收器的兼容性通过将模块插入模块合规板的测试来定义，如图14所示。模块合规板符合附录C的规范。模块的符合性要点 B'和C'。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 22SFF-8431    High Speed Electrical Specification SFI          July 6, 2009 REVISION 4.1    PUBLISHED


    C’          Connector

     Measurement          Trace Length  Input/Output      Instrumentation      Module Under Test  Line

    B’

        Module Compliance Board

      Figure 14  Module Compliance Board

       SFP+ module compliance points are defined as the following:

       •   B’: SFP+ module transmitter input at the input of the Module Compliance      Board. Specifications for B’ are given in 3.6.1.
•   C’: SFP+ module receiver output at the output of the Module Compliance      Board. Specifications for C’ are given in 3.6.2.
SFP +模块兼容点定义如下：

        •B'：模块合规板输入端的SFP +模块变送器输入。 3.6.1规定了B'的规格。
•C'：模块合规板输出端的SFP +模块接收器输出。 3.6.2规定了C'的规格。

3.3.3  ASIC/SERDES TEST POINTS (INFORMATIVE)
ASIC/SerDes transmitter and receiver may be tested on a test board as shown  in Figure 15 with nominal trace response as specified by C.1.3 to avoid degra-  dation due to excessive trace loss and to ensure consistent measurements.
3.3.3 ASIC / SERDES测试点（信息）
ASIC / SerDes发射机和接收机可以在测试板上进行测试，如图15所示，具有C.1.3规定的标称跟踪响应，以避免由于过多的痕迹损耗而导致的失真，并确保一致的测量。

     D

     DC Blocks      ASIC/SerDes     Trace Length  Measurement           Instrumentation

     A     ASIC/SerDes Test Board

       Figure 15  ASIC/SerDes Test Board


SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 23SFF-8431    High Speed Electrical Specification SFI          July 6, 2009 REVISION 4.1    PUBLISHED

       SFI ASIC/SerDes test points are defined as the following:

       •   A: SerDes transmitter output at the output of the ASIC/SerDes Test Board.      Recommendations for A are given in B.2.
•   D: ASIC/SerDes receiver input at the input of the ASIC/SerDes Test Board.      Recommendations for D are given in B.3. 3.3.4  HOST INPUT CALIBRATION POINT Host receiver input tolerance signals are calibrated through the Host Compli- ance Board at the output of the Module Compliance Board as shown in Figure  16. The host input calibration point is at C” with specifications for C” given in  3.5.2. The response between the connector and C” is specified by C.1.2.
SFI ASIC / SerDes测试点定义如下：

        •A：在ASIC / SerDes测试板的输出端SerDes发射机输出。 A的建议在B.2中给出。
•D：ASIC / SerDes测试板输入端的ASIC / SerDes接收器输入。 D的建议在B.3中给出。 3.3.4主机输入校准点主机接收机输入公差信号通过主机兼容板在模块合规板的输出端进行校准，如图16所示。主机输入校准点为C“，给定规格”C“ 在3.5.2。 连接器和C“之间的响应由C.1.2规定。

  Connector     DC Blocks Measurement        C”           Stressed  Instrumentation      Signal    Trace Length   Generator    Host Compliance Board   B”   Ω Crosstalk Source    2x50           or Scope

 Module Compliance Board

 Figure 16  Host input calibration point C” and crosstalk source calibration  point B”

3.3.5  MODULE INPUT CALIBRATION POINT
Module transmitter input tolerance signals are calibrated through the Module  Compliance Board at the output of the Host Compliance Board as shown in  Figure 17. The module input calibration point is at B” with specifications for B”   given in 3.6.1. The response between the connector and B” is specified by  C.1.1.
3.3.5模块输入校准点
模块发射机输入公差信号通过主机兼容板输出端的模块合规板进行校准，如图17所示。模块输入校准点为3.6.1中给出的B“规格B”。 连接器和B“之间的响应由C.1.1指定。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 24SFF-8431    High Speed Electrical Specification SFI          July 6, 2009 REVISION 4.1    PUBLISHED


           C”           Connector      2x50 Ω        Crosstalk Source      or Scope    Trace Length       Host Compliance Board   B”       Stressed     Measurement        Signal       Instrumentation       Generator

 Module Compliance Board

    Figure 17  Module input calibration point B” and crosstalk source    calibration point C”


3.4  SFI TERMINATION AND DC BLOCKING
The SFI link uses nominal 100 Ω differential source and load terminations on  both the host board and the module. The SFI transmitter provides both differ- ential and common mode termination. The SFI transmitter and receiver termi- nation specifications for each of the compliance points are given by:

       •   Host – 3.5 SFP+ Host System Specifications
•  Module – 3.6 SFP+ Module Specifications .

 Host SerDes termination recommendations are given by:

 •  ASIC/SerDes – Appendix B
3.4 SFI终止和直流阻塞
SFI链路在主机板和模块上使用标称的100Ω差分源和负载终端。 SFI发射机提供差分和共模终止。 每个符合点的SFI发射器和接收器端子规格由以下公式给出：

        •主机 - 3.5 SFP +主机系统规格
•模块 - 3.6 SFP +模块规格。

  主机SerDes终止建议由以下提供：

  •ASIC / SerDes - 附录B
       SFP+ modules shall incorporate blocking capacitors or equivalent on all SFI in- puts and outputs as shown in Figure 18. The SFI transmitter is represented by        Ω  terminations Zp and Zn which form a 100  differential source. Each termina-  tion has a nominal value of 50 Ω, and therefore the common mode impedance  is 25 Ω. The SFI receiver is represented with termination Zdiff with nominal 100   Ω value. This representation is not intended to preclude the use of other im-  plementations which may provide common mode termination, however the   SFI specification does not require any common mode termination at the re-  ceiver. If common mode terminations are provided, it may reduce common   mode voltage and EMI.
SFP +模块应在所有SFI输入和输出端并入隔离电容器或等效物，如图18所示。SFI变送器由Ω端子Zp和Zn表示，形成100个差分源。 每个端子的标称值为50Ω，因此共模阻抗为25Ω。 SFI接收机用标称值为100Ω的终端Zdiff表示。 该表示不旨在排除可能提供共模终止的其他实现的使用，但是SFI规范不需要在接收器处进行任何共模终止。 如果提供共模终端，则可以降低共模电压和EMI。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 25SFF-8431    High Speed Electrical Specification SFI          July 6, 2009 REVISION 4.1    PUBLISHED

       It is recommended that both the module and the host use transmission lines  targeted to have 100 Ω differential impedance with about 7% coupling. SFP+   percent differential coupling is defined by the following equation:    Zcm  × 4 – Zdiff      Coupling   = -------------------------------------- × 100        Zcm  × 4 + Zdiff

 Where Zcm is the common mode impedance and Zdiff is the differential impedance.

 Differential traces with nominal 7% coupling offer a good compromise between reasonable common mode match and practical transmission line ge-  ometries. These are the targets for the module and host Compliance Boards   described in Appendix C.
建议模块和主机使用传输线，目标是具有100Ω的差分阻抗，约7％的耦合。 SFP +百分比差分耦合由下式定义：Zcm×4-Zdiff耦合= -------------------------------- ------×100 Zcm×4 + Zdiff其中Zcm为共模阻抗，Zdiff为差分阻抗。 具有标称7％耦合的差分迹线在合理的共模匹配和实际传输线路数据之间提供了良好的折中。 这些是附录C中描述的模块和主机合规委员会的目标。

   ASIC/SerDes        Host Board        SFP+ Module

     Host SFI Receiver Module SFI Transmitter

           Capacitor

          Zp            diff

           Z         D       Zn

          Capacitor

   Host SFI Transmitter       Module SFI Receiver


    SFP+ Connector Capacitor

            Zp    diff

   A          Z  Zn

           Capacitor

   Figure 18  SFI Termination and AC Coupling


SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 26SFF-8431    High Speed Electrical Specification SFI          July 6, 2009 REVISION 4.1    PUBLISHED

3.5  SFP+ HOST SYSTEM SPECIFICATIONS
SFP+ host system transmitter specifications at compliance point B are given in  3.5.1. SFP+ Host system receiver specifications at compliance point C are given  in 3.5.2.

 All specifications are to be met at the host compliance test points defined in  3.3.1.

       The solder pads for the high speed traces in the SFF-8431 Module Compliance  Board are 1.1x0.4 mm to improve high frequency performance instead of  2.0x0.5 mm as defined in the SFF-8083 for improved manufacturability. Trade- off between host performance and manufacturability are left to the host de- signer. For detailed geometry of the Module Compliance Board, see the Gerber  files in C.3.4.

 Warning: The host expects DC blocking in the module, and for improved   performance the Host Compliance Board is not required to incorporate   DC blocks. DC blocking within the test equipment or between the host   and the equipment is necessary for all host SFI signals.
3.5 SFP +主机系统规格
SFP +主机系统发射机规范在符合点B在3.5.1中给出。 SFP +主机系统接收器规范在合规点C在3.5.2中给出。
3.3.1中规定的主机兼容性测试点应满足所有规范。

        SFF-8431模块合规板中高速走线的焊盘为1.1x0.4 mm，以提高SFF-8083中定义的高频性能而不是2.0x0.5 mm，以提高可制造性。 主机性能与可制造性之间的权衡取决于主机设计者。 有关模块合规板的详细几何，请参阅C.3.4中的Gerber文件。

  警告：主机期望模块中具有DC阻塞，并且为了提高性能，主机合规板不需要并入DC块。 所有主机SFI信号都需要测试设备内或主机与设备之间的直流阻塞。

3.5.1  HOST TRANSMITTER OUTPUT SPECIFICATIONS
AT B SFP+ host transmitter electrical specifications defined at compliance point B  are given in Table 11 and Table 12. These specifications are defined at the   output of the Host Compliance Board specified in C.2. Host transmitters must  provide adequate low frequency signal response for the applications sup- ported.
3.5.1主机发射机输出规格
AT B SFP +主机变送器在符合性点B定义的电气规格见表11和表12.这些规范在C.2中规定的主机合规委员会的输出中定义。 主机发射机必须为所支持的应用提供足够的低频信号响应。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 27SFF-8431       High Speed Electrical Specification SFI   July 6, 2009 REVISION 4.1           PUBLISHED


  Table 11  Host Transmitter Output Electrical Specifications at B

     Parameter - B Symbol         Conditions  Min           Max           Units          Δ      Termination Mismatch at 1 MHz      ZM       See D.16, Figure 55           5  %

     Single Ended Output Voltage Range        -0.3           4.0           V

     Output AC Common Mode Voltage  See D.15      15        mV (RMS)

    0.01 to 2 GHz    -12           dB      Differential Output S-parameter SDD22     2 to 11.1 GHz   see 1          dB

     Common Mode Output S-parameter  SCC22         0.01 to 2.5 GHz            see 2          dB

    2.5 to 11.1 GHz  -3 dB

     1. Reflection coefficient given by equation SDD22(dB)  < -6.68 + 12.1 ×  log10(f/5.5), with f in GHz.      2. Reflection coefficient given by equation SCC22(dB)  < -7 + 1.6 × f, with f in GHz.

          The specification of common mode output return loss reduces EMI and noise by absorbing common mode reflections and noise.

          The SFI jitter specifications at reference point B are listed in Table 12 and the compliance mask is shown in Figure 19. As baseline wander can create low probability eye closure which is not detected by the 5x10-5 mask hit ratio, baseline wander must be controlled so as not to significantly degrade the signal at B.
1.等式SDD22（dB）给出的反射系数<-6.68 + 12.1×log10（f / 5.5），f为GHz。 2.等式SCC22（dB）给出的反射系数<-7 + 1.6×f，f为GHz。

           共模输出回波损耗的规格通过吸收共模反射和噪声来降低EMI和噪声。

           参考点B中的SFI抖动规范列于表12中，并且合规掩模如图19所示。由于基线漂移可能会产生5x10-5掩模命中率未检测到的低概率闭眼，必须控制基线漂移 以免在B处显着降低信号。

SFP+ (Enhanced 10 Gbps Pluggable Module)       Page 28SFF-8431       High Speed Electrical Specification SFI   July 6, 2009 REVISION 4.1           PUBLISHED


     Table 12  Host Transmitter Output Jitter and Eye Mask Specifications at B

   Parameters- B Symbol          Conditions           Min      Target      Max        Units       Value

   Crosstalk Source Rise/Fall time (20% to 80%) Tr, Tf        See 1, 2, D.6 34         ps

   Crosstalk Source Amplitude (p-p differential)   See 1, 2, D.7       1000       mV

   Signal Rise/Fall time (20% to 80%)          Tr, Tf           See D.6 34  ps

   Total Jitter    TJ   See D.5    0.28      UI(p-p)

   Data Dependent Jitter            DDJ   See D.3    0.1       UI(p-p)

   Data Dependent Pulse Width Shrinkage       DDPWS            0.055     UI (p-p)

   Uncorrelated Jitter    UJ           See 3 and D.4       0.023     UI (RMS)

   Transmitter Qsq Qsq   See 4  50    Parameters- B Symbol          Conditions          Value      Units

   Eye Mask        X1   0.12        UI

   Eye Mask        X2   0.33        UI      Mask hit ratio of 5×10-5,     Eye Mask        Y1 See  D.2 and         95        mV      Figure 19    Eye Mask        Y2   350        mV

   1. Measured at C" with Host Compliance Board and Module Compliance Board pair, see  Figure 17.     2. Since the minimum module output transition time is faster than the crosstalk transition time the amplitude of crosstalk source is     increased to achieve the same slew rate.    3. It is not possible to have the maximum UJ and meet the TJ specifications if the UJ is all Gaussian.

   4. Qsq=1/RN if the one level and zero level noises are identical and see D.8.
1.通过主机兼容板和模块合规板对在C“测量，见图17. 2.由于最小模块输出转换时间比串扰转换时间快，所以串扰源的幅度增加以实现相同的转换速率。 如果UJ全部是高斯，则不可能具有最大UJ并满足TJ规格。

    如果一级和零级噪声相同，则Qsq = 1 / RN，见D.8。

           Y2

          Y1 0        Voltage -Y1

           -Y2

    0.0   X1     X2          1-X2     1-X1   1.0     Normalized Time (UI)  Figure 19  Transmitter Differential Output Compliance Mask at B and B”


SFP+ (Enhanced 10 Gbps Pluggable Module)       Page 29SFF-8431    High Speed Electrical Specification SFI          July 6, 2009 REVISION 4.1    PUBLISHED

3.5.2  HOST RECEIVER INPUT SPECIFICATIONS AT C AND C”
The SFP+ Host receiver electrical specifications at compliance point C and C”  for both linear and limiting modules are given in Table 13. The host shall pro-  vide differential termination and must constrain differential to common mode   conversion for quality signal termination and low EMI, as given in Table 13.   Common mode termination on the receiver is not required see Figure 18.

 Signals used as input tolerance test conditions are calibrated at C” with the   Host Compliance Board connected through a Module Compliance Board to   measurement instrumentation. Specifications at C” supporting limiting mod-  ules are given in Table 14. Specifications at C” supporting linear module are   given in Table 15.

 SFP+ compliant hosts are allowed to support just linear modules, just limiting   modules, or both linear and limiting modules.
3.5.2主机接收机输入规格C和C“
SFP +主机接收器的电气规范在线性和限制模块的符合性点C和C“在表13中给出。主机应提供差分终端，并且必须将差分约束到共模转换以实现质量信号终止和低EMI，如 在表13中给出。接收机上的共模终止不是必需的，见图18。

  用作输入容差测试条件的信号在C“校准，主机合规板通过模块合规板连接到测量仪器。 C“支持限制模块的规格见表14. C”支持线性模块的规格见表15。

  允许符合SFP +标准的主机只支持线性模块，只限制模块，或线性模块和限制模块。

      Table 13  Host Receiver Input Electrical Specifications at C and C”

    Parameters - C and C" Symbol      Conditions     Min    Target  Max      Units

    Single Ended Input Voltage Range           Referenced to VeeR -0.3          4.0      V

    Input AC Common Mode Voltage Tolerance      See 1 and D.15.3 7.5       mV (RMS)

    Damage Threshold (p-p differential) See 1        2000         mV

        0.01 to 2 GHz       -12       dB     Differential Input S-parameter   SDD11         2 to 11.1 GHz       see 2     dB

    Reflected Differential to Common Mode SCD11 0.1 to 11.1 GHz     -10       dB     Conversion

    1. Measured at C" with the Module Compliance Board.            ×     2. Reflection Coefficient given by equation SDD11(dB)< -6.68 + 12.1   log10(f/5.5), with f in GHz .

 Jitter specifications to support the limiting module are listed in Table 14.  Figure 20 gives the host compliance eye mask requirements to support the  limiting module. The host shall operate at and between the sensitivity and  overload limits. The SFP+ limiting host shall tolerate sinusoidal jitter given by  Figure 21. Test procedures for the host for limiting module are given in D.11.
1.在C“测量模块合规板×2.由公式SDD11（dB）<-6.68 + 12.1 log10（f / 5.5）给出的反射系数，f为GHz。

  支持限制模块的抖动规范列在表14中。图20给出了支持限制模块的主机符合性眼罩要求。 主机应在灵敏度和过载极限之间运行。 SFP +限制主机将容忍图21给出的正弦抖动。限制模块主机的测试步骤见D.11。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 30SFF-8431       High Speed Electrical Specification SFI   July 6, 2009 REVISION 4.1           PUBLISHED


 Table 14  Host receiver supporting limiting module input compliance test signal calibrated at C”

   Parameters - C"      Symbol   Conditions   Target       Max         Units    Value

   Crosstalk Source Rise/Fall time (20% to 80%) Tr, Tf   See D.6      34           ps

   Crosstalk Source Amplitude (p-p differential)          See 1      700          mV

   AC Common Mode Voltage           See 2 and D.15   7.5        mV       (RMS)    99% Jitter       J2  See 3,  D.5,  D.11         0.42       UI (p-p)

   Pulse Width Shrinkage Jitter    DDPWS     See 4, D.3    0.3       UI (p-p)           −    Total Jitter     TJ        BER 1×10  12 see  D.5,  D.11    0.70       UI (p-p)           −    Eye Mask        X1           Mask hit ratio of 1×10 12,    0.35          UI        See D.2,  D.11    Eye Mask Amplitude Sensitivity 5,8 Y1           150          mV

   Eye Mask Amplitude Overload  6,7,8 Y2           425          mV

   1. Measured at B" with Host Compliance Board and Module Compliance Board pair, see Figure 16.     2. The tester is not expected to generate this common mode voltage however its output must not exceed this value.     3. Includes sinusoidal jitter, per Figure 21, when measured with the reference PLL specified by the given standard.    4. In practice the test implementer may trade DDPWS with other pulse width shrinkage from the sinusoidal interferer.    5. Eye mask amplitude sensitivity tests the host receiver with the minimum eye opening expected from a module within the constraint set by     Y2.    6. Eye mask amplitude overload tests the host receiver tolerance to the largest peak signal levels expected from the module within the     constraint set by Y1.    7. It is not expected that module Rx output will exhibit both maximum peak level and minimum eye opening.    8. Sensitivity and overload are tested separately, see D.11.
1.使用主机兼容板和模块合规板对在B“测量，见图16. 2.测试仪不会产生这种共模电压，但其输出不能超过此值3.包括正弦波抖动 在实际中，测试实施者可以从正弦波干扰源交换具有其他脉冲宽度收缩的DDPWS 5.眼罩幅度灵敏度测试主机接收器，预期最小眼睛开度 来自Y2设置的约束范围内的模块6.眼罩幅度过载测试主机接收机对由Y1设置的约束中模块所预期的最大峰值信号电平的容限。7.预计模块Rx输出将不会显示 最大峰值电平和最小眼睛开度8.灵敏度和过载分别进行测试，见D.11。

SFP+ (Enhanced 10 Gbps Pluggable Module)       Page 31SFF-8431    High Speed Electrical Specification SFI          July 6, 2009 REVISION 4.1    PUBLISHED


 Y2

 Y1  0

   Voltage -Y1

       -Y2

    0.0        X1      1-X1         1.0  Normalized Time (UI)     Figure 20  Host Receiver Input Compliance Mask at C” Supporting      Limiting Module


    -20 dB/decade         5.0


     sinusoidal jitter tolerance (UIp-p)  tolerance  jitter sinusoidal 0.05

     0.04          0.4    4   40        Frequency (MHz)        Figure 21  SR and LR Host Sinusoidal Jitter Tolerance Mask

       Table 15 defines the input compliance test signal as calibrated at C” for a host   that supports linear modules. The parameters in Table 15 include the effects of   a worst case module that operates in conjunction with optical TP3 tester(s) de-  fined for the LRM and LR standards. SR specifications are covered by the fact   that LR links have high noise, and on the other extreme, LRM links have high   distortion. Test procedures for the linear host are given in D.13. For illustrative  purpose, Figure 24 shows the host test calibration line along which specific   host test points for LRM are defined.
表15将支持线性模块的主机的输入一致性测试信号定义为C“校准。 表15中的参数包括与根据LRM和LR标准定义的光TP3测试仪相结合的最坏情况模块的影响。 LR规范由LR链路具有高噪声的事实所覆盖，另一方面，LRM链路具有高失真。 D.13给出线性主机的测试程序。 为了说明的目的，图24示出了主机测试校准线，其中定义了用于LRM的特定主机测试点。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 32SFF-8431    High Speed Electrical Specification SFI          July 6, 2009 REVISION 4.1    PUBLISHED

       For LR test conditions, the SFP+ linear host shall operate with sinusoidal jitter  given by Figure 21 while the stress conditions given in Table 15 are applied. For   LRM test conditions, the host shall operate with sinusoidal jitter as defined in   IEEE802.3, clause 68, with the stressors and noises in Figure 52 including those   in the TP3 tester turned off.

 Only two specific test conditions for each LRM stressor are defined in Table 15.  In general, however, a host must meet operational requirements with any  compliant module. It is expected that lower dWDP modules will exist. How- ever, this specification has not defined host test conditions below dWDP of 0.6  to 0.8 dB. At low dWDP values, guard bands between module specifications  and host requirements are left to the host implementation.
对于LR测试条件，SFP +线性主机应使用图21给出的正弦抖动，而应用表15中给出的应力条件。 对于LRM测试条件，主机应按照IEEE802.3第68节中定义的正弦抖动进行操作，图52中的应力和噪声包括TP3测试仪中的应力和噪声。

  在表15中仅定义了每个LRM应激源的两个特定测试条件。但是，一般来说，主机必须满足任何兼容模块的运行要求。 预计将存在较低的dWDP模块。 然而，该规范尚未将低于dWDP的主机测试条件定义为0.6至0.8dB。 在低dWDP值下，模块规格和主机要求之间的保护带留给主机实现。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 33SFF-8431       High Speed Electrical Specification SFI   July 6, 2009 REVISION 4.1           PUBLISHED

          .

  Table 15  Host receiver supporting linear module input compliance test signal calibrated at C”

 Parameters - C"     Symb           Conditions  Min          Target    Max       Units      ol

 Crosstalk Source Rise/Fall time (20% to 80%) Tr/Tf       See 1,  D.6    34        ps

 Crosstalk Source Amplitude (p-p differential)   See 1 700      mV

 AC Common Mode Voltage    See 2 and D.15      7.5    mV (RMS)

 Differential Voltage Modulation Amplitude VMA          for LRM, See 3 180        600        mV

 Differential Voltage Modulation Amplitude VMA        for SR and LR, See 3        150        600        mV

  Compliance stress test   Target WDP     Target RN, (RMS)     WDPi   Applications Symb           conditions  (dBo)      (dBo)      ol     See 4, 7, and D.13           mb

   WDP      High WDP & pre-cursor    Approximately   4.1  stressor 5.1, see 5

   WDP      High WDP & split-sym-         5.4 3.9      metric stressor

   WDP      High WDP & post-cursor   Approximately   4.2  LRM  stressor 5.2, see 5       -0.0148   0.0477    WDP      Low WDP & pre-cursor     Approximately   4.1  stressor 4.7, see 6

   WDP      Low WDP & split-sym-     Approximately   3.9      metric stressor        4.7, see 6

   WDP      Low WDP & post-cursor    Approximately   4.2  stressor 4.8, see 6

 LR           WDP Low WDP Approximately    -0.02     0.096      1.9           2.6, see 6

 1. Measured at B” with Host Compliance Board and Module Compliance Board pair, see Figure 16.   2. The tester is not expected to generate this common mode voltage, however its output must not exceed this value.  3. Peak levels of received signals in service may exceed their VMA due to overshoot of the far end transmitter and/or the module receiver.   4. Target WDP is calibrated with a reference receiver with 14 T/2 spaced FFE taps and 5 T spaced DFE taps.  5. The filter bandwidth in the TP3 to electrical adapter in Figure 52 is set to produce 5.4 dBo for WDP for the split-symmetrical TP3 stressor.   The same filter is to be used for high WDP pre-cursor and post-cursor LRM stressors - their approximate target WDP values are given only   for guidance. WDP is to be measured for each stressor, and target RN is determined by the relevant equation in note 7.  6. The filter bandwidth in the TP3 to electrical adapter in Figure 52 is set to 7.5 GHz for all three LRM low WDP conditions and for the LR   condition. The approximate target WDP values are given for guidance. WDP is to be measured for each stressor, and target RN is determined   by the relevant equation in note 7.   ×    7. Target RN rms values are given by the following equation: RN = m (WDP - WDPi) + b, where WDP is the actual value of the tester, and   WDPi values are based on waveshapes expected at TP3.
1.在B“测量主机合规板和模块合规板对，见图16. 2.测试仪不会产生这种共模电压，但其输出不能超过此值。由于远端发射机和/或模块接收机的过冲，服务中接收信号的峰值电平可能会超过其VMA。目标WDP用具有14个T / 2间隔的FFE抽头和5个T间隔的DFE抽头的参考接收器进行校准。图52中TP3到电适配器的滤波器带宽设置为对分裂对称TP3应力源的WDP产生5.4 dBo。相同的过滤器将用于高WDP前置光标和后置光标LRM应激物 - 它们的近似目标WDP值仅用于指导。要测量每个应力源的WDP，并且目标RN由注释7中的相关方程确定。6.对于所有三个LRM低WDP条件，图52中TP3到电适配器的滤波器带宽设置为7.5 GHz，对于LR条件。给出了大致的目标WDP值作为指导。要对每个应力源测量WDP，目标RN由注释7中的相关方程确定。×7.目标RN rms值由下式给出：RN = m（WDP-WDPi）+ b，其中WDP为测试仪的实际值和WDPi值均基于TP3预期的波形。

SFP+ (Enhanced 10 Gbps Pluggable Module)       Page 34SFF-8431    High Speed Electrical Specification SFI          July 6, 2009 REVISION 4.1    PUBLISHED

3.6  SFP+ MODULE SPECIFICATIONS
SFP+ module transmitter specifications at compliance point B’ are given in  3.6.1. SFP+ module receiver pecifications at compliance point C’ are given in  3.6.2.

3.6.1  MODULE TRANSMITTER INPUT SPECIFICATIONS AT B’ AND B”
The SFP+ module transmitter electrical specifications, given in Table 16, at compliance point B’ are measured with the Module Compliance Board as   shown in 3.3.2. The transmitter input impedance is 100 Ω differential. The module must provide differential termination and limit differential to common  mode conversion for quality signal termination and low EMI.

       Signals used as input conditions for testing the transmitter input tolerance are  calibrated at B” with the Module Compliance Board connected through a Host  Compliance Board to appropriate instrumentation. This is further described in  D.10. The specifications used for this calibration are listed in Table 17. The test   signal at B” as illustrated by Figure 17 shall comply with the mask defined in  Table 17 and illustrated in Figure 19.
3.6 SFP +模块规格
符合标准B'的SFP +模块变送器规格见3.6.1。 3.6.2中给出符合要求点C'的SFP +模块接收器规定。

3.6.1 B'和B“上的模块发送器输入规范”
表16中给出的符合要求点B'的SFP +模块变送器电气规范用模块合规板测量，如3.3.2所示。发射机输入阻抗为100Ω差分。该模块必须提供差分终端和极限差分到共模转换，以实现质量信号终止和低EMI。

       用作测试变送器输入公差的输入条件的信号在B“进行校准，通过主机合规板将模块合规板连接到适当的仪器。这在D.10中进一步描述。用于该校准的规格列于表17中。如图17所示，B“处的测试信号应符合表17中定义的掩模，如图19所示。

     Table 16  Module Transmitter Input Electrical Specifications at B’

  Parameters - B’        Symbol      Conditions     Min    Target  Max      Units

  Single Ended Input Voltage Tolerance       Referenced to VeeT -0.3          4.0       V

  AC common mode voltage tolerance   See 1, D.15.3   15           mV

       0.01 to 4.1 GHz     See 2     dB   Differential Input S-parameter    SDD11        4.1 to 11.1 GHz     See 3     dB

  Reflected Differential to Common Mode SCD11 0.01 to 11.1 GHz     -10       dB   Conversion

  1. Measured at B” with Host Compliance Board and Module Compliance Board pair, see Figure 17.   2. Reflection Coefficient given by equation SDD11(dB)< -12 + 2 × SQRT(f), with f in GHz.   3. Reflection Coefficient given by equation SDD11(dB)< -6.3 + 13 × log10(f/5.5), with f in GHz
1.使用主机兼容板和模块合规板对在B“测量，见图17. 2.等式SDD11（dB）<-12 + 2×SQRT（f）给出的反射系数，f为GHz。 3.等式SDD11（dB）<-6.3 + 13×log10（f / 5.5）给出的反射系数，其中f为GHz

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 35SFF-8431       High Speed Electrical Specification SFI   July 6, 2009 REVISION 4.1           PUBLISHED


  Table 17  Module Transmitter Input Tolerance Signal Calibrated at B”

   Parameters- B" Symbol          Conditions Target        Max           Units      Value

   Crosstalk Source Rise/Fall time (20% to 80%) Tr, Tf       See 1, 2 and D.6          34    ps

   Crosstalk Source Amplitude (p-p differential)      See 1, 2  1000  mV

   AC Common Mode Voltage       See 3 and D.15.2            15         mV (RMS)

   Total Jitter     TJ   See D.5     0.28         UI (p-p)

   Data Dependent Jitter  DDJ   See D.3   0.10           UI (p-p)

   Pulse Width Shrinkage Jitter    DDPWS     0.055           UI (p-p)

   Uncorrelated Jitter     UJ           See 4 and  D.4         0.023          UI (RMS)

   Parameters- B" Symbol          Conditions        Value     Units

   Eye Mask         X1  0.12      UI        Mask hit ratio of 5×10-5,     Eye Mask         X2  0.33      UI        See D.2    Eye Mask         Y1  95        mV

   Eye Mask         Y2  350       mV

   1. Measured at C" with Host Compliance Board and Module Compliance Board pair, see Figure 17.    2. Since the minimum module output transition time is faster than the crosstalk transition time the amplitude of crosstalk source is     increased to achieve the same slew rate.    3. The tester is not expected to generate this common mode voltage however its output must not exceed this value     4. It is not possible to have the maximum UJ and meet the TJ specifications if the UJ is all Gaussian.
1.通过主机兼容板和模块合规板对在C“测量，见图17. 2.由于最小模块输出转换时间比串扰转换时间快，所以串扰源的幅度增加以实现相同的转换速率。 3.测试仪不会产生这种共模电压，但其输出不能超过此值4.如果UJ均为高斯，则不可能具有最大UJ并满足TJ规格。

           Y2

           Y1 0        Voltage           -Y1

          -Y2

    0.0   X1      X2           1-X2   1-X1   1.0     Normalized Time (UI) Figure 22  Module Transmitter Differential Input Compliance Mask at B”


SFP+ (Enhanced 10 Gbps Pluggable Module)       Page 36SFF-8431       High Speed Electrical Specification SFI   July 6, 2009 REVISION 4.1           PUBLISHED

3.6.2  MODULE RECEIVER OUTPUT SPECIFICATIONS AT C’
The SFP+ receiver electrical output specifications at compliance point C’ are given in Table 18. The module must provide differential termination and common mode termination for quality signal termination and low EMI, as given in Table 18.
3.6.2模块接收器输出规格在C'
符合性标准点C'的SFP +接收机电气输出规范在表18中给出。如表18所示，模块必须为质量信号终止和低EMI提供差分终端和共模终止。

   Table 18  Module Receiver Output Electrical Specifications at C’

        Parameters - C’      Symbol          Conditions         Min     Target   Max        Units

        Crosstalk source rise/fall time (20% to 80%) Tr, Tf        See 1,  D.6,34ps

        Crosstalk Source Amplitude (p-p differential)      See 1         700     mV   Δ         Termination Mismatch at 1 MHz      ZM        See D.16, Figure 55          5          %

        Single Ended Output Voltage Tolerance -0.3   4.0        V

        Output AC Common Mode Voltage  See D.15      7.5    mV (RMS)

       0.01 to 4.1 GHz            See 2       dB         Differential Output S-parameter  SDD22        4.1 to 11.1 GHz            See 3       dB

        Common Mode Output Reflection    SCC22        0.01 to 2.5 GHz            See 4       dB         Coefficient         2.5 to 11.1 GHz  -3         dB

        1. Measured at B” with the Host Compliance Board and Module Compliance Board pair, see Figure 16.         2. Reflection Coefficient given by equation SDD22(dB)< -12 + 2 × SQRT(f), with f in GHz.         3. Reflection Coefficient given by equation SDD22(dB)< -6.3 + 13 × log10(f/5.5), with f in GHz         4. Reflection coefficient given by equation SCC22(dB) < -7 + 1.6 × f, with f in GHz.
1.使用主机兼容板和模块合规板对进行B测量，见图16. 2.等式SDD22（dB）<-12 + 2×SQRT（f）给出的反射系数，f为GHz。 3.等式SDD22（dB）<-6.3 + 13×log10（f / 5.5）给出的反射系数，f为GHz 4.由等式SCC22（dB）给出的反射系数<-7 + 1.6×f，其中f千兆赫。

          Common Mode Output Reflection Coefficient helps absorb reflection and noise improving EMI.

          Jitter specifications for limiting modules are listed in Table 19. Figure 23 gives the compliance eye mask for limiting modules output. Requirements for linear modules are given in Table 20.

          Both limiting and linear modules must provide adequate low frequency signal response for the applications supported, to control the effects of baseline wander.
共模输出反射系数有助于吸收反射和噪声改善EMI。

           限制模块的抖动规格如表19所示。图23给出了限制模块输出的合规眼罩。 线性模块的要求见表20。

           限制和线性模块必须为支持的应用提供足够的低频信号响应，以控制基线漂移的影响。

SFP+ (Enhanced 10 Gbps Pluggable Module)       Page 37SFF-8431       High Speed Electrical Specification SFI   July 6, 2009 REVISION 4.1           PUBLISHED


   Table 19  Limiting Module Receiver Output Jitter and Eye Mask Specifications at C’

          Parameters - C’      Symbol          Conditions         Min    Target    Max       Units

          Output Rise and Fall time  (20% to 80%)     Tr, Tf          See D.6           28    ps

          Total Jitter     TJ          See  D.5, D.12            0.70    UI (p-p)

          99% Jitter       J2          See  D.5, D.12            0.42    UI (p-p)

          Parameters - C’      Symbol          Conditions      Value   Units

          Eye Mask        X1          0.35     UI          Mask hit ratio of Eye Mask        Y1       −          150    mV  1×10 12           Eye Mask        Y2           See  D.2, D.12    425    mV


          Y2

          Y1           0


     Voltage -Y1

         -Y2

   0.0 X1        1-X1  1.0    Normalized Time (UI)   Figure 23  Limiting Module Receiver Differential Output Compliance        Mask at C’


SFP+ (Enhanced 10 Gbps Pluggable Module)       Page 38SFF-8431       High Speed Electrical Specification SFI   July 6, 2009 REVISION 4.1           PUBLISHED

          Linear module test parameters are given by Table 20. Compliance methods for a linear module are given in Appendix D.14.

       Table 20  Linear Module Receiver Specifications at C’

  Parameters - C’    Symbol    Conditions    RN

       m1        b1        m2         b2      RNmax

  Relative Noise SR    RN          -0.02     0.078     -0.02     0.078      0.078

  Relative Noise LR     -0.02     0.083     -0.02     0.083      0.083

  Relative Noise LRM with pre-cursor stressorSee  D.14.1       -0.0153   0.0475    -0.0092    0.0457    0.0475   Relative Noise LRM with split-symmetrical stressor           -0.017    0.0475     -0.01     0.0455    0.0475

  Relative Noise LRM with post-cursor stressor      -0.0153   0.0475    -0.0092    0.0457    0.0475

  Parameters - C’    Symbol    Conditions    Min       Max       Unit

  Difference Waveform Distortion Penalty for SR and dWDP           2.7      dBo   LR      See 1 and      D.14.2   Difference Waveform Distortion Penalty for LRM  dWDP  1.5      dBo

  Differential Voltage Modulation Amplitude For SR VMA        See D.7      150      600       mV   and LR

  Differential Voltage Modulation Amplitude For LRM VMA  180      600       mV

  Differential peak to peak voltage    Vpk-pk    See D.14.3       600       mV

  1. Defined with reference receiver with 14 T/2 spaced FFE taps and 5 T spaced DFE taps.

          Appendix D.14.2 defines RN for a linear module receiver. The limits for RN are functions of measured dWDP for the module, expressed in optical decibels. As an example, the trade-off between the parameters for LRM are shown in Figure 24. To pass, RN must be below the respective limit line.

          dWDP and RN shall meet the specifications in Table 20 and can be calculated by


     RN≤    min[,() m1 ×  dWDP     + b1   ()m2  × dWDP     + b2  , RNmax    ]

          for each TP3 test condition for which compliance is required. For example, if compliance is required for LRM, the module must meet specifications with all three stressors and under the sensitivity and overload test conditions specified in IEEE Std 802.3 68.6.9.
用具有14个T / 2间隔的FFE抽头和5个T间隔的DFE抽头的参考接收器定义。

           附录D.14.2定义了线性模块接收机的RN。 RN的限制是模块测量的dWDP的功能，以光分贝表示。 作为示例，LRM参数之间的权衡如图24所示。为了通过，RN必须低于相应的限制线。

           dWDP和RN应满足表20中的规定，可以通过计算


      RN≤min[，（）m1×dWDP + b1（）m2×dWDP + b2，RNmax]

           对于需要符合性的每个TP3测试条件。 例如，如果LRM需要符合性要求，则模块必须符合所有三种应力的规格，并符合IEEE Std 802.3 68.6.9规定的灵敏度和过载测试条件。

SFP+ (Enhanced 10 Gbps Pluggable Module)       Page 39SFF-8431    High Speed Electrical Specification SFI          July 6, 2009 REVISION 4.1    PUBLISHED


   Module Fails


   Module Passes


   Figure 24  LRM module receiver RN and dWDP compliance and host  receiver test calibration

       For illustrative purpose, Figure 24 shows the host test calibration line along   which specific host test points for LRM are defined. The gap between the host   and module lines is because the host is tested with linear impairments, which   given the same dWDP, are more benign to a host than non-linear impairments   which are possible from a module.
为了说明的目的，图24示出了主机测试校准线，其中定义了用于LRM的特定主机测试点。 主机和模块线路之间的差距是因为主机使用线性损伤进行测试，给定相同的dWDP，对于主机来说，对于可能来自模块的非线性损伤来说，主机是比较好的。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 40SFF-8431    SFP+ 2-wire Interface      July 6, 2009 REVISION 4.1           PUBLISHED

CHAPTER 4 SFP+ 2-WIRE INTERFACE


4.1  INTRODUCTION           
The SFP+ management interface is a two-wire interface, similar to I2C. SFP+ management memory map is specified by SFF-8472. Nomenclature for all registers more than 1 bit long are MSB...LSB (MSB transmitted first).
第4章SFP + 2线接口


4.1引言
SFP +管理接口是一个两线接口，类似于I2C。 SFP +管理存储器映射由SFF-8472指定。 所有超过1位长的寄存器的命名法是MSB ... LSB（首先发送MSB）。

4.2  2-WIRE ELECTRICAL SPECIFICATIONS           
The SFP+ 2-wire interface specifications are given in Table 21. This specification ensures compatibility between host masters and SFP+ SCL/SDA lines and compatibility with I2C. All voltages are referenced to VeeT.
4.2双线电气规格
SFP + 2线接口规格见表21.该规范确保主机主机与SFP + SCL / SDA线路之间的兼容性以及与I2C的兼容性。 所有电压参考VeeT。

 Table 21  2-Wire Interface Electrical Specifications

         Parameter Symbol  Min.    Max.           Unit   Conditions

  Host 2-wire Vcc           Vcc_Host_2w          3.14     3.46           V     see 1

        2    VOL    0.0     0.40           V     Rp2w   pulled toVcc_Host_2w, see 3   SCL and SDA  2    VOH        Vcc_Host_2w - 0.5  Vcc_Host_2w + 0.3     V     Rp2w   pulled to Vcc_Host_2w, see 3

   VIL   -0.3   VccT*0.3         V     see 3   SCL and SDA    VIH VccT*0.7           VccT + 0.5        V     see 3    μ   Input current on the           Il    -10      10 A   SCL and SDA contacts

     4   Capacitance on SCL and        Ci       14           pF   SDA I/O contact 100           pF     At 400 kHz, 3.0 kΩ Rp2w, max       5           Ω   Total bus capacitance for     Cb     At 100 kHz, 8.0 k  Rp2w, max   SCL and for SDA 290           pF     At 400 kHz, 1.1 kΩ Rp2w, max    At 100 kHz, 2.75 kΩ Rp2w, max   
1. The Host 2-wire Vcc is the voltage used for resistive pull ups for the 2 wire interface   
2. Rp2w is the pull up resistor. Active bus termination may be used by the host in place of a pullup resistor. Pull ups can be connected to any    one of several power supplies, however the host board design shall ensure that no module contact has voltage exceeding module VccT/R +    0.5  V nor requires the module to sink more than 3.0 mA current.   
3. These voltages are measured on the other side of the connector to the device under test.
4. Ci is the capacitance looking into the module SCL and SDA contacts   
5. Cb is the total bus capacitance on the SCL or SDA bus.
主机2线Vcc是用于2线接口的电阻上拉电压
2. Rp2w是上拉电阻。 主机可以使用有源总线终端来代替上拉电阻。 上拉电阻可以连接到几个电源中的任一个，但是主机板设计应确保模块接触电压不超过VccT / R + 0.5 V模块，也不需要模块吸收3.0mA以上的电流。
这些电压是在连接器的另一侧测量到被测器件。
4. Ci是模块SCL和SDA触点的电容
5.Cb是SCL或SDA总线上的总总线电容。

SFP+ (Enhanced 10 Gbps Pluggable Module)       Page 41SFF-8431   SFP+ 2-wire Interface           July 6, 2009 REVISION 4.1    PUBLISHED

4.3  SFP+ 2-WIRE TIMING DIAGRAM  
SFP+ 2-wire bus timing is shown in Figure 25 and the detail of clock stretching   is shown in Figure 26. SFP+ 2-wire timing specifications are given in Table 22.
4.3 SFP + 2线时序图
SFP + 2线总线时序如图25所示，时钟延长的细节如图26所示。表22给出了SFP + 2线时序规范。

     START         tHIGH           RESTART   STOP   START      tF   tR

 SCL

            tLOW

            t       t   HD,SDA            tBUF   tSU,STO    BUF           t          tSU,SDA  tHD,DAT    SU,DAT

  tR       tF

           SDA In


       Figure 25  2-wire Timing Diagram


         Window with no clock stretch      t_clock_hold


          SCL


        tSU,DAT


          SDA


      Figure 26  Detail of Clock Stretching

 The 2-wire serial interface addresses of the SFP+ module are 1010000x (A0h)   and 1010001x (A2h).


SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 42SFF-8431    SFP+ 2-wire Interface      July 6, 2009 REVISION 4.1           PUBLISHED



      Table 22  SFP+ 2-wire Timing Specifications

  Parameter       Symbol           Min.    Max.     Unit        Conditions

    Clock Frequency    fSCL       0        400     kHz      Module shall operate with fSCL up to 100 kHz    without requiring clock stretching. The mod-   ule may clock stretch with fSCL greater than    100 kHz and up to 400 kHz.     μ     Clock Pulse Width Low         tLOW       1.3     s     μ     Clock Pulse Width High        tHIGH      0.6     s     μ     Time bus free before new trans- tBUF     20      s      Between STOP and START and between ACK      mission can start   and ReSTART     μ     START Hold Time    tHD,STA    0.6     s     μ     START Set-up Time  tSU,STA    0.6     s     μ     Data In Hold Time  tHD,DAT    0       s     μ     Data In Set-up Time           tSU,DAT    0.1     s

    Input Rise Time   (100 kHz)   tR,100   1000    ns       From (VIL,MAX - 0.15) to (VIH,MIN + 0.15)

    Input Rise Time   (400 kHz)   tR,400   300     ns       From (VIL,MAX - 0.15) to (VIH,MIN + 0.15)

    Input Fall Time   (100 kHz)   tF,100   300     ns       From (VIH,MIN + 0.15) to (VIL,MAX - 0.15)

    Input Fall Time   (400 kHz)   tF,400   300     ns       From (VIH,MIN + 0.15) to (VIL,MAX - 0.15)     μ     STOP Set-up Time   tSU,STO    0.6     s


4.4  MEMORY TRANSACTION TIMING           
SFP+ memory transaction timings are given in Table 23. 
Table 23  SFP+ Memory Specifications
4.4存储器事务时序
SFP +存储器事务定时在表23中给出。
表23 SFP +内存规格

          Parameter     Symbol        Min.     Max.     Unit           Conditions

 Serial Interface Clock Holdoff  T_clock_hold  500       μs     Maximum time the SFP+ module may hold the SCL   “Clock Stretching”     line low before continuing with a read or write operation

 Complete Single or Sequential       tWR        40       ms  Write up to 4 Byte

 Complete Sequential Write of        tWR        80       ms  5-8 Byte

 Endurance (Write Cycles)   10 k cycles


SFP+ (Enhanced 10 Gbps Pluggable Module)       Page 43SFF-8431   SFP+ 2-wire Interface           July 6, 2009 REVISION 4.1    PUBLISHED

4.5  DEVICE ADDRESSING AND OPERATION 
Serial Clock (SCL): The host supplied SCL input to SFP+ transceivers is used to  positively edge clock data into each SFP+ device and negative edge clock data  out of each device. The SCL line may be pulled low by an SFP+ module during  clock stretching.

       Serial Data (SDA): The SDA contact is bi-directional for serial data transfer.  This contact is open-drain or open-collector driven and may be wire-ORed  with other open-drain or open collector devices with different device ad- dresses, provided the total bus capacitance meets the requirement of Table 21  and the Serial Clock (SCL) is also wire-ORed.

       Master/Slave: SFP+ transceivers operate only as slave devices. The host must  provide a bus master for SCL and initiate all read/write communication.

       Device Address: Each SFP+ is hard wired at the device addresses A0h and A2h.  See SFF-8472 for memory structure within each transceiver.

       Clock and Data Transitions: The SDA contact is normally pulled high with an  external device. Data on the SDA contact may change only during SCL low  time periods. Data changes during SCL high periods indicate a START or STOP  condition. All addresses and data words are serially transmitted to and from  the SFP+ in 8-bit words. Every byte on the SDA line must be 8-bits long. Data is  transferred with the most significant bit (MSB) first.

       START Condition: A high-to-low transition of SDA with SCL high is a START  condition, which must precede any other command.

       STOP Condition: A low-to-high transition of SDA with SCL high is a STOP con- dition.

       Acknowledge: After sending each 8-bit word, the transmitter releases the  SDA line for one bit time, during which the receiver is allowed to pull SDA low  (zero) to acknowledge (ACK) that it has received each word. Device address  bytes and write data bytes initiated by the host shall be acknowledged by  SFP+ transceivers. Read data bytes transmitted by SFP+ transceivers shall be  acknowledged by the host for all but the final byte read, for which the host  shall respond with a STOP instead of an ACK.

       Non-acknowledge (NACK): When a slave is unable to receive or transmit, be- cause, e.g., it is performing a higher priority function, the data line shall be left  high by the slave. A NACK is generated when the slave leaves the data line high  during the ACK clock pulse. The master can then generate either a STOP con- dition to abort the transfer or a repeated START condition to start a new  transfer.
4.5设备寻址和操作
串行时钟（SCL）：向SFP +收发器提供SCL输入的主机用于将每个SFP +器件的正边沿时钟数据和每个器件的负沿时钟数据进行正边沿。时钟延长期间，SCL线可能被SFP +模块拉低。

       串行数据（SDA）：SDA联系人是双向串行数据传输。该触点是开漏或集电极开路驱动的，并且可能与其他不同设备地漏极开路或开路集电极设备进行导线连接，只要总总线电容满足表21和串行时钟（SCL）的要求）也是有线的。

       主/从：SFP +收发器仅作为从设备运行。主机必须为SCL提供总线主机，并启动所有读/写通信。

       设备地址：每个SFP +都在设备地址A0h和A2h进行硬连线。请参见SFF-8472，了解每个收发器内的存储器结构。

       时钟和数据转换：SDA触点通常用外部设备拉高。 SDA联系人上的数据只能在SCL低电平时间段内更改。 SCL高电平期间的数据更改表示START或STOP条件。所有地址和数据字以8位字串行发送到SFP +。 SDA线上的每个字节必须为8位长。首先用最高有效位（MSB）传输数据。

       START条件：SDA与SCL为高电平的高电平到低电平转换为START条件，必须先于任何其他命令。

       停止条件：SDA与SCL为高电平的低电平到高电平转换是停止条件。

       确认：在发送每个8位字之后，发送器释放SDA线一段时间，在此期间允许接收机将SDA拉低（零）以确认（ACK）已接收到每个字。由主机发起的设备地址字节和写入数据字节应由SFP +收发器确认。由SFP +收发器发送的读取数据字节应由主机确认，除了最后读取的字节外，主机应以STOP而不是ACK进行响应。

       非应答（NACK）：当从站不能接收或发送时，由于例如执行较高优先级功能，则从机将数据线置为高电平。当从机在ACK时钟脉冲期间离开数据线为高电平时，产生NACK。然后，主机可以产生停止条件以中止传输或重复START条件以开始新的传输。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 44SFF-8431   SFP+ 2-wire Interface           July 6, 2009 REVISION 4.1    PUBLISHED

       When in a transfer, a master-receiver must signal the end of data to the slave- transmitter by not generating an acknowledge on the last byte clocked out of  the slave. A NACK is generated when the master leaves the data line High  during the ACK clock pulse. The slave-transmitter must release the data line to  permit the master to generate a STOP or repeated START condition.

       Memory (Management Interface) Reset: After an interruption in protocol,  power loss or system reset the SFP+ management interface can be reset.  Memory reset is intended only to reset the SFP+ transceiver management in- terface (to correct a hung bus). No other transceiver functionality is implied.

    1) Clock up to 9 cycles.     
2) Look for SDA high in each cycle while SCL is high.     
3) Create a START condition as SDA is high. Device Addressing: SFP+ devices require an 8 bit device address word fol- lowing a start condition to enable a read or write operation. The device ad- dresses to select A0h or A2h are shown in Table 24. This is common to all SFP+   devices.
在传送时，主机 - 接收器必须通过在从机从时钟输出的最后一个字节上产生一个确认信号来向从机发送器发出数据的结束信号。当主器件在ACK时钟脉冲期间离开数据线High时，产生NACK。从站发送器必须释放数据线，以允许主站产生STOP或重复START条件。

       内存（管理接口）复位：协议中断后，掉电或系统复位，SFP +管理接口可以复位。内存复位仅用于复位SFP +收发器管理界面（更正挂起总线）。没有其他收发器功能被暗示。

    1）时钟最多9个周期。
2）SCL为高电平时，在每个周期内寻找高电平。
3）在SDA为高电平时创建START条件。器件寻址：SFP +器件需要一个8位器件地址字，然后按起始条件启用读或写操作。选择A0h或A2h的设备地址如表24所示。这对所有SFP +设备都是常见的。

 Table 24  SFP+ Device Address Word

    Address     Address  R/W select     (MSB)    Select    (LSB)       A0h1010000x

      A2h1010001x

 The LSB of the device address word is the read/write operating select bit. A   read operation is initiated if this bit is set high and a write operation is initiated   if this bit is set low.
器件地址字的LSB是读/写操作选择位。 如果该位置为高电平，并且如果该位置低，则启动写操作，则启动读操作。

4.6  READ/WRITE FUNCTIONALITY 
The methods for reading from and writing to the two different SFP+ addresses  A0h and A2h are described in this section.   They are identical for the two dif- ferent addresses except that the appropriate address is used for each read and  write. For simplicity in the figures the address is labelled 101000x where the x  is 0 for the A0h address and 1 for the A2h address.   Note that the address here  is only seven bits. In order to complete the full 8 bit byte a one or zero is added  to the end of the address depending on whether a read or a write operation is  taking place.

4.6.1  SFP+ MEMORY ADDRESS COUNTER (READ AND WRITE OPERATIONS) 
SFP+ devices maintain two internal data word address counters one for each  address. These counters contain the last address accessed during the latest read or write operation, incremented by one. The address counter is incre- mented whenever a data word is received or sent by the transceiver. This ad- dress stays valid between operations as long as SFP+ power is maintained. The  address “roll over” during read and write operations is from the last byte of the  256 byte memory page to the first byte of the same page.

4.6.2  READ OPERATIONS (CURRENT ADDRESS READ) 
A current address read operation requires only the device address read word  (10100001 or 10100011) be sent, Figure 27. Once acknowledged by the SFP+,   the current address data word is serially clocked out. The host does not re-  spond with an acknowledge, but does generate a STOP condition once the   data word is read.
4.6读/写功能
本节将介绍从两种不同SFP +地址A0h和A2h读取和写入的方法。它们对于两个不同的地址是相同的，除了适当的地址用于每次读取和写入。为了简单起见，地址标记为101000x，对于A0h地址，x为0，对于A2h地址为1。请注意，这里的地址只有7位。为了完成完整的8位字节，一个或零被添加到地址的结尾，这取决于是读或写操作是否发生。

4.6.1 SFP +存储器地址计数器（读和写操作）
SFP +设备为每个地址保留两个内部数据字地址计数器。这些计数器包含在最近的读取或写入操作期间访问的最后一个地址，增加一个。只要收发器接收或发送数据字，地址计数器就会递增。只要维护SFP +电源，此操作在操作之间保持有效。读写操作中的地址“翻转”是从256字节存储器页面的最后一个字节到同一页面的第一个字节。

4.6.2读操作（当前地址读）
当前地址读取操作仅需要发送器件地址读取字（10100001或10100011），图27.一旦SFP +确认，当前地址数据字被串行输出。主机不响应确认，但一旦读取数据字，就会产生STOP条件。

       < -- SFP+ ADDRESS ->

          HOST S  M           L R          N S     T  S           S E          A T     A  B           B A          C O     R     D          K P     T

       101000x10xxxxxxxx1

          SFP+          A M   L       C S   S       K B   B

        <----- DATA WORD ----->

   Figure 27  Current Address Read Operation

4.6.3  READ OPERATIONS (RANDOM READ) 
A random read operation requires a “dummy” write operation to load in the  target byte address Figure 28. This is accomplished by the following sequence:   The target 8-bit data word address is sent following the device address write   word (10100000 or 10100010) and acknowledged by the SFP+. The host then   generates another START condition (aborting the dummy write without incre-  menting the counter) and a current address read by sending a device read ad-  dress (10100001 or 10100011). The SFP+ acknowledges the device address   and serially clocks out the requested data word. The host does not respond   with an acknowledge, but does generate a STOP condition once the data word   is read.
4.6.3读操作（随机读）
随机读取操作需要在目标字节地址中加载“虚拟”写入操作。图28.这是通过以下顺序完成的：目标8位数据字地址是按照器件地址写入字（10100000或10100010）发送的， 并得到SFP +的承认。 然后，主机产生另一个START条件（中止虚拟写入而不增加计数器）和通过发送设备读取地址（10100001或10100011）读取的当前地址。 SFP +确认设备地址并对所请求的数据字进行串行计时。 主机不响应确认，但一旦读取数据字，就会产生STOP条件。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 46SFF-8431   SFP+ 2-wire Interface           July 6, 2009 REVISION 4.1    PUBLISHED


   < -- SFP+ ADDRESS -> <- MEMORY ADDRESS -> < -- SFP+ ADDRESS -->

       HOST S M L W    M  L    S M L R         N S  T S S R    S  S    T S S E         A T  A B B      B  B    A B B A         C O  R     I            R     D         K P  T     T            T E

   101000x00xxxxxxxx0            101000x10xxxxxxxx1

       SFP+         A        A         A M   L   C        C         C S   S   K        K         K B   B

      <---- DATA WORD ---->

           Figure 28  Random Read

4.6.4  READ OPERATIONS (SEQUENTIAL READ) 
Sequential reads are initiated by either a current word address read Figure 29   or a random address read Figure 30. To specify a sequential read, the host responds with an acknowledge (instead of a STOP) after each data word. As long   as the SFP+ receives an acknowledge, it shall serially clock out sequential data   words. The sequence is terminated when the host responds with a NACK and   a STOP instead of an acknowledge.
4.6.4读操作（顺序读）
顺序读取由读取图29的当前字地址或读取图30的随机地址启动。为了指定顺序读取，主机在每个数据字之后响应一个确认（而不是一个STOP）。 只要SFP +接收到确认，它将连续地排除顺序数据字。 当主机以NACK和STOP而不是确认响应时，该序列终止。

     < -- SFP+ ADDRESS ->

         HOST S M L R          A       A       N S    T S S E          C       C       A T    A B B A          K       K       C O    R     D        K P    T

     101000x10xxxxxxxx0xxxxxxxx0xxxxxxxx1

         SFP+          A M   L   M   L   M   L      C S   S   S   S   S   S      K B   B   B   B   B   B

        <---- DATA WORD n  --> <--- DATA WORD n+1 ---> <-- DATA WORD n+x  -->

  Figure 29  Sequential Address Read Starting at Current Word Address


SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 47  SFF-8431   SFP+ 2-wire Interface           July 6, 2009   REVISION 4.1    PUBLISHED


    < - SFP+        <--- MEMORY      < - SFP+      ADDRESS ->      ADDRESS -->      ADDRESS --->

H S M         L W   M          L   S M         L R    A  A   N S O T S         S R   S          S   T S         S E    C  C   A T S A B         B I   B          B   A B         B A    K  K   C O T R  T       R  D    K P   T  E       T

    1 01000x    0 0 x xxxxxxx    0   1 01000x    1 0 x xxxxxxx   0 x xxxxxxx   0 x xxxxxxx    1

S      A   A     A M          L   M         L   M          L F      C   C     C S          S   S         S   S          S P      K   K     K B          B   B         B   B          B +

            <-- DATA WORD n --> < DATA WORD n+1 > < DATA WORD n+x  >

       Figure 30  Sequential Address Read Starting with Random Read

  4.6.5  WRITE OPERATIONS (BYTE WRITE)    
A write operation requires an 8-bit data word address following the device ad-   dress write word (10100000 or 10100010) and acknowledgement Figure 31.    Upon receipt of this address, the SFP+ shall again respond with a zero (ACK) to    acknowledge and then clock in the first 8 bit data word. Following the receipt    of the 8 bit data word, the SFP+ shall output a zero (ACK) and the host master    must terminate the write sequence with a STOP condition for the write cycle    to begin. If a START condition is sent in place of a STOP condition (i.e. a repeated START per the I2C specification) the write is aborted and the data re-   ceived during that operation is discarded. Upon receipt of the proper STOP    condition, the SFP+ enters an internally timed write cycle, tWR, to internal     memory. The SFP+ disables its management interface input during this write     cycle and shall not respond or acknowledge subsequent commands until the     write is complete. Note that I2C “Combined Format” using repeated START    conditions is not supported on SFP+ write commands.
4.6.5写操作（BYTE WRITE）
写操作需要在器件地址写字（10100000或10100010）之后的8位数据字地址和确认图31.当接收到该地址时，SFP +将再次以零（ACK）响应以确认，然后时钟在前8位数据字。在接收到8位数据字之后，SFP +将输出零（ACK），并且主机主机必须以写入周期开始的STOP条件终止写入序列。如果发送START条件代替STOP条件（即根据I2C规范重复启动），写入将中止，并且在该操作期间接收到的数据被丢弃。在收到正确的STOP条件后，SFP +将内部定时写入周期tWR输入到内部存储器。在写入周期期间，SFP +禁止其管理接口输入，并且在写入完成之前不会响应或确认后续命令。请注意，SFP +写命令不支持使用重复启动条件的I2C“组合格式”。

         < -- SFP+ ADDRESS --> <-- MEMORY ADDRESS -> <----- DATA WORD  ---->

 HOST  S M           L  W   M   L   M   L   S        T S           S  R   S   S   S   S   T        A B           B  I   B   B   B   B   O        R     T P        T     E

         101000x00xxxxxxxx0xxxxxxxx0

 SFP+          A       A       A     C       C       C     K       K       K


       Figure 31  SFP+ Write Byte Operation


  SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 48SFF-8431   SFP+ 2-wire Interface           July 6, 2009 REVISION 4.1    PUBLISHED

4.6.6  WRITE OPERATIONS (SEQUENTIAL WRITE)  
SFP+ shall support up to an 8 sequential byte write without repeatedly  sending SFP+ address and memory address information. A “sequential” write  is initiated the same way as a single byte write, but the host master does not  send a stop condition after the first word is clocked in. Instead, after the SFP+  acknowledges receipt of the first data word, the host can transmit up to seven  more data words. The SFP+ shall send an acknowledge after each data word  received. The host must terminate the sequential write sequence with a STOP  condition or the write operation shall be aborted and data discarded. Note  that I2C “combined format” using repeated START conditions is not supported   on SFP+ write commands.
4.6.6写操作（顺序写）
SFP +最多支持8个连续的字节写入，而不会重复发送SFP +地址和存储器地址信息。 “顺序”写入以与单字节写入相同的方式发起，但主机主机在第一个字被计时后不发送停止条件，而是在SFP +确认收到第一个数据字之后，主机可以 传送多达七个数据字。 SFP +应在收到的每个数据字后发送确认。 主机必须以停止条件终止顺序写入序列，否则写操作将中止并丢弃数据。 请注意，SFP +写命令不支持使用重复启动条件的I2C“组合格式”。

     < --- SFP+ ADDRESS <--- MEMORY <--DATA       <--- DATA WORD 2 --> <------ DATA <------ DATA       ---> ADDRESS -->     WORD 1 -->         WORD 3 ------> WORD 4 ------>

H  S M          L W  M          L   M         L   M L   M          L  M          L   S O  T S          S R  S          S   S         S   S S   S          S  S          S   T S  A B          B I  B          B   B         B   B B   B          B  B          B   O T  R   T        P    T   E

     101000x00xxxxxxxx 0 x xxxxxxx   0 xxxxxxxx0xxxxxxxx 0 x xxxxxxx    0

S       A   A  A     A  A   A F       C   C  C     C  C   C P       K   K  K     K  K   K +

     Figure 32  Sequential Write Operation

4.6.7  WRITE OPERATIONS (ACKNOWLEDGE POLLING) 
Once the SFP+ internally timed write cycle has begun (and inputs are being ignored on the bus) acknowledge polling can be used to determine when the  write operation is complete. This involves sending a START condition followed  by the device address word. Only if the internal write cycle is complete shall  the SFP+ respond with an acknowledge to subsequent commands, indicating  read or write operations can continue.
4.6.7写操作（确认调查）
一旦SFP +内部定时写周期开始（总线上忽略输入），确认轮询可用于确定写操作何时完成。 这涉及发送START条件，后跟设备地址字。 只有内部写周期完成，SFP +才能对后续命令进行应答，表明读或写操作可以继续。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 49SFF-8431  SFI Channel Recommendation (Informative)           July 6, 2009 REVISION 4.1    PUBLISHED

APPENDIX A  SFI CHANNEL RECOMMENDATION (INFORMATIVE)


A.1  SFI HOST CHANNEL GENERAL RECOMMENDATIONS 
The purpose of the recommended SFI channel is to provide guidelines for host  designers. The recommended SFI host channel consists of PCB traces, vias, and  the 20 position enhanced connector defined by SFF-8083. The PCB traces are  recommended to meet 100 ±10 Ω differential impedance with nominal 7% dif-  ferential coupling.

 SFI channel S-parameters are defined from ASIC transmitter pads to Host Com-  pliance Board output at B and from Host Compliance Board input at C to ASIC   input pads.

 Please see SFF INF-8077i for differential S-parameters measurements and con-  versions.
附录A SFI频道推荐（信息）


A.1 SFI主机通道一般建议
推荐的SFI通道的目的是为主机设计人员提供指导。 推荐的SFI主机通道由PCB走线，通孔和SFF-8083定义的20位增强型连接器组成。 PCB走线推荐满足100±10Ω差分阻抗，额定7％的差分耦合。

  SFI通道S参数从ASIC发送器焊盘定义为主机兼容板输出，并从C的主机兼容板输入定义为ASIC输入焊盘。

  请参见SFF INF-8077i，用于差分S参数测量和转换。


A.2  SFI CHANNEL TRANSFER RECOMMENDATIONS 
The SFI maximum channel transfer budget is 9.0 dB allocated as shown in  Table 25.
A.2 SFI通道转移建议
SFI最大信道传输预算分配为9.0 dB，如表25所示。

 Table 25 SFI Host Interconnect Budget

    Parameter  Symbol       Conditions      Min      Max     Units

    Channel Transfer Including Connector measured SDD21 at 5.5 GHz, see 1 -6.5    -2.25    dB     with Host Compliance Board (see Appendix C)

    Penalty for reflections and other impairments   -2.5  dB

    Total Channel Link Budget When Measured with HCB           -9.0    -2.25    dB

    1.SFI channel response (SDD21) is defined from chip pads to compliance point B or C.


 To mitigate multiple reflections, SFI also recommends a minimum channel at-  tenuation. This requirement for both a minimum and maximum channel at-  tenuation results in a mask that is shown approximately by Figure 33. The   response including ripple should be within the channel response mask.

 The SFI recommended channel is measured with the ASIC removed and mea-  sured with the Host Compliance Board of section C.2. The S-parameters are  measured by connecting a 4-port network analyzer to the ASIC pads and the  SMA connectors on the Host Compliance Board.
为了减轻多重反思，SFI还建议最低限度的通道。 对于最小和最大通道损耗的这一要求将产生一个近似图33所示的掩模。包括纹波的响应应在通道响应掩码内。

  SFI推荐通道的测量与ASIC部分的主机合规委员会删除和测量。 通过将4端口网络分析仪连接到主机合规板上的ASIC焊盘和SMA连接器来测量S参数。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 50SFF-8431  SFI Channel Recommendation (Informative)           July 6, 2009 REVISION 4.1    PUBLISHED



  0

 -2       Example of a C

   omplian   -4      t Channel           Maximum Allowed Channel Transfer   -6

  -8 SDD21  (dB) -10

           -12        Minimum Allowed    Channel Transfer

           -14

           -16     0     123456     7      8910    11      Frequency (GHz)          Figure 33  Example of SFI Host Recommended Channel

       The minimum channel transfer SDD21 (maximum loss) mask contour is given  by:

  SDD21()dB    = –0.73      f from 0.01 GHz to 0.25 GHz    ()      ()×  ×    SDD21   dB  =  –0.108 – 0.845    f – 0.802  f  f from 0.25 GHz to 7 GHz

      SDD21()dB   =  20– 4 × f    f from 7 GHz to 8 GHz

      SDD21()dB   ≥ –16        f from 8 GHz to 11.1 GHz where f is the frequency in GHz.


SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 51SFF-8431  SFI Channel Recommendation (Informative)           July 6, 2009 REVISION 4.1    PUBLISHED

       The SFI channel maximum transfer is given by:.

      SDD21()dB   = 0         f from 0.25 GHz to 1.0 GHz           ()         × (     )     SDD21  dB   = 0.5   1 – f f from 1 GHz to 7 GHz

     SDD21()dB   =  –3        f from 7 GHz to 11.1 GHz where f is the frequency in GHz.


A.3  SFI CHANNEL RETURN LOSS RECOMMENDATIONS The reflection coefficients, SDD11 and SDD22, of the SFI channel are recom- mended to meet the following equations:

           SDDxx() dB  ≤ –14.5     f from 0.01 to 5 GHz

        ⎛⎞f          SDDxx() dB ≤ –23.25 + 8.75 × ---     f from 5 to 11.1 GHz         ⎝⎠5

       where f is the frequency in GHz and SDDxx is either SDD11 or SDD22.


A.4  SFI CHANNEL RIPPLE RECOMMENDATIONS 
SFI channel ripple is defined as the difference between the measured insertion  response (SDD21m) and the fitted transfer response (SDD21f), all in dB magnitude:

  ()        Ripple dB  = SDD21m–SDD21     f

 The channel ripple magnitude should conform to the equation:

         Ripple() dB ≤ 0.15+ 0.1 × f

 where the variable f (frequency) is in GHz. The above equation must be satis- fied over the frequency range of 0.25 GHz to 5.5 GHz.
A.4 SFI通道RIPPLE建议
SFI通道纹波定义为测量的插入响应（SDD21m）和拟合传递响应（SDD21f）之间的差值，全部以dB为单位：

   （）纹波dB = SDD21m-SDD21 f

  通道纹波幅值应符合下列公式：

          纹波（）dB≤0.15+ 0.1×f

  其中变量f（频率）为GHz。 在0.25GHz至5.5GHz的频率范围内必须满足上述方程式。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 52SFF-8431  SFI Channel Recommendation (Informative)           July 6, 2009 REVISION 4.1    PUBLISHED

       SDD21m is the measured channel differential transfer response. SDD21f is the  fitted channel differential transfer response and is given by

      [       ×       ×  ]        SDD21  f = – a – bf–     cf

       Where a, b, and c are determined by the least squares fit over the frequency  range of 250 MHz to 5.5 GHz as defined below. Frequency steps should be of  equal size and not greater than 50 MHz.

       Measured data will provide a frequency vector, f, and gain vector, G defined by

      ×      []            G=  20  log10 SDD21

       Create an input vector array called X from frequency variable f

  1   f 0 f 0    X  =  1   f 1 f 1   ..      .   1   fn fn

       Next calculate the coefficient vector using matrix math        –1            CX=  []T × X    XT × G

       Where the calculated coefficient values are given by

    •  a = -C(1)     •  b = -C(2)     •  c = -C(3).
SDD21m是测量的通道差分传递响应。 SDD21f是拟合的通道差分传递响应，由...给出

       [××] SDD21 f = - a - bf- cf

        其中a，b和c由如下定义的250MHz至5.5GHz的频率范围上的最小二乘拟合确定。 频率步长的大小应不大于50 MHz。

        测量数据将提供频率矢量f和增益矢量，G由G定义

       ×[] G = 20log10 SDD21

        从频率变量f创建一个名为X的输入向量数组

   1 f 0 f 0 X = 1 f 1 f 1 .. 1 fn fn

        接下来使用矩阵数学计算系数向量-1 CX = [] T×X XT×G

        计算的系数值由下式给出

     •a = -C（1）•b = -C（2）•c = -C（3）。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 53SFF-8431  SFI ASIC/SerDes Specification (Informative)        July 6, 2009 REVISION 4.1    PUBLISHED

APPENDIX B SFI ASIC/SERDES SPECIFICATION (INFORMATIVE)


B.1  INTRODUCTION 
SFI ASIC/SerDes specifications are informative. SFI ASIC/SerDes Transmitter  specifications at reference point A are given in B.2. SFI ASIC/SerDes Receiver   specifications at reference point D are given in B.3. ASIC/SerDes meeting the  specifications in this appendix when used with the recommended channel of  Appendix A are expected to meet the host specifications at B 3.5.1 and C 3.5.2,  however any implementation that meets those host specifications is a com- pliant SFP+ implementation, independent of whether the ASIC/SerDes and/or  channel meet the specifications in Appendix A and this appendix. This allows  flexibility between channel and SerDes performances and costs.

B.2  SFI ASIC/SERDES TRANSMITTER OUTPUT SPECIFICATIONS AT A (INFORMATIVE) 
The driver is based on low voltage high speed driver logic with a nominal dif- ferential impedance of 100 Ω. The SFI transmitter electrical specifications at  reference point A are given in Table 26. The source must provide both differen-  tial and common mode termination for quality signal termination and low EMI.

 Pre-compensation such as de-emphasis may be required to mitigate data de-  pendent jitter at compliance point B.

 All parameters at A are measured with the ASIC/SerDes Test Board as shown in  C.1.3.

       Jitter specifications at A are not provided, the host transmitter in conjunction  with the host SFP+ channel must deliver jitter specifications as given by refer- ence point B, Table 12.
附录B SFI ASIC / SERDES规范（信息）


B.1引言
SFI ASIC / SerDes规格信息丰富。 SFI ASIC / SerDes参考点A的变送器规格见B.2。 SFI ASIC / SerDes参考点D的接收机规格见B.3。与附录A的推荐频道一起使用时，符合本附录规定的ASIC / SerDs将满足B 3.5.1和C 3.5.2的主机规格，但是满足这些主机规范的任何实现都是兼容的SFP +实现，独立于ASIC / SerDes和/或通道是否符合附录A和本附录中的规格。这允许通道和SerDes性能和成本之间的灵活性。

B.2 SFI ASIC / SERDES发射机输出规范（信息）
驱动器基于低电压高速驱动器逻辑，标称差分阻抗为100Ω。参考点A的SFI发射机电气规范在表26中给出。源必须为质量信号终止和低EMI提供差分和共模终止。

 可能需要诸如去加重之类的预补偿来减轻遵守点B处的数据依赖性抖动。

 A中的所有参数用C.1.3所示的ASIC / SerDes测试板进行测量。

       不提供A处的抖动规范，主机发射机与主机SFP +通道配合必须提供参考点B，表12给出的抖动规范。

B.3  SFI ASIC/SERDES RECEIVER INPUT SPECIFICATIONS AT D (INFORMATIVE) 
SFI ASIC/SerDes receiver electrical specifications are given in Table 27 and   measured at reference point D. All specifications at D are measured with the   SerDes on a ASIC/SerDes Test Board C.1.3. The nominal receiver input imped-  ance is 100 Ω differential. The load must provide differential termination and   avoid significant differential to common mode conversion for high quality   signal termination and low EMI.

 The necessary jitter performance at D is to be determined by the implementer   based on the specifications at C.
B.3 SFI ASIC / SERDES接收器输入规范D（信息）
SFI ASIC / SerDes接收机电气规范在表27中给出，并在参考点D进行测量.D上的所有规格用ASIC / SerDes测试板C.1.3上的SerDes进行测量。 标称接收机输入阻抗为100Ω差分。 负载必须提供差分终端，并避免对于高质量信号终端和低EMI的共模转换的显着差异。

  D的必要抖动性能由实施者根据C的规格确定

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 54SFF-8431     SFI ASIC/SerDes Specification (Informative)            July 6, 2009 REVISION 4.1           PUBLISHED


         Table 26  ASIC/SerDes Transmitter Output Electrical Specifications at A

        Parameter - A Symbol          Conditions         Min      Typ     Max        Units

        Differential Output Voltage       Vdiff     see 1    mV (p-p)   Δ         Termination Mismatch at 1 MHz      ZM See D.16      5          %

        Single Ended Output Voltage Range     -0.3   4.0        V

        Output Rise and Fall time  (20% to 80%)      Tr,Tf           See D.6           24    ps

        Output AC Common Mode Voltage  See D.15      12     mV (RMS)

       0.01 to 2.8 GHz  -12        dB         Differential Output S-parameter 2           SDD22        2.8 to 11.1 GHz            see 3       dB

        Common Mode Output S-parameter 4 SCC22        0.01 to 4.74 GHz            -9         dB

       4.74 to 11.1 GHz           see 5       dB

        1. Host ASIC output must be set in combination of host channel to meet Y1 and Y2 levels of Table 12.         
2.  Reference differential impedance is 100  Ω

        3. Differential Output S-parameter is given by equation SDD22(dB)= -8.15 + 13.33 log10(f/5.5), with f in GHz.         
4. Reference common mode impedance is 25  Ω

        5. Common mode output S-parameter is given by equation SCC22(dB)= -8.15 + 13.33 log10(f/5.5), with f in GHz.
主机ASIC输出必须与主机通道组合，以满足表12的Y1和Y2电平。
参考差分阻抗为100Ω

         差分输出S参数由等式SDD22（dB）= -8.15 + 13.33 log10（f / 5.5）给出，f为GHz。
参考共模阻抗为25Ω

         共模输出S参数由等式SCC22（dB）= -8.15 + 13.33 log10（f / 5.5）给出，f为GHz。
            Table 27  ASIC/SerDes Receiver Electrical Input Specifications at D

        Parameter - D Symbol          Conditions         Min      Typ     Max        Units

        Differential Input Voltage Swing Supporting  Vdiff See 1      850      mV (p-p)         Limiting Module          Differential Input Voltage Modulation       VMA See 1, 5, D.7            600        mV          Amplitude Supporting Linear Module         AC Common Mode Voltage Tolerance     see D.15.3          15           mV (RMS)

       0.01 to 2.8 GHz  -12        dB         Differential Input S-parameter 2 SDD11        2.8 to 11.1 GHz            see 3       dB

        Differential to Common Mode Input           SCD11        0.01 to 11.1 GHz            -15        dB          Conversion S-parameter 4         
1. Maximum value represents maximum input level to be tolerated by receiver.         
2.  Reference differential impedance is 100  Ω.

        3. Response is given by equation SDD11(dB)= -8.15 + 13.33 log10(f/5.5), with f in GHz.         
4. The test set common mode reference impedance is 25 Ω.          
5. Peak levels may exceed VMA due to overshoot of the far end transmitter.
最大值表示接收器允许的最大输入电平。
参考差分阻抗为100Ω。

         响应由等式SDD11（dB）= -8.15 + 13.33 log10（f / 5.5）给出，f为GHz。
4.测试仪共模参考阻抗为25Ω。
由于远端发射机的过冲，峰值电平可能会超过VMA。

SFP+ (Enhanced 10 Gbps Pluggable Module)       Page 55SFF-8431  Application Reference Boards (Normative)           July 6, 2009 REVISION 4.1    PUBLISHED

APPENDIX C  APPLICATION REFERENCE BOARDS (NORMATIVE)


       In order to provide test results that are reproducible and easily measured, this  document defines 3 test boards that have SMA interfaces for easy connection  to test equipment. One reference board is designed for testing the  ASIC/SerDes, one reference board (HCB) for testing the host, and another ref- erence board (MCB) for testing the module. All host, module and ASIC/SerDes  specifications and recommendations in this document, and the specifications  for the mated pair of compliance boards, are defined at the SMA interfaces.  This appendix describes these test cards in detail. The reference test boards’  objectives are:

       •   Satisfy the need for interoperablity at the electrical level. •   Allow for independent validation of ASIC/SerDes, host, and module. •   The PCB traces are targeted at 100 Ω differential impedance with nominal      7% differential coupling. Testing compliance to specifications in a high-speed system is delicate and re- quires thorough consideration. Using common test boards that allow predict- able, repeatable and consistent results among vendors will help to ensure  consistency and true compliance in the testing.
附录C应用参考板（NORMATIVE）


       为了提供可重现和测量的测试结果，本文档定义了3个具有SMA接口的测试板，便于连接到测试设备。一个参考板设计用于测试ASIC / SerDes，一个用于测试主机的参考板（HCB）和用于测试模块的另一个参考板（MCB）。 SMA接口定义了本文档中的所有主机，模块和ASIC / SerDes规范和建议，以及配对对合规板的规格。本附录详细介绍了这些测试卡。参考测试板的目标是：

       •满足电气层面互操作性的需要。 •允许对ASIC / SerDes，主机和模块进行独立验证。 •PCB走线的目标是100Ω差分阻抗，额定7％差分耦合。在高速系统中测试符合规格的细节是需要考虑的。使用通用测试板，可以在供应商之间实现可预测，可重复和一致的结果，有助于确保测试中的一致性和真正符合性。

C.1  COMPLIANCE BOARDS  
The Host Compliance Board, the Module Compliance Board, and the ASIC test  board are made with defined losses of PCB trace with specific high perfor- mance properties. Compliance boards are intended to ease building practical  test boards with non-zero loss. SFI specifications incorporate the effect of non- zero loss reference test boards which improve the return loss and slightly slows  down edges.

       Measurements made using non-compliant test boards are invalid and no valid  conclusions can be drawn from the results.

C.1.1  HOST COMPLIANCE BOARD TRANSFER CHARACTERISTICS SDD21 is defined from the SFF-8083 mating pads, excluding these mating  pads, to the mating interface of the SMA connector. The Host Compliance  Board is a passive test board and SDD21 and SDD12 should be identical. The  recommended response of the Host Compliance Board PCB excluding the SFF- 8083 connector is given by.

 SDD21()dB   = ()–0.01 – 0.25 × f – 0.0916 × f  from 0.01 to 15 GHz
C.1合规板
主机合规委员会，模块合规板和ASIC测试板由具有特定高性能特性的PCB走线定义的损耗制成。合规板旨在缓解构建具有零损耗的实际测试板。 SFI规范结合了非零损耗参考测试板的作用，可提高回波损耗并稍微减慢边沿。

       使用不符合标准的测试板进行的测量是无效的，并且不能从结果中得出有效的结论。

C.1.1主机兼容板传输特性SDD21从SFF-8083配对焊盘（不包括这些配对焊盘）定义到SMA连接器的配对接口。主机合规板是被动测试板，SDD21和SDD12应相同。除SFF-8083连接器外，主机合规板PCB的建议响应由...给出。

 从0.01到15GHz的SDD21（）dB =（）-0.01-0.25×f-0.0916×f

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 56SFF-8431  Application Reference Boards (Normative)           July 6, 2009 REVISION 4.1    PUBLISHED

       where f is the frequency in GHz. From 10 MHz to 11.1 GHz the discrepancy be- tween the measured transfer response and the specified SDD21(dB) shall be  <±15% of the transfer response in dB or ±0.1 dB, whichever is larger. For fre-  quencies > 11.1 GHz and up to 15 GHz the discrepancy between measured   transfer response and the specified SDD21(dB) shall be less than ±25% transfer   response in dB.

  The channel transfer characteristic is shown approximately in Figure 34.
其中f是以GHz为单位的频率。 从10 MHz到11.1 GHz，测量的传输响应和规定的SDD21（dB）之间的差异应在传输响应的±15％（dB）或±0.1 dB（以较大者为准）。 对于频率> 11.1 GHz和高达15 GHz，测量的传输响应与指定的SDD21（dB）之间的差异应小于传输响应的±25％（dB）。

   通道传输特性大致如图34所示。

        0.0

       -0.5

       -1

       -1.5      SDD21  (dB)

       -2

       -2.5  0     1.5    3      4.5   6      7.5    910.5        12     13.5  15   Frequency (GHz)       Figure 34  Approximate Response of Host Compliance Board

 SFF-8083 connector response is defined by SFF-8083.

C.1.2  MODULE COMPLIANCE BOARD TRANSFER CHARACTERISTICS 
SDD21 is defined from the SFF-8083 connector, excluding its solder pads, to  the mating interface of the SMA connector. The Host Compliance Board is a  passive test board and SDD21 and SDD12 should be identical. The recom- mended response of the Module Compliance Board PCB excluding the           SFF-8083 connector is given by:


  SDD21()dB    = ()–0.00045 – 0.1135 × f – 0.04161 × f from 0.01 to 15 GHz

       where f is the frequency in GHz. Over the range of frequencies specified  (10  MHz to 11.1 GHz) any discrepancy between measured transfer response  and the specified SDD21(dB) shall be <±15% of the transfer response in dB or  ±0.1 dB, whichever is larger. For frequencies > 11.1 GHz and up to 15 GHz the discrepancy between measured transfer response and the specified  SDD21(dB) shall be less than ±25% of the transfer response in dB.

       The channel transfer response is shown approximately in Figure 35.
C.1.2模块合规板传输特性
SDD21从SFF-8083连接器（不包括其焊盘）定义到SMA连接器的配对接口。 主机合规板是被动测试板，SDD21和SDD12应相同。 除SFF-8083连接器外，模块合规板PCB的推荐响应由以下公式给出：


   SDD21（）dB =（）-0.00045 - 0.1135×f - 0.04161×f从0.01到15 GHz

        其中f是以GHz为单位的频率。 在规定的频率范围（10 MHz至11.1 GHz）之间，测量的传输响应与规定的SDD21（dB）之间的任何差异应为传输响应的±15％，单位为dB或±0.1 dB，以较大者为准。 对于频率> 11.1 GHz和高达15 GHz，测量的传输响应和指定的SDD21（dB）之间的差异应小于传输响应的±25％（dB）。

        频道传输响应大致如图35所示。

       0.0

      -0.25

      -0.5

      -0.75     SDD21  (dB)

      -1

      -1.25            0     1.5    3      4.5   6      7.5    910.5        12     13.5  15  Frequency (GHz)  Figure 35  Approximate Transfer Response of Module Compliance Board

 SFP+ connector response is defined by SFF-8083.


C.1.3  ASIC/SERDES TEST BOARD TRANSFER CHARACTERISTICS 
The recommended response of the ASIC/SerDes test board PCB is the same as  for the Module Compliance Board (see C.1.2).

C.2  HOST COMPLIANCE BOARD 
The Host Compliance Board allows predictable, repeatable and consistent re- sults among Host vendors and will help to ensure consistency and true com- pliance in the testing of Hosts. Host Compliance Boards are provided by  Spirent Communication.


C.2.1  HOST COMPLIANCE BOARD MATERIAL AND LAYER STACK-UP 
Host Compliance Board stack-up shown in Figure 36 is on six metal layers  Rogers RO4350B© / FR4-6 material. The board is compliant with requirements  of SFF-8432 and SFF-8083. SFI signals are routed on signal layer 1, low speed  signals and controls are routed on signal layer 6.
C.1.3 ASIC / SERDES测试板传输特性
ASIC / SerDes测试板PCB的建议响应与模块合规板（见C.1.2）相同。

C.2 HOST遵从板
主机合规委员会允许主机供应商之间可预测，可重复和一致的结果，并有助于确保主机测试中的一致性和真正的兼容性。 主机合规委员会由思博伦通信提供。


C.2.1主机兼容板材料和层叠体
主机合规板堆叠如图36所示，是六个金属层Rogers RO4350B©/ FR4-6材料。 该板符合SFF-8432和SFF-8083的要求。 SFI信号在信号层1上路由，低速信号和控制在信号层6上路由。

 1. Top Layer     Signal      17 μm/0.5 oz Copper plated to 1 oz min+ 1.25 μm Nickel + 2.5 μm Gold

 0.168 mm / 6.6 mils Rogers RO4350B

  2. Layer         Vee  34 μm/1 oz Copper

     0.14 mm / 5.5 mils FR4-6

  3. Layer        Signal 1         17 μm/0.5 oz Copper

     0.178 mm / 7 mils FR4-6

  4. Layer        Signal 2        17 μm /0.5 oz Copper

     0.14 mm / 5.5 mils FR4-6

  5. Layer        Power            34 μm/1 oz Copper

 0.168 mm / 6.6 mils Rogers RO4350B

          6. Bottom Layer    Signal      17 μm/0.5 oz Copper plated to 1 oz min + 1.25 μm Nickel + 0.25 μm Gold

   Figure 36  Host Compliance Board stack-up


SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 59SFF-8431     Application Reference Boards (Normative)    July 6, 2009 REVISION 4.1           PUBLISHED

C.2.2  HOST COMPLIANCE BOARD PARTLIST           The Host Compliance Board part list is given below.

       Table 28  Host Compliance Board Part List

     Qty           RefDes Value       Description           Example Part Number

   2         C5, C6       0.1 uF   Ceramic Capacitor           10% X7R 10V 0402 SMT LFR

   3         D1, D2, D3  GREEN     LED Single Green 120 DEG 0603 SMT LFR

   2         D4, D5       Blue      LED Single Blue 120 DEG 0603 SMT LFR

   1         J1          Conn3          Connector Header 3 Pins Straight  Tyco PN#3-644695-3

   4         J2, J3, J4, J5       EDGE SMA SMA Connector Jack R/A         Rosenberger PN# 32K243-40ME3

   1         J6        CONN1X3P      Connector Header 3 Pins 100 mil Pitch Molex PN# 22-23-203

   5         R1, R2, R3, R4, R5     1.0 kΩ         Resistor    RES 1.00K 1% 1/10W 0603 SMT LFR

   1         SW1          SPST           SW 4 Position Dip Switch SMT     ITT Cannon PN# TDA04H0SB1

          Note: Table 28 does not use all in-sequence part numbers.

C.2.3  HCB GERBER FILES The Gerber file for the Host Compliance Board is available in SFF-8434.


C.2.4  SCHEMATIC OF HOST COMPLIANCE BOARD           The schematic of Host Compliance Board is shown in Figure 37.

          Mod-DEF0 in the schematic is Mod_ABS as defined by Table 3 and AS0/AS1 in the schematic are RS0/RS1 as defined by Table 3.


SFP+ (Enhanced 10 Gbps Pluggable Module)       Page 60 SFF-8431           Application Reference Boards (Normative)      July 6, 2009  REVISION 4.1  PUBLISHED     J2    J3    J4    J5         EDGE  SMA        EDGE  SMA        EDGE  SMA       EDGE  SMA  MH1   MH3         1 MH4   MH2     MH1    MH3         1 MH4   MH2     MH1    MH3         1 MH4   MH2     MH1    MH3         1           MH4    MH2      1     1     1     1     MH1   MH3           MH4    MH2     MH1   MH3           MH4   MH2      MH1   MH3           MH4   MH2      MH1   MH3           MH4   MH2   R4     1.0K R5     1.0K  12           12    BLUE   BLUE            1      2     3          D5    J1        D4         1     2     3      Conn3  21           21


      C6    0.1UF


        2     1


      C5    0.1UF


        2     1     TD_N        TD_P          P3_3V_TX     P3_3V_RX      RD_P        RD_N          20           19          18           17          16           15          14           13          12           11        TD-          TD+        RD+          RD-   GND6    GND5         VCCT        VCCR         GND4    GND3           P1     BOTTOM        TOP   GND1        TX_FAULT     TX_DIS      SDA          SCL         MOD-DEF0     AS0         RX_LOS       AS1         GND2          1 2           3 4           5 6           7 8           9          SFP+  EDGE CONNECTOR       10  GREEN   GREEN  GREEN           8           7 6           5       D1      D2      D3            21      21      21            SW1     SPST           1           2 3           4  R1     1.0K        R2    1.0K        R3     1.0K        SDA         SCL            12      12      12        3     2     1            P3_3V_TX      1           3     2        J6            CONN1X3P          SDA   GND   SCL      Figure 37  Schematic of the Host Compliance Board

SFP+ (Enhanced 10 Gbps Pluggable Module)      Page 61SFF-8431  Application Reference Boards (Normative)           July 6, 2009 REVISION 4.1    PUBLISHED

C.3  MODULE COMPLIANCE BOARD 
The Module Compliance Board allows predictable, repeatable and consistent  results among module vendors and will help to ensure consistency and true  compliance in the testing of modules. Module Compliance Boards are pro- vided by Broadcom Corporation.

       The solder pads for the high speed traces in the Module Compliance Board are  1.1x0.4 mm to improve high frequency performance instead of 2.0x0.5 mm as  defined in the SFF-8083 for improved manufacturability. For detailed geom- etry, see the Gerber files in C.3.4.


C.3.1  MODULE COMPLIANCE BOARD MATERIAL AND LAYER STACK-UP  
Module Compliance Board stack-up shown in Figure 38 is based on a laminate   of Rogers RO4350B/ FR4-6 with ten metal layers. SFI signals are routed on   signal layer 1, low speed signals and controls are routed on signal layers 8 and   10.
C.3模块合规板
模块合规板在模块供应商之间实现可预测，可重复和一致的结果，有助于确保模块测试中的一致性和真正符合性。 模块合规板由Broadcom Corporation提供。

        模块合规板中高速走线的焊盘为1.1x0.4 mm，以提高SFF-8083中定义的2.0x0.5 mm的高频性能，以提高可制造性。 有关详细的地理信息，请参阅C.3.4中的Gerber文件。


C.3.1模块合规板材和层叠层
图38所示的模块合规性板堆叠基于具有十个金属层的Rogers RO4350B / FR4-6的层压板。 SFI信号在信号层1上布线，低速信号和控制在信号层8和10上布线。

     1. Top Layer      Signal        17 μm/0.5 oz Copper + 1.25 μm Nickel + 2.5 μm Gold

      0.168 mm / 6.6 mils Rogers RO4350B

       2. Layer         Vee        17 μm /0.5 oz Copper

  0.382 mm / 15 mils FR4-6

       3. Layer         Vee         34 μm/1 oz Copper

   0.076 mm / 3 mils FR4-6

       4. Layer        VccR         34 μm/1 oz Copper

   0.076 mm / 3 mils FR4-6

       5. Layer         Vee         34 μm /1 oz Copper

   0.076 mm / 3 mils FR4-6

       6. Layer        VccT         34 μm /1 oz Copper

   0.076 mm / 3 mils FR4-6

       7. Layer         Vee         34 μm/1 oz Copper

   0.076 mm / 3 mils FR4-6

       8. Layer        Signal       34 μm/1 oz Copper

  0.382 mm / 15 mils FR4-6

       9. Layer         Vee        17 μm/ 0.5 oz Copper

      0.168 mm / 6.6 mils Rogers RO 4350B

    10. Bottom Layer   Signal      17 μm Cu / 0.5 oz Copper+ 1.25 μm Nickel + 0.25  μm Gold

  Figure 38  Module Compliance Board stack up

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 62SFF-8431  Application Reference Boards (Normative)           July 6, 2009 REVISION 4.1    PUBLISHED

C.3.2  SCHEMATIC OF MODULE COMPLIANCE BOARD 
Schematic of Module Compliance Board is shown in Figure 39.

 Mod-DEF0 in the schematic is Mod_ABS as defined by Table 3 and AS0/AS1 in   the schematic are RS0/RS1 as defined by Table 3.
C.3.2模块合规板示意图
模块合规板示意图如图39所示。

  原理图中的Mod-DEF0如表3所定义，为Mod_ABS，原理图中的AS0 / AS1为表3所定义的RS0 / RS1。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 63 SFF-8431           Application Reference Boards (Normative)      July 6, 2009  REVISION 4.1  PUBLISHED  D     C     B    A    00  SCL SDA         R6          of   4.7K       J6 J5   J14        J13   11         R5   4.7K    VccT       0.1uF           C14  1  2  3     J26            C13       22uF TSDP2      TSDN2          RDINP2 RDINN2      1 L4 4.7uH        1      VccR   S-M-.100-1X3      0.1uF          C12      VccT           Broadcom  Corporation      22uF    SFP+  Module Compliance Test Board        L3          C11  4.7uH       RATE_SEL0         RATE_SEL1   Monday,  August 27, 2007       R10            4.7K     824-115882-0010P1   LOS2        20    19   18    17   16    15   14    13    12   11    C       R9  VccT      4.7K    Title    Size Document NumberDate:    Sheet Rev         TD-   TD+        RD-   TX_FAULT2  RD+          VEET         VEET         R7  4.7K   VCCT  VCCR VEER  VEER     Tx_Disable       1  2  3           VccT    J27     2       4  3           AMP_10X2     ON       ON          VEET       AS1   RX_LOS AS2 VEER         TX_FAULT TX_DISABLE         SDA   SCL  MOD-DEF1   J7        1     2    3     4    5     6    7     8     9            SW2   SW1           10         DIP-SWITCH-2     1       1  2      2      2            RATE_SEL0 LOS2 RATE_SEL1      SDA   SCL  MOD-DEF0      TX_FAULT2 TX_DISABLE       R15 4.7K  R19      4.7K       VccR   VccT       5   9        U1C U1D        0.1uF  C4       6   8      74AC04  74AC04     VccT        TP2          R14    130      R12           130        2       J21        1  VccT  Terminal  Block   D2      LN02202          VccT      3      3         0.1uF   C2     VccR      J11  J12   J2    J4        TP1         2      J20     0.1uF          C8         1 VccR  Terminal  Block          TSDP1           TSDN1         RDINP1 RDINN1          C7     22uF      L2          4.7uH          VccR    0.1uF        C6         Unregistered  Version - http://www.aidecad.com          VccT        SFP+ Module Compliance Test board  30mm and 40mm trace lengths        C5    22uF      L1           4.7uH      20    19   18    17    16   15    14   13    12   11    LOS1       TD-  TD+      RD-           RD+        VEET       VEET VCCT  VCCR VEER       TX_FAULT1        1  2 3      4      4    J28         AMP_10X2      J_COUP_10 J_COUP_9  J_COUP_12 J_COUP_11        VEET            AS0   RX_LOS AS1 VEER     VEER       TX_FAULT TX_DISABLE SDA SCL MOD-DEF0            J3      1     2    3     4     5    6     7    8     9         10           Z6  SFP_CAGE           COUPONS           Z5  SFP_CAGE           TX_FAULT1 TX_DISABLE SDA    RATE_SEL0 LOS1          SCL  MOD-DEF0         RATE_SEL1  J_COUP_1        J_COUP_3 J_COUP_4         J_COUP_2  R13     4.7K      R4         4.7K VccT     VccR         3     1    14    7          U1B      U1A VccT   MTG4  10    12         4      5      5     2        74AC04           74AC04    74AC04           74AC04   MTG3    U1E      U1F        R3           R1  130         130  11    13   MTG2    Mounting  Holes           R11 4.7K   MTG1 D1           LN02202         VccT  D     C     B    A      Figure 39  Schematic of The Module Compliance Board


SFP+ (Enhanced 10 Gbps Pluggable Module)      Page 64SFF-8431     Application Reference Boards (Normative)    July 6, 2009 REVISION 4.1           PUBLISHED

C.3.3  MODULE COMPLIANCE BOARD PARTLIST           
Component part list for the Module Compliance Board is given below.
C.3.3模块合规板块列表
模块合规委员会的组件部分列表如下。

    Table 29  Module Compliance Board Part List

   Qty       RefDes            Value   Description  Example Part Numbers

    6      C2, C4, C6, C8, C12, C14       0.1uF           Ceramic Capacitors   Murata/GRM188R71C104MA01D     4      C5, C7, C11, C13    22 uF           Ceramic Capacitors   Murata/GRM21BR60J226ME39K     4      D1, D2, D4, D5      RED         LED           Panasonic/LNJ208R8ARA     12     J_COUP_2, J2, J_COUP_4, J4, J5,J6,        SMA SMA Connector R/A     Huber&Suhner/92_SK-U50-0- J_COUP_9, J_COUP_11, J12,   3/199_NE J14J_COUP_1, J_COUP_3,  J_COUP_10, J11, J_COUP_12, J13

    2      J3, J7     Con_10x2          SFF-8083 Connector   Tyco 1888247 or Molex 74441     2      J20, J21 Terminal Block        Terminal Bloc      On-Shore-Tech/EDZ5002DS     3      J26, J27, J28   S-M-.100-1X3           PCB Header        Molex/22-10-2031     4      L1, L2, L3, L4     4.7 uH     Inductor        Toko/A914BYW-4R7M     4      R1, R3, R12, R14    130 Ω     Resistors       Walsin/WR06X131JTL     10     R4, R5, R6, R7, R9, R10, R11, R13,       4.7 kΩ     Resistors       Walsin/WR06X472JTL R15, R19

    1      SW1     DIP-SWITCH-2  DipSwitch        CT2062-ND     1      SW2       sw_pb_ck-k Toggle Switch     C&K/ET01MD1AVBE     1      U1          74AC04     Inverter        Fairchild/530438-00     2      Z5, Z6    SFP_CAGE    SFP Cage         Tyco 1489962-1

          Note: Table 29 does not use all in-sequence part numbers.


C.3.4  MCB GERBER FILES  
The Gerber file for the Module Compliance Board is available in SFF-8434.

C.4  SPECIFICATIONS FOR MATED HOST AND MODULE COMPLIANCE BOARDS 
Based on measurements of the Module Compliance Board (MCB) mated with  the Host Compliance Board (HCB) the following specifications have been de- rived for the mated pair. Compliance to these limits help ensure the module  and host specifications can be met.

       S-parameters are defined based on two ports mixed mode differential defini- tion [see INF-8077i Appendix C], see Figure 40. All single port measurements  are listed on the figure.
C.3.4 MCB格式文件
模块合规板的Gerber文件可在SFF-8434中找到。

C.4适用于主机和模块兼容板的规范
基于与主机合规委员会（HCB）配合的模块合规板（MCB）的测量，配对对已经得到了以下规范。 符合这些限制有助于确保可以满足模块和主机规范。

        S参数基于两个端口混合模式差分定义[参见INF-8077i附录C]进行定义，请参见图40.所有单端口测量均在图中列出。

    SDD21     SDD12


   Connector     MCB   HCB     Port 2           Port 1     SDD22/SCD22      SDD11/SCC11   Host Compliance Board      MCB  HCB      Port 1          Port 2     SDD11/SCC11      SDD22/SCC22

  Module Compliance Board    SDD21     SDD12


    Figure 40  Measurements Port Definition

       The maximum values of SDD11 or SDD22 looking into the Module Compliance  Board and Host Compliance Board are illustrated in Figure 41.

       The maximum values of SDD11 or SDD22 looking into the Module Compliance  Board are given by the following equations: SDDxx() dB  ≤ –20 + 2.75 × f     f in GHz from 0.01 to 2

            SDDxx() dB  ≤ –14.5     f in GHz from 2 to 5


     ⎛⎞f      SDDxx() dB  ≤ –23.25 + 8.75 × ---     f in GHz from 5 to 11.1      ⎝⎠5
图41中显示了SDD11或SDD22的模块合规板和主机兼容板的最大值。

        SDD11或SDD22的最大值通过以下公式给出：SDDxx（）dB≤-20 + 2.75×f f，GHz，从0.01到2

             SDDxx（）dB≤-14.5 f，GHz，从2到5


      ⎛⎞fSDDxx（）dB≤-23.25 + 8.75×--- f in GHz从5到11.1⎝⎠5


SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 67SFF-8431          Application Reference Boards (Normative)      July 6, 2009 REVISION 4.1      PUBLISHED

     The maximum values of SDD11 or SDD22 looking into the Host Compliance       Board are given by the following equations:         SDDxx() dB ≤ –220 + × f    f in GHz from 0.01 to 2.5

       SDDxx() dB ≤ –15    f in GHz from 2.5 to 5

     ()≤   ×     ⎛⎞f      SDDxx dB     –13.8 + 28.85 log ⎝⎠------      10 5.5    f in GHz from 5 to 11.1

     The maximum and the minimum values of SDD21 or SDD12 looking into ei-      ther the Module Compliance Board or Host Compliance Board are illustrated in       Figure 42 and given by the equations below.
查看主机合规板的SDD11或SDD22的最大值由以下公式给出：SDDxx（）dB≤-220 +×f f，GHz为0.01至2.5

        SDDxx（）dB≤-15 f，GHz，从2.5到5

      （）≤×⎛⎞fSDDxx dB -13.8 + 28.85 log⎝⎠------ 10 5.5 f in GHz从5到11.1

      SDD21或SDD12在模块合规板或主机兼容板方面的最大和最小值如图42所示，由下列等式给出。

 Figure 42  Mated MCB-HCB Differential Through Response Limits

    SDDxx() dB ≤ ()–0.012 – 0.694 × f – 0.127 × f f in GHz from 0.01 to 5.5

  SDDxx() dB ≤ 0.75– 0.65 × f  f in GHz from 5.5 to 11.1

     SDDxx() dB ≤ 0.0915– 0.549 × f – 0.101 × f f in GHz from 0.01 to 11.1


SFP+ (Enhanced 10 Gbps Pluggable Module)           Page 68SFF-8431  Application Reference Boards (Normative)           July 6, 2009 REVISION 4.1    PUBLISHED

       The maximum values of SCC11 or SCC22 looking into either the Module Com- pliance Board or Host Compliance Board are illustrated in Figure 43.


  Figure 43  Maximum Common Mode Response of mated MCB and HCB

 The SCC11 and SCC22 are also given by the following equations:           SCCxx() dB ≤ –12 + 2.8 × f     f in GHz from 0.01 to 2.5

          SCCxx() dB  ≤ –5.2 + 0.08 × f    f in GHz from 2.5 to 15.
图43中显示了SCC11或SCC22的模块兼容板或主机兼容板的最大值。


   图43配对MCB和HCB的最大共模响应

  SCC11和SCC22也由以下等式给出：SCCxx（）dB≤-12 + 2.8×f f，GHz，从0.01到2.5

           SCCxx（）dB≤-5.2 + 0.08×f f，GHz为2.5〜15。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 69SFF-8431  Application Reference Boards (Normative)           July 6, 2009 REVISION 4.1    PUBLISHED

       The maximum values of Differential to Common Mode Response SCD21 and  SCD12 looking into either the Module Compliance Board or Host Compliance  Board are illustrated in Figure 44.


 Figure 44  Maximum Differential to Common Mode Response of mated       MCB and HCB

 Mated response SCD21 and SCD12 of the mated Module and Host Compliance   Board are given by:           SCDxx() dB  ≤ –30 + 2.91 × f    f in GHz from 0.01 to 5.5

           SCDxx() dB ≤ –14      f in GHz from 5.5 to 15.

 When MCB Port 1 of the mated Module Compliance Board and Host Compli-  ance Board is excited by the crosstalk source defined in Table 12, the RMS dif-  ferential NEXT voltage at MCB Port 2 shall be less than 1 mV when measured in   a 12 GHz bandwidth. The differential NEXT voltage from HCB Port 1 to HCB   Port 2 is expected to be about the same. Compliance boards meeting this re-  sponse are expected to pass the integrated NEXT requirement, however it is   also expected that the curve can be exceeded due to frequency resonances   while still passing the integrated NEXT requirement. The frequency domain   curve shown in Figure 45 shows a recommended response which is described   in the equations following the figure. Compliance boards meeting this NEXT   response are expected to pass the NEXT voltage requirement, however it is also expected that the curve can be exceeded due to frequency resonances  while still passing the NEXT voltage requirement.
图44显示了兼容模块合规板或主机兼容板的差分到共模响应SCD21和SCD12的最大值。


 图44配对MCB和HCB的最大差分到共模响应

 配对模块和主机兼容板的配合响应SCD21和SCD12由以下公式给出：SCDxx（）dB≤-30 + 2.91×f f，GHz为0.01至5.5

           从5.5到15的SCDxx（）dB≤-14 f。

 当配对模块合规板和主机兼容板的MCB端口1被表12中定义的串扰源激励时，在12 GHz中测量时，MCB端口2的RMS差分NEXT电压应小于1 mV带宽。从HCB端口1到HCB端口2的差分NEXT电压预计将大致相同。符合这一要求的合规委员会预计将通过综合NEXT要求，但也预计在仍然通过综合NEXT要求的情况下，可能会由于频率共振而超过曲线。图45所示的频域曲线显示了一个推荐的响应，该响应在图中的等式中描述。满足该NEXT响应的合规板预计将通过NEXT电压要求，但是也可以预期，当仍然通过NEXT电压要求时，由于频率共振而可能会超过曲线。

 Figure 45  Maximum Differential NEXT Response of mated MCB and HCB

       The recommended NEXT response is also given by the following equations:            NEXT() dB  ≤ –50      f in GHz from 0.01 to 4

    NEXT() dB   ≤ –570 + × f      f in GHz from 4 to 8

            NEXT() dB   ≤ –30     f in GHz from 8 to 15.
图45配对MCB和HCB的最大差分NEXT响应

        推荐的NEXT响应也由以下等式给出：NEXT（）dB≤-50 f，GHz为0.01至4

     从4到8，NEXT（）dB≤-570 +×f f

             NEXT（）dB≤-30 f，GHz为8〜15。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 71SFF-8431          Test Methodology and Measurement (Normative)          July 6, 2009 REVISION 4.1    PUBLISHED

APPENDIX D TEST METHODOLOGY AND MEASUREMENT (NORMATIVE)


D.1  INTRODUCTION 
This appendix defines metrics for SFP+ high-speed and power electrical inter- faces and provides practical guidance for test implementation. Each param- eter is defined in terms of a measurement procedure. The instruments for  measurement are assumed to be ideal: accurate, precise, with infinite or de- fined bandwidth, zero or defined noise and so on. In practice, the necessary  level of instrument performance and the approach to calibration and mar- gining must be considered. Some guidance is given in the following sections.

       All measurements are made differentially, with the exception of AC Common  Mode Generation Test D.15.2, Common Mode Tolerance Test D.15.3, Termina- tion Mismatch D.16, Module Power Supply Tolerance Filtering D.17, and Power  Supply Noise Testing Methodology D.17.

 Accurate calibration of test equipment is assumed for all measurements. To   avoid pessimistic WDP and jitter results, the scope may require correction for   time base linearity errors.
附录D测试方法与测量（正常）


D.1引言
本附录定义了SFP +高速和电力电气接口的指标，为测试实施提供了实际指导。每个参数根据测量过程进行定义。假设测量仪器是理想的：准确，精确，无限或有限的带宽，零或定义的噪声等等。在实践中，必须考虑仪器性能的必要水平以及校准和校准的方法。以下部分给出了一些指导。

       除了交流共模生成测试D.15.2，共模容差测试D.15.3，终端不匹配D.16，模块电源容差滤波D.17和电源噪声测试方法外，所有测量均有差异D.17。

 对于所有测量，假设测试设备的精确校准。为了避免悲观的WDP和抖动结果，范围可能需要校正时基线性误差。

D.1.1  TEST PATTERNS 
Test patterns used in this specification include the 8+8 square wave, PRBS9,  IEEE 802.3 test patterns1, 2 and 3, and any valid 64B/66B signal. PRBS9 is de- fined in IEEE Std 802.3, 68.6.1 and a file for the sequence can be found at  http://ieee802.org/3/aq/public/tools/TWDP/prbs9_950.txt. Test patterns 1, 2  and 3 are defined in IEEE Std 802.3, 52.9.1.1. Test pattern 3 is PRBS31 as defined  by ITU-T or in IEEE Std 802.3, 49.2.8.

D.2  EYE MASK COMPLIANCE 
This section defines what is meant by eye mask compliance and gives guid- ance for its determination. Mask templates and coordinates are given in sub- clauses in 3.5 SFP+ Host System Specifications  and 3.6 SFP+ Module  Specifications .

 •  The pattern(s) for eye mask testing is according to the relevant stan-     dard(s) listed in Table 1.
       •   The output being tested should comply over the range of operating con-     ditions while the opposing direction bit stream, operates with the target      crosstalk rise and fall and amplitude given in Table 12, Table 14, Table 17,      and Table 18. The opposing direction bit stream (than the one being test-     ed) shall be asynchronous PRBS31 or valid 64B/66B bit stream.  Testing may include guard banding, extrapolation, or other methods, but   must ensure that mask violations do not occur at a rate exceeding the hit ratio   limit given in the appropriate table.

 •  An AC coupling 3 dB corner frequency of 20 kHz is expected to be ade-     quate to eliminate baseline wander effects, however high frequency per-     formance is critical and must not be sacrificed by the AC coupling.  •  All loads are specified at 100  Ω differential.  •  0.0 UI and 1.0 UI on the time axis are defined by the eye crossing means at      the average value (zero volts if AC coupled) of the signal. The average val-     ue might not be at the jitter waist.  A clock recovery unit (CRU) is used to trigger the scope for mask measure-  ments as shown in Figure 46. The reference CRU has a high frequency corner  bandwidth of 4 MHz and a slope of -20 dB/decade with peaking of 0.1 dB or  less.

       Oscilloscope  DC        +Data  Block    DUT  DC       - Data  Block      Trigger      CRU

        Figure 46  Eye mask measurement setup - block diagram.

   -5 D.2.1  EXAMPLE CALCULATIONS FOR 5X10  HIT RATIO If an oscilloscope records 1350 samples/screen, and the time-base is set to  0.2  UI per division with 10 divisions across the screen, and the measurement is  continued for 200 waveforms, then a transmitter with repeated measurement  averaging to less than 6.75 hits is compliant. i.e.,     510×  –5 × 1350     HitRatio=  -----------------------------------= 6.75        0.2× 10

       Likewise, if a measurement is continued for 1000 waveforms, then repeated  measurement averaging to less than 33.75 hits is compliant. An extended  measurement is expected to give a more repeatable result, whereas a single  reading of 6 hits in 200 waveforms would not give a statistically significant  pass or fail.
D.1.1测试模式
本规范中使用的测试模式包括8 + 8方波，PRBS9，IEEE 802.3测试模式1,2和3以及任何有效的64B / 66B信号。 PRBS9定义在IEEE Std 802.3,68.6.1中，序列文件可以在http://ieee802.org/3/aq/public/tools/TWDP/prbs9_950.txt找到。测试模式1,2和3在IEEE Std 802.3,52.9.1.1中定义。测试模式3是由ITU-T或IEEE Std 802.3,49.2.8定义的PRBS31。

D.2眼罩符合性
本节定义了眼罩符合性的含义，并给出了其确定方法。 3.5 SFP +主机系统规范和3.6 SFP +模块规范中的子条中给出了掩模模板和坐标。

 •眼罩检测模式符合表1所列的相关标准。
       •正在测试的输出应符合操作条件范围，而相对方向位流则与表12，表14，表17和表18中给出的目标串扰上升和下降幅度一起运行。相反方向位流（比正在测试的那样）应该是异步PRBS31或有效的64B / 66B比特流。测试可能包括保护条带，外插或其他方法，但必须确保掩膜违反不会超出相应表中给出的命中率限制。

 •AC耦合3 kHz角频率为20 kHz，预计将有助于消除基线漂移效应，然而高频性能至关重要，绝对不能被交流耦合所牺牲。 •所有负载均指定为100Ω差分。 •时间轴上的0.0 UI和1.0 UI由眼睛交叉装置以信号的平均值（零电压如果AC耦合）定义。平均值可能不在抖动腰。时钟恢复单元（CRU）用于触发屏蔽测量范围，如图46所示。参考CRU具有4 MHz的高频率转角带宽和-20 dB / 10dB的斜率，峰值为0.1 dB或更少。

       示波器DC +数据块DUT DC - 数据块触发CRU

        图46眼罩测量设置 - 框图。

   -5 D.2.1 5X10 HIT比例的示例计算如果示波器记录1350个采样/屏幕，并且时基设置为0.2 UI每划分，屏幕上有10个分区，并且测量持续200个波形，则a发射机反复测量平均小于6.75命中符合。即510×-5×1350 HitRatio = ----------------------------------- = 6.75 0.2×10

       同样地，如果对1000个波形进行测量，则重复测量平均值小于33.75次。预期延长的测量结果将会产生更多可重复的结果，而200次波形中6次命中的单次读数不会产生统计学显着的通过或失败。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 73SFF-8431          Test Methodology and Measurement (Normative)          July 6, 2009 REVISION 4.1    PUBLISHED

D.3  DATA DEPENDENT JITTER (DDJ) AND PULSE WIDTH SHRINKAGE (DDPWS) 
A high-resolution oscilloscope, time interval analyzer, or other instrument with  equivalent capability may be used to measure DDJ and DDPWS. A repeating  PRBS9 pseudo-random test pattern, 511 bits long, is used. For electrical jitter  measurements, the measurement bandwidth is 12 GHz. If the measurement  bandwidth affects the result, it can be corrected for by post-processing. How- ever, a bandwidth above 12 GHz is expected to have little effect on the results.

       DCD and Pulse Width Shrinkage (DDPWS) are components of DDJ.

       Establish a crossing level equal to the average value of the entire waveform  being measured. Synchronize the instrument to the pattern repetition fre- quency and average the waveforms or the crossing times sufficiently to re- move the effects of random jitter and noise in the system. The PRBS9 pattern  has 128 positive-going transitions and 128 negative-going transitions. The  mean time of each crossing is then compared to the expected time of the  crossing, and a set of 256 timing variations is determined. DDJ is the range  (max-min) of the timing variations. Keep track of the signs (early/late) of the  variations. Note, it may be convenient to align the expected time of one of the  crossings with the measured mean crossing.

       The following Figure 47 illustrates the method. The vertical axis is in arbitrary   units, and the horizontal axis is plotted in UI. The waveform is AC coupled to an   average value of 0, therefore 0 is the appropriate crossing level. The rectan-  gular waveform shows the ideal crossing times, and the other is the waveform   with jitter that is being measured. Only 32 UI are shown (out of 511). The wave-       Δ  forms have been arbitrarily aligned with ( t2 = 0) at 14 UI.
D.3数据依赖抖动（DDJ）和脉冲宽度收缩（DDPWS）
高分辨率示波器，时间间隔分析仪或具有等效功能的其他仪器可用于测量DDJ和DDPWS。使用重复的PRBS9伪随机测试模式，511位长。对于电气抖动测量，测量带宽为12 GHz。如果测量带宽影响结果，则可以通过后处理来校正测量带宽。然而，12 GHz以上的带宽预计对结果几乎没有影响。

       DCD和脉冲宽度收缩（DDPWS）是DDJ的组成部分。

       建立与所测量的整个波形的平均值相等的交叉电平。将仪器与模式重复频率同步，并充分平衡波形或交叉时间，以减少系统中随机抖动和噪声的影响。 PRBS9模式有128个正向转换和128个负向转换。然后将每个交叉点的平均时间与交叉的预期时间进行比较，并确定一组256个定时变化。 DDJ是定时变化的范围（max-min）。跟踪变化的迹象（早/晚）。注意，可以方便的将其中一个交叉点的预期时间与所测量的平均交叉点对齐。

       下图47说明了该方法。垂直轴为任意单位，水平轴在UI中绘制。波形交流耦合到平均值0，因此0是适当的交叉电平。整流波形显示理想的交叉时间，另一个是正在测量的抖动波形。仅显示32个UI（511个）。波形Δ形式在14 UI处与（t2 = 0）任意对齐。

  t1          t2      t3....etc.  Δ   t2=0

          Figure 47  DDJ Test Method


SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 74SFF-8431          Test Methodology and Measurement (Normative)          July 6, 2009 REVISION 4.1    PUBLISHED

       DDJ is defined as


         ()Δ ,,Δ   …Δ         ()Δ ,,Δ   …Δ          DDJ=    max   t1  t2    tn – min   t1  t2    tn


       Every edge, 1...n, in a complete repetition of the pattern is measured (n = 256  in a PRBS9 pattern).

       DDPWS is determined as the difference between one symbol period and the  minimum of all the differences between pairs of adjacent edges

       DDPWS = T - min(t2-t1, t3-t2,..... tn+1-tn)

 where T is one symbol period. Note that the difference from the next edge in   the repeating sequence, tn+1, is also considered.
DDJ定义为


          （）Δ,,Δ...Δ（）Δ,,Δ...ΔDDJ = max t1 t2 tn - min t1 t2 tn


        测量图案完全重复的每个边，1 ... n（PRBS9图案中的n = 256）。

        DDPWS被确定为一个符号周期与相邻边缘对之间的所有差异的最小值之间的差

        DDPWS = T-min（t2-t1，t3-t2，... tn + 1-tn）

  其中T是一个符号周期。 注意，也考虑与重复序列tn + 1中的下一个边缘的差异。

D.3.1  DUTY CYCLE DISTORTION (DCD) 
DCD represents a deviation from the intended duty cycle. It is the difference  between the mean position of all falling edges and the mean position of all  rising edges with uncorrelated effects minimized through averaging. DCD is  measured at the average value of the waveform.

D.4  UNCORRELATED JITTER (UJ) 
UJ as defined by IEEE 802.3 CL 68 is a measure of any jitter that is un-correlated  to the 64B/66B bit stream. The definition and test procedure for UJ are iden- tical to those defined in IEEE 802.3 CL 68.6.8 with following considerations:

       •   The host transmitter shall comply while the host receiver is operating      with asynchronous PRBS31 or valid 64B/66B signal and all other ports op-     erating as in normal operation, including proper termination. •   The receive path input of the Host Compliance Board is connected to a      pattern generator and calibrated through a Module Compliance Board.      The amplitude and rise time are set to the target values stated in Table 12      at C”.  •  For the purposes of this document the procedures defined for optical      testing also apply to electrical testing. Optical terms (such as power) and      units, such as in Figure 68-9 in IEEE 802.3, can be converted to corre-     sponding electrical terms (such as voltage) and units, etc.
      •   The 4th-order Bessel-Thomson response is to be used only for optical      measurements of UJ. UJ in the electrical domain is defined in a bandwidth      of 12 GHz, unless specified by the application standard. •   PRBS9 is suitable as a test sequence for all applications unless specified      otherwise. •   The bandwidth of the CRU is defined in IEEE 802.3 clause 68.6.8 or in the      relevant standard for the application.
D.3.1占空比（DCD）
DCD表示与预期占空比的偏差。所有下降沿的平均位置与所有上升沿的平均位置之间的差异，其中不相关的影响通过平均最小化。 DCD以波形的平均值进行测量。

D.4非常规犹太人（UJ）
由IEEE 802.3 CL 68定义的UJ是与64B / 66B比特流不相关的任何抖动的度量。 UJ的定义和测试程序与IEEE 802.3 CL 68.6.8中定义的定义和测试程序相同，具有以下考虑：

       •当主机接收机使用异步PRBS31或有效64B / 66B信号和所有其他端口在正常操作中运行时，主机发送器应符合要求，包括正确的终止。 •主机合规板的接收路径输入连接到模式发生器，并通过模块合规板进行校准。振幅和上升时间设定为表12中C“所示的目标值。 •为本文件的目的，为光学测试定义的程序也适用于电气测试。 IEEE 802.3中的图68-9中的光学术语（如功率）和单位可以转换为相应的电气术语（如电压）和单位等。
      •四阶Bessel-Thomson响应仅用于UJ的光学测量。电气领域中的UJ在12 GHz的带宽内定义，除非应用标准规定。 •PRBS9适用于所有应用的测试序列，除非另有规定。 •CRU的带宽在IEEE 802.3第68.6.8条或应用的相关标准中定义。

D.5  99% JITTER (J2) AND TOTAL JITTER (TJ) 
Jitter is a property of the timing of a signal’s edges. The time of occurrence of  an edge is defined as when the signal crosses its average level (e.g., 0 V for A.C.  coupled, ground terminated measurements). Jitter is defined using the CRU of  section D.2. The test pattern for Total Jitter (TJ) and 99% Jitter (J2) testing shall   be either PRBS31 or a valid 64B/66B signal. These metrics of jitter are measured   without averaging.

 J2 is the same as J, “all but 1% for jitter”, used in IEEE 802.3 Clause 52.9.9. It is   defined as the time interval that includes all but 10-2 of the jitter distribution.   If measured using an oscilloscope, it is the time interval from the 0.5th to the   99.5th percentile of the jitter distribution measured on the histogram.

 TJ, as used in this document, is the Level 1 definition for TJ as described in the   FC-MJSQ, where TJ is the crossing width, defined as the late time at which the   BER is 10-12 minus the early time at which the BER is 10-12. This is one unit in-  terval (UI), minus the “jitter eye opening” defined in FC-MJSQ. TJ can be ex-  pressed as:

 •  TJ=T-t1  Where t1 is the jitter eye opening at the CDF = 10-12, and T is one symbol pe- riod.

       The CDF is a cumulative distribution function of the timings of the edges with  a maximum close to 0.5 because the transition density is close to 50%.

       A measurement using the BERT bathtub method must be corrected for the in- strument’s setup-and-hold time and noise. As PRBS31 is more demanding  than a 64B/66B signal, a 10GBASE-R instance whose TJ is compliant using a  64B/66B signal is considered compliant even if it does not meet the required  limit using PRBS31. A 10GBASE-W instance shall be compliant with PRBS31. It  is not expected that the J2 value will differ between these patterns.

       Both J2 and TJ are measured from side to side of the CDF, not from median to  side of the CDF.
D.5 99％JITTER（J2）和TOTAL JITTER（TJ）
抖动是信号边缘定时的属性。边缘出现的时间被定义为当信号跨越其平均电平（例如，对于耦合耦合的接地端测量的0V）。抖动是使用D.2节的CRU定义的。总抖动（TJ）和99％抖动（J2）测试的测试模式应为PRBS31或有效的64B / 66B信号。测量这些抖动度量而不进行平均。

 J2与J“相同，”除抖动1％以外“，用于IEEE 802.3第52.9.9条。它被定义为包括抖动分布的10-2以外的所有时间间隔。如果使用示波器测量，则是从直方图上测量的抖动分布的第0.5到99.5百分位数之间的时间间隔。

 本文档中使用的TJ是FC-MJSQ中描述的TJ的1级定义，其中TJ是交叉宽度，定义为BER为10-12的较晚时间减去早期时间BER为10-12。这是一个单位间隔（UI），减去FC-MJSQ中定义的“抖动眼睛开度”。 TJ可以表示为：

 •TJ = T-t1其中t1是CDF = 10-12处的抖动眼睛开度，T是一个符号周期。

       CDF是边缘的时序的累积分布函数，其最大值接近0.5，因为转换密度接近50％。

       对于仪器的设置和保持时间和噪声，必须校正使用BERT浴缸方法的测量。由于PRBS31比64B / 66B信号要求更高，因此使用64B / 66B信号的TJ兼容的10GBASE-R实例即使不符合PRBS31要求的限制也被认为是合规的。 10GBASE-W实例应符合PRBS31。这些模式之间的J2值不会有所不同。

       J2和TJ都是从CDF的一侧到另一侧测量的，而不是CDF的中间到侧。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 76SFF-8431          Test Methodology and Measurement (Normative)          July 6, 2009 REVISION 4.1    PUBLISHED

D.6  RISE AND FALL TIMES 
In this document, rise and fall times are defined as the time between the 20%  and 80% times, or 80% and 20% times, respectively, of isolated edges. The nor- mative test pattern is the OMA test pattern (eight ones, eight zeros). The 0%  level and the 100% level are as defined by the xMA measurement procedure  (see D.7 and IEEE Std 802.3, 68.6.2).

       Alternatively, suitable edges exist in the PRBS9, within sequences of five zeros  and four ones, and nine ones and five zeros, respectively. These are bits 10 to  18 and 1 to 14, respectively. In this case, the 0% level and the 100% level may  be estimated as ZeroLevel and ZeroLevel + MeasuredxMA in the xWDP code  (see Appendix G), or by the average signal within windows from -3 to -2 UI and   from 2 to 3 UI relative to the edge. The PRBS9 methods are inaccurate for rise   and fall times above 1.5 UI.

 For electrical signals, the waveform is observed through a 12 GHz low pass   filter response. For optical signals, the rise and fall times may be defined either   without a filter response or through the standard 7.5 GHz Bessel-Thomson re-  sponse; one or the other option is specified in each case.

 NOTE -- The rise and fall definition in this document is not the same as the rise   and fall times typically reported by an oscilloscope from an eye diagram de-  rived from a mixed frequency signal such as PRBS or a 64B/66B signal, which   takes all the edges into account.
D.6上升和下降时间
在本文中，上升和下降时间被定义为分离边缘的20％和80％之间的时间，即80％和20％的时间。示例性测试模式是OMA测试模式（八个，八个零）。 0％电平和100％电平由xMA测量程序定义（见D.7和IEEE Std 802.3,68.6.2）。

       或者，PRBS9中存在合适的边缘，分别在五个零和四个序列以及九个和五个零的序列内。这些分别是位10至18和1至14。在这种情况下，0％电平和100％电平可以在xWDP代码（见附录G）中估计为ZeroLevel和ZeroLevel + MeasuredxMA，或者由窗口内的-3到-2 UI和从2到3 UI相对于边缘。 PRBS9方法对于1.5 UI以上的上升和下降时间是不准确的。

 对于电信号，通过12 GHz低通滤波器响应观察波形。对于光信号，上升和下降时间可以定义为没有滤波器响应或通过标准的7.5GHz贝塞尔 - 汤姆森响应;在每种情况下都会指定一个或另一个选项。

 注 - 本文档中的上升和下降定义与示波器通常由来自混合频率信号（如PRBS或64B / 66B信号）的眼图报告的上升和下降时间不同，所有的边缘考虑。

D.7  VOLTAGE MODULATION AMPLITUDE (VMA) 
VMA is the difference between the nominal one and zero levels of an electrical  signal. It is analogous to the OMA of an optical signal (see IEEE Std 802.3 52.9.5  and 68.6.2). VMA is defined with the square wave test pattern of eight ones  and eight zeros defined in IEEE Std 802.3, 68.6.1 (this is a subset of the square  waves allowed in IEEE 802.3, 52.9.5), or in the case of a non-802.3 application,  a test pattern defined by the relevant standard.

       It can be measured as follows:

       •   The signal under test is set to carry the square wave pattern and is ob-     served, typically with an oscilloscope triggered to the pattern. The band-     width of this measurement system is at least 3/T, where T is the period      between transitions. For the square wave test pattern      (0000000011111111) this gives approximately 4 GHz at 10.3125 GBd; the      12 GHz bandwidth defined for other electrical quantities is convenient.      Electrical measurements of VMA do not require a 7.5 GHz Bessel-Thomson      filter.

       •   The square wave being measured is divided into two equal time intervals,      8 UI long, aligned to the average time of both edges. •   The time of occurrence of an edge is defined as when the square-wave      signal crosses its average level (0 V for A.C. coupled measurements). •   The average voltage level in the central 20% of each time interval is mea-     sured. •   The difference between the two levels (a positive voltage) is the VMA. •   An estimate of the OMA or VMA of a PRBS9 waveform is provided by the      variable MeasuredxMA calculated by the algorithm in Appendix G. An example square wave signal with eight zeros and eight ones with the two  measurement windows is shown in Figure 48.
D.7电压调制幅度（VMA）
VMA是电信号的标称值和零电平之间的差值。它类似于光信号的OMA（见IEEE标准802.3 52.9.5和68.6.2）。 VMA定义为IEEE Std 802.3,68.6.1（这是IEEE 802.3,52.9.5中允许的方波的子集）中定义的八个和八个零的方波测试模式，或者在非 - -802.3应用，由相关标准定义的测试模式。

       可以测量如下：

       •被测信号被设置为携带方波模式，通常用示波器触发到模式。该测量系统的带宽至少为3 / T，其中T是转换之间的周期。对于方波测试模式（0000000011111111），这样可以在10.3125 GBd时提供大约4 GHz的频率;为其他电量定义的12 GHz带宽是方便的。 VMA的电气测量不需要7.5 GHz Bessel-Thomson滤波器。

       •测量的方波被划分为两个相等的时间间隔，8 UI长，与两边的平均时间对齐。 •边沿出现的时间定义为方波信号跨越其平均电平（交流耦合测量值为0 V）。 •测量每个时间间隔中央20％的平均电压电平。 •两级之间的差异（正电压）是VMA。 •PRBS9波形的OMA或VMA的估计由附录G中的算法计算的变量MeasuredxMA提供。具有八个零点和八个具有两个测量窗口的示例方波信号如图48所示。

          OMA Test Pattern (1111111100000000)  0.3


           0.25


 0.2


           0.15


 0.1


           0.05           AMPLITUDE

 0


           −0.05


           −0.1


           −0.15


           −0.2        0           5           10           15          20           25        TIME (UI)

 Figure 48  Example xMA waveform showing xMA measurement windows

D.8  RELATIVE NOISE (RN) 
RN is a measure of reciprocal SNR for a signal. RN is given by:        2 × noise() RMS            RN   = -------------------------------------     ()xMA

       where for this document, xMA is OMA if an optical signal is being measured, or  VMA if an electrical signal is being measured, and noise(RMS) is measured on  the same optical signal or electrical signal, respectively.

       Important parts of the measurement procedure for RN can be found in IEEE  Std. 802.3 CL 68.6.7 (LRM). Some comments:

       •   For purposes of this document, the definitions and procedures generally      apply to both optical and electrical signals. Optical terms (such as power)      and units can be converted to corresponding electrical terms (such as      voltage) and units. •   The test pattern defined for OMA in IEEE 802.3 Clause 68, or other stan-     dard relevant for the application, shall be used regardless if the RN mea-     surement is being done on an optical or an electrical signal.

       •   The 4th-order Bessel-Thomson response is to be used only for optical      measurements of RN. The bandwidth of the Bessel-Thomson response is      called out in the relevant standard for the application. RN in the electrical      domain is defined in a bandwidth of 12 GHz. •   Location of histograms are shown in Figure 68-4 in 802.3 Clause 68. •   Noises at both logic levels should be measured: logicONEnoise(rms) and      logicZEROnoise(rms). Apply the rms technique according to the equation:

            noise() RMS =   ()logicONEnoise() RMS 2 + logicZEROnoise() RMS  2 ⁄ 2

       •   The equation for RN is given above. A calculation of Qsq is not required,      nor is a calculation in units of dB/Hz, such as for transmitter RIN. If      logi cONEnoise(RMS) equals logicZEROnoise(RMS) then RN equals 1/Qsq.
D.8相对噪音（RN）
RN是信号的互逆SNR的度量。 RN由下式给出：2×noise（）RMS RN = ------------------------------------- （）XMA

       在本文档中，如果正在测量光信号，则XMA是OMA，如果正在测量电信号，则为VMA，并且在相同的光信号或电信号上测量噪声（RMS）。

       RN的测量程序的重要部分可以在IEEE Std。 802.3 CL 68.6.7（LRM）。一些意见：

       •为了本文档的目的，定义和过程通常适用于光信号和电信号。光学术语（如功率）和单位可以转换为相应的电气术语（如电压）和单位。 •无论RN测量是在光电还是电信号上进行，都应使用IEEE 802.3第68章中为OMA定义的测试模式或与应用相关的其他标准。

       •四阶Bessel-Thomson响应仅用于RN的光学测量。 Bessel-Thomson响应的带宽在应用的相关标准中被提及。 RN的电域定义为12 GHz的带宽。 •直方图的位置如图68-4所示，在802.3条款68中。•应测量两个逻辑电平的噪声：logicONEnoise（rms）和logicZEROnoise（rms）。根据等式应用有效值技术：

            noise（）RMS =（）logicONEnoise（）RMS 2 + logicZEROnoise（）RMS 2/2

       •RN的公式如上。不需要Qsq的计算，也不是以dB / Hz为单位的计算，例如发射机RIN的计算。如果logi cONEnoise（RMS）等于logicZEROnoise（RMS），则RN等于1 / Qsq。

D.9  WAVEFORM DISTORTION PENALTY (WDP) 
WDP is a waveshape metric for waveform filtering and/or nonlinear distortion.  WDP uses the same procedure as defined for TWDP in IEEE 802.3 Clause 68.6.6  (LRM).

       •   For purposes of this document, the definitions and procedures generally      apply to both optical and electrical signals. Optical terms (such as power)      and units can be converted to corresponding electrical terms (such as      voltage) and units, etc.

       •   WDP is not restricted to transmitter measurements (hence, the “T” is      dropped). •   The 4th-order Bessel-Thomson response is to be used only for optical      measurements of WDP, such as calibration of an optical receiver test sys-     tem. The bandwidth of the Bessel-Thomson response is called out in the      relevant standard for the application.  •   The definition of electrical WDP assumes a measurement bandwidth of      12 GHz. A different measurement bandwidth can be corrected for by pro-     cessing the captured waveform before the WDP calculation. However, a      higher bandwidth is expected to have little effect on the result. •   PRBS9 is the normative test sequence for this specification. •   To improve measurement accuracy, uncorrelated jitter and noise should      be reduced. For IEEE 802.3 CL 52, sinusoidal interference and sinusoidal      jitter are turned off. •   Averaging should be used to further reduce instrumentation and mea-     surement noise so their effect on the results are negligible. •   Specific code for calculating WDP is found in Appendix G.
D.9波动失败罚款（WDP）
WDP是用于波形滤波和/或非线性失真的波形度量。 WDP使用与IEEE 802.3条款68.6.6（LRM）中的TWDP相同的过程。

       •为了本文档的目的，定义和过程通常适用于光信号和电信号。光学术语（如功率）和单位可以转换为相应的电气术语（如电压）和单位等。

       •WDP不限于发射机测量（因此“T”丢弃）。 •四阶Bessel-Thomson响应仅用于WDP的光学测量，如光接收机测试系统的校准。 Bessel-Thomson响应的带宽在应用的相关标准中被提及。 •电气WDP的定义假设测量带宽为12 GHz。可以通过在WDP计算之前处理捕获的波形来校正不同的测量带宽。然而，较高的带宽预期对结果几乎没有影响。 •PRBS9是本规范的规范性测试序列。 •为了提高测量精度，应减少不相关的抖动和噪声。对于IEEE 802.3 CL 52，正弦波干扰和正弦抖动被关闭。 •应使用平均值进一步降低仪器和测量噪声，从而影响结果可忽略不计。 •计算WDP的具体代码见附录G.

D.10  ELECTRICAL COMPLIANCE SIGNAL AT B” FOR THE SFP+ MODULE TRANSMITTER 
Figure 49 shows the test configuration for testing SFP+ transmitters. It applies  to all SFP+ transmitter types.

       The receive channel of the calibration setup is exercised by the upper crosstalk  generator in Figure 47 to ensure that the crosstalk within the setup is accept- able. The crosstalk specifications of Table 17 are to be achieved through the   mated host and module compliance boards and into appropriate test equip-  ment.

 The compliance signal at B” has deliberate ISI and sinusoidal jitter. It is cali-  brated through the Host Compliance Board to deliver the DDJ or DDPWS, UJ,   and Y1 or Y2 specified in Table 17. The compliance signal is applied to the   module under test in place of the Host Compliance Board, with receive side ac-  tive, so that the transmitted signal can be assessed as specified by the sup-  ported transmission standard e.g. 10GBASE-SR, 10GBASE-LR or 10GBASE-LRM.   There are four conditions in all: large and small signals, under-compensated   and over-compensated. The opposing direction bit stream shall be asynchro-  nous PRBS31 or valid 64B/66B bit stream.
D.10“S”+模块发射机的B“电气符合信号”
图49显示了测试SFP +发射机的测试配置。它适用于所有SFP +发射机类型。

       校准设置的接收通道由图47中的上部串扰发生器执行，以确保设置内的串扰是可接受的。表17的串扰规格应通过配对主机和模块兼容板实现，并进入适当的测试设备。

 B“的符合信号具有故意的ISI和正弦抖动。它通过主机合规委员会进行校准，以交付表17中指定的DDJ或DDPWS，UJ和Y1或Y2。符合性信号适用于被测模块以代替主机合规委员会，接收侧交流以便传输的信号可以通过所支持的传输标准来规定10GBASE-SR，10GBASE-LR或10GBASE-LRM。总共有四个条件：大小信号，欠补偿和过度补偿。相反的方向比特流应为PRBS31或有效的64B / 66B比特流。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 80SFF-8431          Test Methodology and Measurement (Normative)          July 6, 2009 REVISION 4.1    PUBLISHED


     B” 12 GHz

     SJ        Scope

      HCB       For Calibration            Crosstalk            Generator

    Lossy      B’ Pattern         Pre-emphasis Generator      +      FR4      MCB     Clock  Delay     TDP   TWDP        Termination   TDP   Eye Mask    etc.   per 802.3        Black: Electrical, shown single ended for clarity       Module Under        Blue: Optical   Test     Crosstalk    Generator

     Figure 49  Compliance signal generator for module transmitter

 The emphasis settings are adjusted to give the specified DDJ (over-compen-  sated) and DDPWS (under-compensated) at B”, in two test conditions. In the   over-compensated condition the DDJ shall be equal to the target value in  Table 17 while the DDPWS is between 0.045 UI and 0.055 UI. In the under-com-  pensated condition DDPWS shall be equal to the target value in Table 17 while  the DDJ is between 0.075 UI and 0.1 UI. The amplitude is adjusted so that an  eye mask measurement shows that the compliance signal meets the specified    − Y1 or Y2 at a hit ratio of 5×10 5. The sinusoidal jitter (SJ) is adjusted to give the   specified UJ. Otherwise, the compliance signal is clean and low noise. There   are no deliberate Gaussian or “random” impairments other than crosstalk.

 The single ended reflection coefficients looking to the right of the HCB and the   single ended reflection coefficients looking to the left of the MCB as shown in  Figure 49, shall be according to:    Sxx() dB ≤ 20     f in GHz from 0.01 to 5.5

 Sxx() dB ≤ –25.8 + 1.053 × f    f in GHz from 5.5 to 15.

       The compliance signal complies to the mask in 3.6.1, and has margin to the di- mensions given by X1, X2 (jitter margin). The large signal has margin to the di- mension given by Y1 and approaches Y2 closely, while the small signal  approaches Y1 closely and has margin toY2.
在两个测试条件下，调整强调设置以在B“给出指定的DDJ（过度补偿）和DDPWS（欠补偿）。在过补偿状态下，DDJ应等于表17中的目标值，而DDPWS在0.045 UI和0.055 UI之间。在欠补偿条件下，DDPWS应等于表17中的目标值，而DDJ在0.075 UI和0.1 UI之间。调整幅度，使得眼屏测量显示符合信号以5×10 5的命中率满足规定的Y1或Y2。调整正弦抖动（SJ）以给出指定的UJ。否则，合规信号干净，噪音低。除串扰外，没有故意的高斯或“随机”损伤。

 如图49所示，在HCB右侧看到的单端反射系数和MCB左侧的单端反射系数应按照以下公式计算：Sxx（）dB≤20 f in GHz，从0.01到5.5

 从5.5到15的Sxx（）dB≤-25.8 + 1.053×f f。

       符合性信号符合3.6.1中的掩码，并且具有由X1，X2（抖动余量）给出的尺寸的裕度。大信号具有由Y1给出的尺寸的裕度，并且接近Y2，而小信号接近Y1并且具有Y 2的裕度。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 81SFF-8431          Test Methodology and Measurement (Normative)          July 6, 2009 REVISION 4.1    PUBLISHED

       The frequency of the SJ is significantly higher than the bandwidth of the clock  recovery unit used to assess the signal transmitted by the module (specified as  4 MHz). Care should be taken that this frequency does not beat against the  sampling frequency used to measure the averaged waveform in a TWDP mea- surement. It must not have a harmonic relationship to the pattern repetition  frequency.

       The patterns to be used for calibration are specified by the appropriate ap- pendix, e.g. D.3. The patterns to be used with the module, both transmitted   and received, are defined by the supported transmission standard. Other char-  acteristics of the compliance signal are defined by the supported transmission   standard.

 Note that TJ is not intended to be near the maximum TJ allowed in Table 17,   and apart from deliberate SJ, there should be much less UJ than the maximum   allowed in Table 17. It is recommended that adequate averaging be used in  TWDP, DDJ and DDPWS measurements to average the effect of the uncorre- lated jitter. Table 30 lists the estimated parameter values for an ideal stressed   signal generator.
SJ的频率明显高于用于评估由模块传输的信号（指定为4 MHz）的时钟恢复单元的带宽。应注意，该频率不会超过用于测量TWDP测量中的平均波形的采样频率。它不能与图案重复频率有谐波关系。

       用于校准的图案由适当的附录指定，例如。 D.3。与传输和接收的模块一起使用的模式由支持的传输标准定义。符合性信号的其他特性由支持的传输标准定义。

 注意，TJ不是靠近表17允许的最大TJ，除了有意思的SJ之外，应该比表17中允许的最大值少得多。建议在TWDP，DDJ和DDPWS测量来平均无抖动抖动的影响。表30列出了理想应力信号发生器的估计参数值。

    Table 30  Estimated parameter values for an ideal stressed signal  generator

   Parameter      Value           Unit

   Delay     1  UI

   Filter bandwidth      For Further Study   GHz

   VMA Min at B”         For Further Study   mV

   VMA Max at B”         For Further Study   mV

   Rise times at B”      For Further Study   ps


D.11  TEST METHOD FOR A HOST RECEIVER FOR A LIMITING MODULE 
This clause provides guidance for jitter tolerance testing at the RX host compli- ance point C. Compliance is required with input jitter, vertical eye opening  (Y1), and vertical peak level (Y2) as specified in Table 14. Compliance is defined   at the error rate(s) set by the appropriate optical standard. There are two test   conditions; once each for the sensitivity and overload vertical eye parameters   conditions.

 Further information on definitions and test methods for stressed-eye jitter tol-  erance are contained in the references (FC-MJSQ and OIF-CEI).

D.11.1  TEST EQUIPMENT & SETUP 
A test source is used to continuously generate an appropriate test signal. The  test signal shall be appropriately conditioned within the guidelines outlined in  D.11.2 to exhibit the appropriate jitter stress.

 An RF attenuator or other output amplitude control of the test source may be   required to set the vertical eye opening of the stressed eye.

 The test equipment measured at C looking into the low pass filter shall have   better than 20 dB return loss up to 12 GHz.

 The output return loss properties of the test system when measured at C” with   the Module Compliance Board shall be 2 dB better than the specifications of  Table 18 up to 8 GHz and 1 dB better up to 11 GHz.

 It is required that the receiver under test include a mechanism to allow mea-  surement of BER performance.
D.11限制模块主机接收器的测试方法
本节为RX主机合规点C的抖动容限测试提供指导。符合性要求具有输入抖动，垂直眼睛开度（Y1）和垂直峰值电平（Y2），如表14所示。错误率由适当的光学标准设定。有两个测试条件;每次为灵敏度和过载垂直眼参数条件。

 有关紧眼眼抖动容限的定义和测试方法的更多信息，请参见参考文献（FC-MJSQ和OIF-CEI）。

D.11.1测试设备和设置
测试源用于连续生成适当的测试信号。测试信号应在D.11.2中概述的指导原则下进行适当调整，以展现适当的抖动应力。

 可能需要RF衰减器或测试源的其他输出幅度控制来设置受压眼睛的垂直眼睛开度。

 在C测量的低通滤波器中测试的测试设备在高达12 GHz时的回波损耗应优于20 dB。

 在C“与模块合规板测量时，测试系统的输出回波损耗特性应比表18高达8 GHz和最高达11 GHz的1 dB更好2 dB。

 要求被测接收机包括一个允许测量BER性能的机制。

D.11.2  STRESSED-EYE JITTER CHARACTERISTICS 
This section describes required test signal characteristics along with consider- ations and suggested approaches for test signal generation. The test signal is  generated by the functions shown in Figure 50 or by equivalent means. Figure  51 illustrates how the jitter parameters in Table 14 map to the jitter compo- nents in the stressed-eye test signal.
D.11.2应力眼动特性
本节介绍所需的测试信号特性以及测试信号生成的考虑和建议方法。 测试信号由图50所示的功能或等效的方式产生。 图51说明了表14中的抖动参数如何映射到应力眼测试信号中的抖动分量。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 83SFF-8431  Test Methodology and Measurement (Normative)   July 6, 2009 REVISION 4.1           PUBLISHED


      Pattern Generator and Clock Jitter Stress

         FM Input    Sinewave        Pattern         Generator     Generator   Crosstalk   Generator            Test Signal          MCB      Characterization   DC Blocks         ISI    BERT     Generator    C”           Termination           HCB         BT4        Limiter    Low Pass     Variable           Scope         +        7.5 GHz      Filter        Gain         C

        System Under Test    Voltage Stress        Host RX         +         Sinusoidal       SFP Cage Interference   BERT  (SI)

   Random      Electrical signal shown single ended for clarity    Interference       (RI)


    Figure 50  Jitter Tolerance Test Configuration


       1 UI


       SJ        J2   TJ

      Figure 51  Stressed eye jitter components

          The 0.05 UI SJ component of 99% Jitter (J2) is defined for frequencies much higher than the CDR bandwidth (e.g. ~ 20 MHz). At lower frequencies the CDR must track additional applied SJ as detailed in the relevant specifications 1.


          1.  See Figure 21 and IEEE 802.3 CL52.8.1.

       The balance of the J2 is composed of a combination of the following forms of  jitter: ISI, sinusoidal interference (SI), and random interference (RI) all passed  through a limiting function.

       The signal at C” shall have DDPWS as defined by Table 14. Magnitude of any   DCD (see D.3.1) in the test shall not exceed 0.02 UI.

       ISI jitter creation may be achieved by the ISI generator through the use of a low  pass filter, length of FR4 trace, length of coax cable or other equivalent  method. It is required that this signal be passed through a limiter function to  ensure that the resulting jitter is not totally equalizable jitter. A suitable limiter  function may be implemented using a discrete limiting amplifier followed by  a low pass filter and an attenuator. The low pass filter emulates the bandwidth  and/or slew rate of a practical limiter. The attenuator is used to set the output  amplitude to minimum and maximum values allowed by the eye mask coordi- nates of Table 14.

       A voltage stress is to be applied before the limiter. This stress is composed of a  single tone sinusoidal interferer (SI) in the frequency range 100 MHz to 2 GHz  and a broadband noise source (RI) with a minimum power spectrum of -3 dB  at 6 GHz and minimum 7 crest factor. It is the intent that this combination of  voltage stress and limiting function introduce pulse-shrinkage jitter behavior.  However no more than 20% of the J2 is created by the sinusoidal interferer.

       Jitter generation mechanisms for the pattern generator are typically based on  phase modulation of the clock source, edge modulation of a variable delay line  or a combination thereof.

       Any approach that modulates or creates the appropriate levels and frequen- cies of the jitter components is acceptable.
99％抖动（J2）的0.05 UI SJ组件被定义为远高于CDR带宽（例如〜20 MHz）的频率。在较低频率下，CDR必须跟踪相关规范1中详细说明的附加应用SJ。


          参见图21和IEEE 802.3 CL52.8.1。

       J2的平衡由以下形式的抖动的组合组成：ISI，正弦干扰（SI）和随机干扰（RI）都通过限制功能。

       C“处的信号应具有表14所定义的DDPWS。测试中任何DCD（见D.3.1）的大小不得超过0.02 UI。

       通过使用低通滤波器，FR4迹线长度，同轴电缆长度或其他等效方法，ISI发生器可以实现ISI抖动创建。要求该信号通过限幅器功能，以确保产生的抖动不是完全可均衡的抖动。可以使用离散限幅放大器，然后是低通滤波器和衰减器来实现合适的限幅器功能。低通滤波器模拟实际限幅器的带宽和/或转换速率。衰减器用于将输出幅度设置为表14的眼罩坐标系允许的最小值和最大值。

       在限幅器之前施加电压应力。该压力由100MHz至2GHz频率范围内的单音正弦干扰源（SI）和6GHz时具有-3dB最小功率谱和最小7峰值因数的宽带噪声源（RI）组成。这意味着这种电压应力和限制功能的组合引入脉冲收缩抖动行为。然而，不超过20％的J2由正弦干扰源创建。

       模式发生器的抖动生成机制通常基于时钟源的相位调制，可变延迟线的边缘调制或其组合。

       调制或创建抖动组件的适当级别和频率的任何方法都是可以接受的。

D.11.3  CALIBRATION 
Calibration of the test signal is to be performed using the guidelines for test  setup in D.11.1 and illustrated in Figure 50. The aim of the calibration is to   achieve a test signal exhibiting jitter stress in accordance with Table 14.

 The test signal should be calibrated differentially into standard instrumenta-  tion loads. If complementary single-ended signals are used they should be   carefully matched in both amplitude and phase.

 For improved visibility for calibration, it is imperative that all elements in the   signal path (cables, DC blocks, etc.) have wide and flat frequency response as   well as linear phase response throughout the spectrum of interest. Baseline   wander and overshoot/undershoot should be minimized.

       An AC coupling 3 dB corner frequency of 20 kHz is expected to be adequate to  eliminate baseline wander effects, however high frequency performance is  critical and must not be sacrificed by the AC coupling.

       Jitter requirements are defined for a probability level of 1x10-12. To calibrate  the jitter, methods given in CEI 2.C Annex and MJSQ Chap 8 are recommended.  Given random jitter and the nature of the long test patterns, low probability  jitter events will likely be present. It is recommended for jitter calibration that  a technique that can accurately measure low probability events should be  used to avoid overly stressful test conditions.

       It is recommended that the actual compliance test pattern be used during cal- ibration. For jitter stress calibration it is permissible, however, to use any appro- priate test pattern which still results in the creation of a compliance test  pattern with the appropriate jitter stress.
D.11.3校准
测试信号的校准将使用D.11.1中的测试设置指南进行，如图50所示。校准的目的是根据表14实现显示抖动应力的测试信号。

 测试信号应被校准为标准仪表负载。如果使用互补单端信号，则应在幅度和相位上仔细匹配。

 为了提高校准的可见性，信号通路（电缆，直流电阻等）中的所有元件都必须具有广泛和平坦的频率响应以及所有感兴趣的频谱的线性相位响应。基线漂移和过冲/下冲应最小化。

       预计20 kHz的AC耦合3 dB转角频率足以消除基线漂移效应，但是高频性能至关重要，绝对不能被交流耦合所牺牲。

       抖动要求定义为1×10-12的概率级别。为了校准抖动，建议在CEI 2.C Annex和MJSQ第8章中给出的方法。给定随机抖动和长测试模式的性质，可能会出现低概率抖动事件。建议使用抖动校准，可以使用可以准确测量低概率事件的技术来避免过度压力的测试条件。

       建议在校准过程中使用实际符合性测试模式。然而，对于抖动应力校准，允许使用任何适当的测试模式，这仍然导致创建具有适当抖动应力的合规性测试模式。

D.11.4  CALIBRATION PROCEDURE 
The vertical eye opening and peak level should be set approximately to the  levels specified in Table 14.

 With an applied calibration test pattern and no additional jitter stress applied;   the intrinsic jitter of the test source due to intrinsic noise and finite bandwidth   effects should be measured and calibrated. The 99% jitter (J2) shall be <0.15 UI   and TJ <0.25 UI.

 SJ should be added until the J2 component of jitter increases by 0.05 UI above   the measured reference level. This should be high frequency SJ well above the   CDR bandwidth. The SJ frequency should be asynchronous to the character-  istic frequency of the signal.

 Next, additional high probability jitter as specified in D.11.2 should be added   by the ISI generator until at least 80% of the J2 has been created. The Sine In-  terferer amplitude should then be turned on and adjusted until the required   level of J2 is achieved. The frequency of any Sine interferer should be asyn-  chronous to the characteristic frequency of the signal.

 A compliant test signal exhibits data dependent pulse width shrinkage as   specified in Table 14. Data dependent pulse width shrinkage is defined in D.3.   This is measured with noise and clock-jitter sources turned off.

 Once the required level of J2 has been achieved turn on the crosstalk source   that should be set such that at the output of the Host Compliance Board the   amplitude and the rise and fall times should be as given in Table 14.   The   crosstalk pattern should be PRBS31 or valid 64B/66B signal and should be   asynchronous with the data. Then the RI (random interference) should be   added until the required value of TJ is achieved at a probability of 1x10-12.

       If necessary the sine interferer should be readjusted to obtain the required  level of J2 and if the sine interferer is changed then the random interferer  should be readjusted to obtain the required level of TJ. Iterative adjustments  of the sine interferer and random interferer should be made until the required  values of both J2 and TJ are achieved.

       If necessary, the vertical eye opening should be readjusted to required levels.

       It should be verified that the vertical eye opening and peak level specification  is met.

       Care must be taken when characterizing the signal used to make receiver tol- erance measurements. The intrinsic noise and jitter introduced by the calibra- tion measurement equipment (e.g. filters, oscilloscope and BERT) must be  accounted for and controlled. If equipment imperfections affect the results  materially, corrections such as RSS deconvolution of Gaussian noise and jitter  should be used.
D.11.4校准程序
垂直眼睛开度和峰值水平应大致设定在表14中规定的水平。

 使用应用的校准测试图案并且不施加额外的抖动应力;应测量和校准由于固有噪声和有限带宽效应引起的测试源的固有抖动。 99％抖动（J2）应小于0.15 UI，TJ <0.25 UI。

 应添加SJ直到抖动的J2分量比测量的参考电平高0.05 UI。这应该是高频率的SJ高于CDR带宽。 SJ频率应与信号的特征频率异步。

 接下来，ISI生成器应添加D.11.2中规定的附加高概率抖动，直到创建了至少80％的J2。然后应将正弦检波器振幅打开并调整，直到达到所需的J2级。任何正弦干扰源的频率应与信号的特征频率同步。

 符合标准的测试信号表现出数据相关的脉宽收缩，如表14所示。数据相关脉冲宽度收缩在D.3中定义。这是用噪声和时钟抖动源关闭来测量的。

 一旦实现所需的J2级别，就可以打开应该设置的串扰源，使得在主机兼容板的输出端，幅度和上升和下降时间应如表14所示。串扰模式应为PRBS31或有效的64B / 66B信号，应与数据异步。然后应该加上RI（随机干扰），直到TJ的要求值达到1×10-12的概率为止。

       如有必要，应重新调整正弦干扰源以获得所需的J2级别，如果改变正弦干扰源，则应重新调整随机干扰源以获得所需的TJ级别。应进行正弦干扰源和随机干扰源的迭代调整，直到达到J2和TJ的所需值。

       如果需要，垂直眼睛开度应重新调整到所需水平。

       应该验证垂直开眼和峰值水平规格是否得到满足。

       表征用于进行接收机保持测量的信号时，必须小心。校准测量设备（例如滤波器，示波器和BERT）引入的固有噪声和抖动必须被考虑和控制。如果设备缺陷对实际结果产生影响，应使用高斯噪声和抖动的RSS去卷积校正。

D.11.5  TEST PROCEDURE 
Testing should be performed differentially through a Host Compliance Board  (see C.2).

 Using a test signal calibrated conforming to D.11.1 and calibrated as per  D.11.4, operate the system with an appropriate compliance test pattern for the   relevant application (10G Ethernet, 10GFC, or 10G Ethernet with FEC).

 All signals and reference clocks that operate during normal operation shall be   active during the test including the other host signal path in the duplex pair.   The other signal path shall be asynchronous.

 The opposing direction bit stream (than the one being tested) shall be asyn-  chronous PRBS31 or valid 64B/66B signal.

 The sinusoidal jitter is stepped across frequency and amplitude range ac-  cording to Figure 21 while monitoring the BER. The BER shall remain < 1x10-12.


D.12  LIMITING MODULE RECEIVER COMPLIANCE TESTS 
Compliance to the specifications at C’ Table 18 and Table 19 must be met over   the range of input optical signals specified by standards supported e.g. IEEE   802.3 Clause 52 and calibration procedure defined in Clause 52.9.9.

 This test includes the effects of crosstalk within the module and within the   Module Compliance Board. The module transmit path is operational. The   transmit path input of the Module Compliance Board is connected to a pattern   generator and calibrated through a Host Compliance Board. The amplitude and rise/fall times are given in Table 18. Testing for compliance at point C’ is   done through a Module Compliance Board.

 The pattern for the crosstalk source is PRBS31 or a valid 64B/66B sequence. The   crosstalk source is asynchronous to the TP3 test source.

 The minimum test conditions (vertical eye closure penalty, VECP[min] and   stressed eye jitter, J(min) for stressed receiver sensitivity defined in IEEE 802.3   clause 52 were chosen as sufficient to ensure compliant receivers. Conse-  quently, test conditions more severe than the minimum requirements repre-  sent an overstress condition for which compensation is appropriate.

 Compensation for overly stressful VECP is straightforward; the stressed re-  ceiver sensitivity (SRS) maximum can be adjusted one-for-one for any VECP   overstress (or a small amount of under-stress).

 SRS[compensated, dBm] = SRS[max, dBm] + dVECP[overstress, dBo],

 where dVECP[overstress] = VECP[measured, dBo] - VECP[min, dBo].

 Compensation for overly stressful jitter is less straightforward since definition   permits compositions over a trade-off range of deterministic and random   jitter. Further, there is no generally accepted practice for compensating deter-  ministic jitter and the only recourse is re-calibrating the test source. Fortu-  nately, most cases of overly stressful jitter are expected to be due to excessive   random jitter.

 Where the jitter composition is known or can be measured, any excess random   jitter can be backed out of the measured result, or specifications in Table 19,   Total Jitter and Eye Mask X1 coordinate, can be adjusted to accommodate the   excess input signal.
D.11.5测试程序
测试应通过主机合规委员会进行差异化（见C.2）。

 使用根据D.11.1进行校准并按照D.11.4进行校准的测试信号，对相关应用（具有FEC的10G以太网，10GFC或10G以太网）采用适当的一致性测试模式来操作系统。

 在正常操作期间运行的所有信号和参考时钟在测试期间应处于活动状态，包括双工对中的其他主机信号路径。另一个信号路径应该是异步的。

 相反的方向比特流（比被测试的比特流）应该是同步的PRBS31或有效的64B / 66B信号。

 在监视BER的同时，正弦曲线抖动按照图21跨越频率和幅度范围。 BER应保持<1x10-12。


D.12限制模块接收器兼容性测试
在C'表18和表19中符合规范必须满足由所支持标准的输入光信号范围。 IEEE 802.3第52条和第52.9.9条定义的校准程序。

 该测试包括模块内和模块合规板内串扰的影响。模块发送路径可操作。模块合规板的传输路径输入连接到模式发生器，并通过主机合规板进行校准。幅度和上升/下降时间在表18中给出。通过模块合规委员会进行C点测试。

 串扰源的模式是PRBS31或有效的64B / 66B序列。串扰源与TP3测试源异步。

 选择符合IEEE 802.3第52条规定的应力接收机灵敏度的最小测试条件（垂直闭眼罚分，VECP [min]和强调眼抖动J（min）足以确保符合标准的接收机，因此测试条件更严重比最低要求代表适用的补偿条件。

 对过度压力的VECP的补偿是直接的;对于任何VECP过应力（或少量欠压），受压接收器灵敏度（SRS）最大值可以一对一调节。

 SRS [补偿dBm] = SRS [max，dBm] + dVECP [过应力，dBo]，

 其中dVECP [过载] = VECP [测量，dBo] - VECP [min，dBo]。

 因为定义允许组合在确定性和随机抖动的权衡范围内，所以对过度紧张抖动的补偿不太简单。此外，没有普遍接受的用于补偿确定性抖动的做法，唯一的方法是重新校准测试源。幸运的是，大多数情况下过度紧张的抖动预计是由于过度的随机抖动。

 在已知或可以测量抖动组成的情况下，可以从测量结果中退出任何过多的随机抖动，或者可以调整表19，总抖动和眼图X1坐标中的规格，以适应多余的输入信号。

D.13  TEST METHOD FOR A HOST RECEIVER WITH A LINEAR MODULE 
A compliance setup for a host for use with a linear module receiver is shown in  Figure 52. The host input at point C is tested for BER compliance with test sig- nals that represent the worst case waveshape and noise properties expected  from the output of a module during compliant operation.
D.13具有线性模块的主机接收机的测试方法
与线性模块接收器一起使用的主机的兼容性设置如图52所示。对C点处的主机输入进行测试，以符合测试信号的BER符合性，该测试信号表示从输出的预期的最坏情况波形和噪声特性 模块在顺从操作期间。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 88SFF-8431          Test Methodology and Measurement (Normative)          July 6, 2009 REVISION 4.1    PUBLISHED


    Crosstalk  TP3 to electrical adapter       Source      MCB     Noise     DC Blocks Host Stress     Source       Crosstalk       C” Calibration       Calibration       Instrument          HCB        +       Filter  Variable Gain         C


         OE    System Under Test     Converter   Host RX          TP3  SFP Cage         BERT

  LRM or LR TP3 Tester   Electrical signals shown single ended for clarity

  Figure 52  TP3 to electrical adaptor for host that operates with linear  modules


D.13.1  TEST DESCRIPTION AND PROCEDURE FOR HOST RECEIVER FOR LINEAR MODULE 
Compliance shall be achieved for each of the three TP3 pulse shapes defined  for 10GBASE-LRM in IEEE 802.3 Clause 68.6.9 and for the one 10GBASE-LR  stressed receiver conformance test signal defined in IEEE Std 802.3 Clause  52.9.9. Compliance shall be achieved over the range of VMA in Table 15. The   TP3 tester block is the same test system as defined by the LRM or LR standard   for testing the TP3 compliance point. LRM and LR are chosen because this   combination of tests includes both high distortion with low noise, and low dis-  tortion with high noise. Testing with an SR equivalent input is not required as   the noise and distortion are between those for LR and LRM.

 The TP3 to electrical adapter as shown in Figure 52 converts the TP3 test   signal(s) into electrical signal(s) with output VMA, noise (RN) and distortion   (WDP) properties defined in Table 15.

       The specifications given in Table 15 are as measured during calibration at C”  through the Module Compliance Board.

       The noise source, in conjunction with the other blocks, is intended to repre- sent the additive noise properties of a worst-case linear module. The magni- tude of the noise is calibrated such that the RN values at C” are consistent with  Table 15. The spectrum of the noise source at the summing point is white with   a 3 dB frequency of at least 10 GHz. The noise measured at C” represents the noise of the module and the optical signal combined. The noise source crest  factor should be at least 6.

       The filter and gain blocks are intended to represent the deterministic dWDP  and gain properties of a worst-case linear module. For the low WDP cases in  Table 15, including LR, the filter has a bandwidth of 7.5 GHz. For the high WDP   cases in Table 15, the frequency response of the filter is set such that the WDP   value specified in Table 15 at C” for the split-symmetrical LRM stressor is   achieved. This bandwidth is expected to be approximately 4.5 GHz. In all cases,   the overall response of the adapter has a Bessel Thomson response.

 The gain block and/or the input optical power level can be used to adjust VMA.

 During calibration and host compliance testing, crosstalk source see Figure 52  shall be an asynchronous PRBS31 or 64B/66B signal.

       Care must be taken to not induce greater than 0.02 UI of DCD at C”

       A balun or other means provides a differential signal.

       The test signal output shall be AC coupled. An AC coupling 3 dB corner fre- quency of 20 kHz is expected to be adequate to eliminate baseline wander ef- fects, however high frequency performance is critical and must not be  sacrificed by the AC coupling.

       The output return loss properties of the test system when measured with  Module Compliance Board shall be at least 2 dB better than the specifications  of Table 18 up to 8GHz and 1 dB better up to 11GHz.

 Any implementation of the measurement configuration may be used, pro-  vided that the resulting signal and noise match those defined in Table 15.

 Under all specified test conditions, a BER of better than 1x10-12 shall be   achieved. The transmitter of the port under test and all other ports operate in   normal operation, including termination. The transmitter of the port being   tested is terminated through the Host Compliance Board with a DC block and   50 Ω at each Tx SMA connector.
D.13.1线性模块主机接收机的测试说明和步骤
对于IEEE 802.3第68.6.9条中为10GBASE-LRM定义的三种TP3脉冲形状中的每一种以及IEEE Std 802.3第52.9.9节中定义的一个10GBASE-LR受压接收机一致性测试信号，应实现符合性。在表15中的VMA范围内应达到一致性.TP3测试器模块与用于测试TP3顺应性点的LRM或LR标准所定义的相同的测试系统。选择LRM和LR，因为这种测试的组合包括具有低噪声的高失真以及高噪声的低失真。不需要使用SR等效输入进行测试，因为噪声和失真在LR和LRM之间。

 如图52所示，TP3到电适配器将TP3测试信号转换成具有表15中定义的输出VMA，噪声（RN）和失真（WDP）特性的电信号。

       表15中给出的规格在C“通过模块合规委员会进行校准时测量。

       噪声源与其他块一起用于表示最坏情况的线性模块的加性噪声​​特性。噪声的大小被校准，使得C“处的RN值与表15一致。求和点处的噪声源的频谱为白色，具有至少10GHz的3dB频率。在C“测量的噪声”表示模块的噪声和光信号的组合。噪声源波峰因数应至少为6。

       滤波器和增益块旨在表示最坏情况的线性模块的确定性dWDP和增益特性。对于表15中的低WDP情况，包括LR，滤波器的带宽为7.5 GHz。对于表15中的高WDP情况，滤波器的频率响应被设置为使得表15中针对分裂对称LRM应力器的C“处指定的WDP值被实现。该带宽预计约为4.5GHz。在所有情况下，适配器的整体响应均为贝塞尔汤姆森（Bessel Thomson）响应。

 增益块和/或输入光功率电平可用于调整VMA。

 在校准和主机一致性测试期间，串扰源见图52，应为异步PRBS31或64B / 66B信号。

       必须注意不要在C处诱发大于0.02 UI的DCD“

       平衡不平衡变压器或其他方式提供差分信号。

       测试信号输出应为交流耦合。预期20 kHz的交流耦合3dB角频率足以消除基线漂移效应，但高频性能至关重要，绝对不能被交流耦合所牺牲。

       当使用模块合规板测量时，测试系统的输出回波损耗特性应比表18高达8GHz至少高出2 dB，最高可达11GHz，最高可达1 dB。

 可以使用测量配置的任何实现，使得所得到的信号和噪声与表15中定义的信号和噪声相匹配。

 在所有规定的试验条件下，BER达到1×10-12以上。被测端口的发射器和所有其他端口正常工作，包括终止。正在测试的端口的发送器通过主机兼容板端接，每个Tx SMA连接器具有直流模块和50Ω。

D.13.2  HOST LINEAR TESTER CALIBRATION 
The output of the Host Compliance Board is plugged through the Module  Compliance Board into laboratory equipment for calibration.

       Calibration should be done with all tester elements in place, although some  components may be shut down, such as jitter and noise, while other elements  are being calibrated - see below. After calibration is completed, all compo- nents are set to their calibrated levels for testing.

       RN of the host test system is adjusted via the magnitude of the adapter’s noise  source. Calibration should use the RN measurement methods given in section  D.8. RN values are given in Table 15 for each test condition. The crosstalk  source must be calibrated to the requirements in Table 13 and running during   calibration of RN. After calibration and during host compliance testing, the   crosstalk calibration instrument can be removed and replaced with 50 Ohm   terminations, although DC blocking must be maintained.

 WDP of the host test system is set via the filter in the adapter. If the calibration   is off by a small amount, the ISI generator in the TP3 tester can be adjusted to   obtain the required values.

 Although WDP is a characteristic of an electrical signal in this case, its units are   in dBo to better align with WDPo out of a linear optical module, which is also   given in dBo.

 After calibration, the Host Compliance Board is plugged into the host receiver   under test for compliance testing.

D.13.2线性测试仪校准
主机合规委员会的输出通过模块合规板插入实验室设备进行校准。

       尽管有些组件可能被关闭，例如抖动和噪声，而其他元素被校准时，可以使用所有测试元件进行校准。校准完成后，将所有组件设置为校准水平进行测试。

       主机测试系统的RN通过适配器噪声源的大小进行调整。校准应使用D.8节给出的RN测量方法。对于每个测试条件，表15给出了RN值。串扰源必须根据表13的要求进行校准，并在RN校准期间运行。校准后和在主机一致性测试期间，串扰校准仪器可以被移除并用50欧姆终端替换，尽管必须保持DC阻塞。

 主机测试系统的WDP通过适配器中的过滤器进行设置。如果校准关闭少量，则可以调整TP3测试仪中的ISI发生器以获得所需的值。

 尽管WDP在这种情况下是电信号的特征，但它的单位是dBo，以便更好地与线性光学模块中的WDPo对齐，其也以dBo给出。

 校准后，主机合规委员会插入被测试的主机接收器进行兼容性测试。

D.14  LINEAR MODULE RECEIVER COMPLIANCE TESTS 
Linear module receiver compliance tests ensure that noise generation, wave- form filtering and other distortion due to the module are kept within accept- able bounds when tested with the optical input signals as specified in the  standards supported by the module, e.g. IEEE 802.3 CL 52 and/or CL 68.

D.14.1  LINEAR MODULE RECEIVER NOISE COMPLIANCE TEST 
The module receiver can be tested for noise compliance by measuring how  much noise it passes and adds to an input test signal. Figure 53 is a block dia- gram of a test system that defines the module receiver noise test.
D.14线性模块接收机兼容性测试
线性模块接收器一致性测试确保当通过模块支持的标准中规定的光输入信号进行测试时，由模块产生的噪声产生，波形滤波和其他失真保持在可接受范围内。 IEEE 802.3 CL 52和/或CL 68。

D.14.1线性模块接收机噪声符合性测试
模块接收器可以通过测量噪声通过并增加输入测试信号来测试噪声顺应性。 图53是定义模块接收机噪声测试的测试系统的框图。


           RNi        TP3       O/E & BT4 Filter        Tester    or       RN         DUT Rx       Module           Oscilloscope           Compliance           Board         Crosstalk         Source

  Figure 53  Linear Module Receiver Noise Test


SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 91SFF-8431          Test Methodology and Measurement (Normative)          July 6, 2009 REVISION 4.1    PUBLISHED


       This test includes the effects of crosstalk within the module and the Module  Compliance Board. The transmit path input of the Module Compliance Board  is connected to a crosstalk source and calibrated through a Host Compliance  Board. The crosstalk amplitude and rise/fall times are set to the values given in  Table 18. The pattern for the crosstalk source is PRBS31 or a valid 64B/66B   signal. The crosstalk source is asynchronous to the TP3 test source. After cali-  bration, the Host Compliance Board is replaced with the module under test.   The module transmit path is operational during compliance testing.

 The TP3 tester should be set to the OMA/VMA pattern for this test as defined   in D.7.

 The waveform shaping stress of the TP3 tester is enabled. The sinusoidal jitter   and/or sinusoidal interference of the TP3 tester should be disabled or set to   very low magnitudes for this test.

 RNi of the TP3 tester is set to the level specified by the Table 31.

       The TP3 tester is connected into the module under test. The module is  plugged into the Module Compliance Board, which in turn is connected to the  oscilloscope. The relative noise of the module output signal, RN, is then mea- sured. The relative noise measurement method is described in D.8.

       Relative noise of the TP3 test signal RNi is characterized through a reference  O/E converter and 4th-order Bessel Thomson filter and a digital oscilloscope. If  the noise of the TP3 test source does not match the target value in Table 31, RN   can be corrected using the following equation:

         ()2      ×     ()×      ()()  RN=      RNmeasured   – 1.24  RNi tetarg    RNi  – RNi tetarg

 where RNmeasured includes the effect of actual TP3 tester noise at the module   output, RNi is the actual TP3 tester noise, and RNi(target) is the target test noise   given in Table 31 for the test conditions.The resulting noise result is to be com-  pared against the compliance limit specified in Table 20. Compliance must be   met over the range of optical power specified by the standards supported by   the module.
该测试包括模块和模块合规板内串扰的影响。模块合规板的传输路径输入连接到串扰源，并通过主机合规板进行校准。串扰幅度和上升/下降时间被设置为表18中给出的值。串扰源的模式是PRBS31或有效的64B / 66B信号。串扰源与TP3测试源异步。校准后，主机合规板被替换为被测模块。模块传输路径在一致性测试期间可操作。

 TP3测试仪应按照D.7中的定义进行此测试的OMA / VMA模式。

 启用TP3测试仪的波形整形应力。 TP3测试仪的正弦波抖动和/或正弦波干扰应该被禁用或设置为非常低的幅度。

 TP3测试仪的RNi设置为表31指定的级别。

       TP3测试仪连接到被测模块中。该模块插入模块合规板，该板又连接到示波器。然后测量模块输出信号RN的相对噪声。相对噪声测量方法见D.8。

       TP3测试信号RNi的相对噪声通过参考O / E转换器和4阶Bessel Thomson滤波器和数字示波器进行表征。如果TP3测试源的噪声与表31中的目标值不匹配，则可以使用以下公式校正RN：

         （）2×（）×（）（）RN = RN测量 - 1.24 RNi tetarg RNi - RNi tetarg

 其中RN测量包括实际TP3测试仪噪声在模块输出端的影响，RNi是实际的TP3测试仪噪声，RNi（目标）是表31中测试条件给出的目标测试噪声。由此产生的噪声结果为com - 符合表20规定的符合性限制。必须满足由模块支持的标准所规定的光功率范围。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 92SFF-8431          Test Methodology and Measurement (Normative)          July 6, 2009 REVISION 4.1    PUBLISHED

       .

          Table 31  Target RNi Values

        Application   RNi (target)

          LRM pre-cursor          0.0219

          LRM split-symmetrical   0.0269

          LRM post-cursor         0.0213

          LR     0.014

          SR     0.020

       For LRM, RNi should be within 1 dBo of the appropriate value given in Table 31.   For LR and SR, RNi should be no more than 1 dBo greater than the appropriate  value in Table 31; any lower value is allowable.

 This procedure is described for an oscilloscope as the measuring instrument.   However, noise generated by a practical scope can affect the result. The noise   due to the scope is calibrated out of the result by subtracting the square of the   scope’s noise from the noise of the RN measurement as appropriate, so as to   obtain the relative noise associated with the signal under test. For electrical   scope noise measurement, the scope inputs are terminated with 50 Ω termi-  nation. For optical scope noise measurement, the scope input should have   zero light.
对于LRM，RNi应在表31中给出的适当值的1 dBo内。对于LR和SR，RNi应不大于表31中适当值的1 dBo; 任何较低的值都是允许的。

  该示例程序描述为测量仪器。 然而，由实际范围产生的噪声可能会影响结果。 通过从RN测量的噪声中适当减去示波器噪声的平方，校正了由于范围引起的噪声，以获得与被测信号相关的相对噪声。 对于电气范围噪声测量，范围输入端接50Ω终端。 对于光学范围噪声测量，示波器输入应具有零光。

D.14.2  LINEAR MODULE RECEIVER DISTORTION PENALTY COMPLIANCE TEST 
This section defines dWDP, a measure of waveform filtering and other distor- tion associated with the linear optical receiver. The block diagram dWDP test  system that defines linear module receiver distortion test is shown in Figure  54.

       •   WDPi and WDPo in Figure 54 are measured using the WDP method de-     fined in D.9. WDPi of the TP3 test signal is first characterized through an      O/E converter and 4th-order Bessel Thomson filter and a digital oscillo-     scope. For 10GBASE-LRM, this signal should represent the waveforms de-     scribed in IEEE Std. 802.3 CL 68.6.9, and for 10GBASE-LR, this signal      represents the waveform described in IEEE Std. 802.3 CL 52.9.9. •   The TP3 tester is removed from the O/E converter and connected into the      module under test. The module in turn is plugged into a Module Compli-     ance Board which in turn is connected to the oscilloscope. WDPo of the      module output signal is then measured. Although WDPo is based upon measurements of an electrical signal, its units  for a linear optical module output are in dBo to allow a direct comparison with  the optical input signal in the equation for dWDP below.

       The distortion contributed by the module is determined by the following  equation:

          dWDP=     WDPo   – WDPi

       dWDP is to be compared against the compliance limit specified in Table 20.   Each dWDP must comply for each specified TP3 condition. The TP3 tester is the   same test system as defined by the relevant standard for testing the TP3 com-  pliance point.
D.14.2线性模块接收器失败罚款合规性测试
本节定义了dWDP，这是与线性光接收机相关的波形滤波和其它失真的测量。定义线性模块接收机失真测试的方框图dWDP测试系统如图54所示。

       •图54中的WDPi和WDPo使用D.9中定义的WDP方法进行测量。 TP3测试信号的WDPi首先通过O / E转换器和4阶贝塞尔Thomson滤波器和数字示波器进行表征。对于10GBASE-LRM，该信号应代表IEEE标准中描述的波形。 802.3 CL 68.6.9，对于10GBASE-LR，该信号表示IEEE Std中描述的波形。 802.3 CL 52.9.9。 •TP3测试仪从O / E转换器中取出并连接到被测模块中。该模块又插入到模块兼容板中，模块兼容板又连接到示波器。然后测量模块输出信号的WDPo。虽然WDPo基于电信号的测量，但是其线性光模块输出的单位为dBo，以便在下面的dWDP等式中直接与光输入信号进行比较。

       由模块贡献的失真由以下等式确定：

          dWDP = WDPo-WDPi

       将dWDP与表20中规定的合规性限制进行比较。每个dWDP必须符合每个指定的TP3条件。 TP3测试仪与TP3兼容点测试相关标准相同的测试系统。

D.14.3  LINEAR MODULE RECEIVER OUTPUT DIFFERENTIAL PEAK-PEAK VOLTAGE 
A compliant TP3 stress receiver tester for the relevant application (SR, LR, or  LRM) is connected to the module receiver input. The OMA test pattern for the  application should be used, and all stress impairments such as sine jitter, sine  interference, ISI, and noise should be turned off. The rise/fall time should be  47  ps 20-80%. When observed through a 7.5 GHz reference O/E converter, the  input waveform should have no overshoot or ripple.

       The output of the module is measured with a Module Compliance Board con- nected into an oscilloscope. The measurement bandwidth is 12 GHz. A wider  measurement bandwidth is expected to have only a minor effect on the result.  If the measurement bandwidth affects the results, it can be corrected for by  post processing. Averaging is used to eliminate noise from the measurement.  The peak to peak swing of the differential signal is measured and compared  against the limit in Table 20.
D.14.3线性模块接收器输出差分峰值电压
适用于相关应用（SR，LR或LRM）的兼容TP3应力接收器测试仪连接到模块接收器输入。应该使用应用的OMA测试图案，所有的应力损失如正弦抖动，正弦干扰，ISI和噪声都应该被关闭。上升/下降时间应为47 ps 20-80％。通过7.5 GHz参考O / E转换器观察时，输入波形不应有过冲或纹波。

       模块的输出通过连​​接到示波器中的模块符合性板进行测量。测量带宽为12 GHz。预计更宽的测量带宽对结果只有较小的影响。如果测量带宽影响结果，则可以通过后处理来校正测量带宽。平均值用于消除测量中的噪声。测量差分信号的峰值到峰值摆幅，并将其与表20中的极限进行比较。

D.15  AC COMMON MODE VOLTAGE 
The SFI transmitter and channel limit but do not eliminate AC common mode  voltage generation. SFI receivers, both module and host, must operate fully  with the maximum allowed input common mode voltage. Common mode  voltage often gets generated due to the crossing points of the driver outputs  (P and N) being shifted from 50%, impedance mismatch, mismatch of the PCB  traces, or mode conversion.

D.15.1  DEFINITION OF AC COMMON MODE VOLTAGE 
The common mode voltage at any time is the average of signal+ and signal- at  that time. The RMS AC common mode voltage is calculated by applying the  histogram function over one UI to the common mode signal. As AC common  mode generation is very sensitive to the cable or scope delay mismatch, it is  recommended to delay match the scope inputs for any measurements.

D.15.2  AC COMMON MODE GENERATION TEST  
The test pattern for AC common mode generation is either pattern 1 (BnBi) or  pattern 3 (PRBS31) as defined in IEEE CL 52.9.1.1. It is expected that any  64B/66B scrambled signal should give a similar result.

D.15.3  AC COMMON MODE TOLERANCE TEST  
The test pattern for AC common mode tolerance is either pattern 1 (BnBi) or  pattern 3 (PRBS31) as defined in IEEE CL 52.9.1.1. It is expected that any  64B/66B coded signal should give a similar result.

       If the transmitter output does not generate a sufficient amount of AC common  mode then the method to generate additional amounts is by adjusting the P  and N delay until the right amounts is generated.
D.15交流共模电压
SFI发射器和通道限制，但不能消除交流共模电压的产生。 SFI接收器，模块和主机都必须以最大允许输入共模电压完全运行。由于驱动器输出（P和N）的交叉点偏移50％，阻抗失配，PCB走线不匹配或模式转换，常常会产生共模电压。

D.15.1交流共模电压的定义
任何时候的共模电压都是信号+和信号的平均值。通过将一个UI上的直方图功能应用于共模信号来计算RMS交流共模电压。由于交流共模生成对电缆或示波器延时不匹配非常敏感，建议延时匹配任何测量的示波器输入。

D.15.2交流共模生成测试
用于AC共模生成的测试模式是IEEE CL 52.9.1.1中定义的模式1（BnBi）或模式3（PRBS31）。预计任何64B / 66B加扰信号都应该给出类似的结果。

D.15.3交流公共模式公差测试
AC共模容限的测试模式是IEEE CL 52.9.1.1中定义的模式1（BnBi）或模式3（PRBS31）。预计任何64B / 66B编码信号都应该给出类似的结果。

       如果发射机输出不产生足够的交流共模量，那么产生附加量的方法是通过调整P和N延迟直到产生正确的量。

D.16   TERMINATION MISMATCH 
Termination mismatch is defined as the percent difference between the com- plimentary Zp and Zn resistors as shown in Figure 18. Termination mismatch is   defined as:

    Z – Z           Δ         ×  p    n ×  ZM  = 2  ------------------ 100    Z p + Zn

 Alternatively, the termination mismatch can be measured by applying a low   frequency test tone to the differential inputs as shown in Figure 55. The test   frequency must be high enough to overcome the high pass effects of the AC coupling capacitor. The measured differential output or input impedance is  designated by Zdiff.

  Low frequency termination mismatch is then given by:       I – I  Z    + 100      Δ         ×  p   n ⋅⋅diff        ZM  = 2   --------------- ------------------------ 100       I p + In  Zdiff


 where Ip and In are the current flowing into the SFI port as shown in Figure 55.   Zs is the effective series impedance between the driver terminations Zp and Zn  and the AC Ground.
D.16终止错误
终止不匹配定义为Zp和Zn电阻之间的百分比差异，如图18所示。终端不匹配定义为：

    Z-ZΔ×p n×ZM = 2 ------------------ 100 Z p + Zn

 或者，可以通过对差分输入施加低频测试音来测量终止失配，如图55所示。测试频率必须足够高以克服AC耦合电容器的高通效应。测量的差分输出或输入阻抗由Zdiff指定。

  低频终止失配由下式给出：I - IZ + 100Δ×pn⋅⋅diffZM = 2 --------------- ------------ ------------ 100 I p +在Zdiff


 其中Ip和In是流入SFI端口的电流，如图55所示。Zs是驱动器端子Zp和Zn与AC Ground之间的有效串联阻抗。



 Connector    SFI Port     Ip    Capacitor         Zp   Z   50 Ω 0.5%   s   AC Ground   50 Ω 0.5%

        Z           Capacitor        n     In

      Test Frequency


          Ground           Figure 55  AC Termination Mismatch Measurement

D.17  POWER SUPPLY TESTING METHODOLOGY 
This section defines power supply noise output as given in 2.8.2 and 2.8.3, and  power supply noise tolerance as in 2.8.4.

       The reference power supply filter shown in Figure 56 is provided for module  testing, including power supply tolerance testing. This filter will meet the noise  filtering requirements in most host systems. Other filtering implementations  or local regulation may be used to meet the power noise output requirements  described in 2.8.2 and 2.8.3.

       For each Vcc, the sum of the equivalent series resistances of the 4.7uH in- ductor, the 22uF capacitor and the damping resistor is 0.5 Ω. This resistance is  desirable in actual host filters as well as in the reference filter; however, any  voltage drop across a filter network on the host is counted against the host  VccT and VccR accuracy specification in Table 8.
D.17电源测试方法
本节定义了2.8.2和2.8.3中给出的电源噪声输出，以及2.8.4中的电源噪声容限。

        图56所示的参考电源滤波器用于模块测试，包括电源容差测试。 该滤波器将满足大多数主机系统的噪声滤波要求。 其他滤波实现或本地调节可用于满足2.8.2和2.8.3中描述的功率噪声输出要求。

        对于每个Vcc，4.7uH电容器，22uF电容器和阻尼电阻器的等效串联电阻之和为0.5Ω。 在实际的主机滤波器以及参考滤波器中，该电阻是期望的; 然而，主机上的滤波器网络上的任何电压降都与表8中的主机VccT和VccR精度规格相对应。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 96SFF-8431          Test Methodology and Measurement (Normative)          July 6, 2009 REVISION 4.1    PUBLISHED


       Module Compliance Board    SFP+ Connector  Point X    4.7 uH   VccT         0.1 Ω        0.1 uF       22 uF       0.1 uF       0.5  Ω     SFP+   Host +3.3V    Module    4.7 uH           VccR    0.1 uF        22 uF        0.1 uF       0.5 Ω    Vee        Figure 56  Module Compliance Board Power Supply Filters 
D.17.1  HOST POWER SUPPLY NOISE OUTPUT 
The noise output of a Vcc supply of a host is defined with a resistive load that  draws the maximum rated power (1 W or 1.5 W) connected between one Vcc  contact and Vee, in place of the SFP+ module. When the noise on VccT is being  measured, VccR is left open circuit, and vice versa. 8 Ω is used for a host ca-  pable of supporting Power Level II, and 12 Ω otherwise. The AC voltage spec-  trum is measured at the module side of the SFP+ connector. The noise power   spectrum is divided by the truncated response of the reference filter and then   integrated from 10 Hz to 10 MHz and converted to a voltage. This function is   illustrated in the equation below and Figure 57. The specification limit is given   in 2.8.2. The test is performed with all other portions of the host board/system  active. Hosts with multiple SFP+ modules shall test ports one at a time, with ac- tive SFP+ in all the remaining ports.

      Hf()=    alog× ()10()f 4 ++++blog× ()10()f 3 clog× ()10()f 2 dlog× ()10()f e

       The reference filter response H(f) shown in Figure 57 and the coefficients a, b,  c, d, and e for the 5 frequency bands are defined in Table 32.
D.17.1主电​​源噪声输出
主机Vcc电源的噪声输出由电阻负载定义，取代SFP +模块，该电阻负载连接在一个Vcc触点和Vee之间的最大额定功率（1 W或1.5 W）。当测量VccT上的噪声时，VccR保持开路，反之亦然。 8Ω用于支持功率级别II的主机，否则为12Ω。在SFP +连接器的模块侧测量交流电压。噪声功率谱除以参考滤波器的截断响应，然后从10 Hz到10 MHz积分并转换为电压。该功能在下面的等式和图57中说明。规范限制在2.8.2中给出。在主板/系统的所有其他部分处于活动状态的情况下进行测试。具有多个SFP +模块的主机必须一次测试一个端口，并在所有剩余端口中使用激活的SFP +。

      Hf（）= alog×（）10（）f 4 ++++博客×（）10（）f 3 clog×（）10（）f 2 dlog×（）10（）f e

       图57中定义了图57所示的参考滤波器响应H（f）和5个频带的系数a，b，c，d和e。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 97SFF-8431          Test Methodology and Measurement (Normative)          July 6, 2009 REVISION 4.1    PUBLISHED


      Figure 57  Reference filter response


      Table 32  Truncated Filter Response Coefficients

 Frequency (f)         a         b        c        d         e

      10 Hz  ≤ f < 100 Hz     0000-0.1

      100 Hz  ≤ f < 10 kHz   0.3784   -3.6045  12.694   -19.556   11.002

      10 kHz  ≤ f < 150 kHz -22.67038 430.392 -3053.779 9574.26  -11175.98

    150 kHz  ≤ f ≤ 5.243 MHz 3.692166 91.467   838.80   -3400.38 5139.285

    5.243 MHz  ≤ f ≤ 10 MHz   0000-60

       NOTES - As a lightly loaded power supply might generate more noise than a  fully loaded supply, the host implementer may wish to assess the host power  supply noise output at less than maximum current draw also. Because a small  measured noise signal at high frequencies is multiplied up to give the inferred  noise at virtual point X, care should be taken over the noise floor of the spectrum analyzer. Other measurement methods could be used, e.g. a measure- ment at a point inside the host, with appropriate consideration to any  difference between the reference filter and a host’s actual filter.

D.17.2  SFP+ MODULE POWER SUPPLY NOISE OUTPUT 
The module noise voltage output is defined in the frequency band 10 Hz to  10  MHz at point X in Figure 56.

 The module must pass module power supply noise output test in all operating   modes. This test ensures the module will not couple excessive noise from in-  side the module back onto the host board. A power meter technique, or a   spectrum analyzer technique with integration of the spectrum, may be used.   The maximum allowed noise amplitude is given in 2.8.3.
注意 - 由于轻载电源可能会产生比完全供电更多的噪声，因此主机实施者可能希望以小于最大电流消耗来评估主机电源噪声输出。由于在高频下的小的测量噪声信号被乘以在虚拟点X处产生推断的噪声，因此应注意频谱分析仪的本底噪声。可以使用其它测量方法，例如。在主机内的某个点进行测量，并适当考虑参考过滤器和主机的实际过滤器之间的任何差异。

D.17.2 SFP +模块电源噪声输出
模块噪声电压输出在图56中的点X处以10Hz至10MHz的频带定义。

 模块必须在所有工作模式下通过模块电源噪声输出测试。该测试确保模块不会将模块内的过多噪声耦合到主机板上。可以使用功率计技术或具有光谱集成的频谱分析仪技术。最大允许噪声幅度在2.8.3中给出。

D.17.3  MODULE POWER SUPPLY TOLERANCE TESTING 
In this test, a swept sinusoidal tone is applied at point X of Figure 58 with the  tolerance signal amplitude and frequency range given in 2.8.4. The AC toler- ance signal is created by a circuit such as a low impedance buffer amplifier be- tween the power supply and point X. The impedance of the PSU and sine wave  generator is less than 0.5 Ω. The amplitude of the sine wave is calibrated at  each frequency at point X with the module replaced with a 12 Ω load between  Vcc and Vee.

       NOTES -- It may be desirable to remove the 0.1 uF capacitors on the host side  of the reference filters for this test, to reduce the power needed by the sine  wave generator. The calibration of the sine wave is not expected to be signifi- cantly different if the module were in place rather than the test resistor.

       Alternatively, the test may be performed separately for VccT and VccR with the  other supply filter connected directly to the power supply. It is not necessary  to show compliance with both separate and common Vcc modulation.

       This test applies at minimum and maximum DC setpoint levels. Note that the  DC level is inset to the limits in Table 5 by the peak of the sinusoidal voltage at  the input to the module (which is frequency dependent).

       The source frequency is varied over the range specified by 2.8.4 to determine  if any frequency causes a parameter to fall out of the specification limit. In all  cases, the parameters measured shall pass the optical standards with the tone  present over all frequencies specified. Parameters of interest for the transmit  may include UJ, Qsq and TDP see [IEEE 802.3]. For the receive side, they include  stressed sensitivity, overload, RN and Rx_LOS function.
D.17.3模块电源容差测试
在该测试中，在图58的点X处施加扫描正弦音，其公差信号幅度和频率范围在2.8.4中给出。交流容差信号由诸如电源和点X之间的低阻抗缓冲放大器等电路产生。PSU和正弦波发生器的阻抗小于0.5Ω。正弦波的振幅在点X处的每个频率被校准，模块被Vcc和Vee之间的12Ω负载替换。

       注意 - 为了减少正弦波发生器所需的功率，可能需要去除参考滤波器主机侧的0.1uF电容。如果模块就位而不是测试电阻，则正弦波的校准预计不会显着不同。

       或者，可以分别对VccT和VccR进行测试，而另一个电源滤波器直接连接到电源。不需要显示单独的和通用的Vcc调制的符合性。

       该测试适用于最小和最大直流设定值。请注意，DC电平通过模块输入端的正弦电压的峰值（这是频率依赖的），嵌入表5中的限制。

       源频率在2.8.4规定的范围内变化，以确定任何频率是否导致参数超出规格限制。在所有情况下，测量的参数应通过所有频率出现的光标准。发送参数可能包括UJ，Qsq和TDP，参见[IEEE 802.3]。对于接收端，它们包括强调灵敏度，过载，RN和Rx_LOS功能。

SFP+ (Enhanced 10 Gbps Pluggable Module)         Page 99SFF-8431          Test Methodology and Measurement (Normative)          July 6, 2009 REVISION 4.1    PUBLISHED




    PSU and sine     wave generator  Point X    SFP+ Connector     4.7uH   VccT    0.1 uF       22 uF Source       0.1 uF Resistance       0.5 Ω    SFP+ (Equivalent circuit)     Module   4.7uH  VccR    0.1 uF       22 uF       0.1 uF       0.5 Ω    Vee

          Figure 58  Power Supply Noise Tolerance Test Setup

       The AC voltage at node X is defined with reference to Vee. The DC voltage  specification including ripple, droop and noise below 100 kHz is met at both  VccT and VccR (at the SFP+ connector).
参考Vee定义节点X处的交流电压。 VccT和VccR（在SFP +连接器）都满足包括纹波，下垂和低于100 kHz噪声的直流电压规范。

SFP+ (Enhanced 10 Gbps Pluggable Module)        Page 100SFF-8431     SFP+ Direct Attach Cable Specifications “10GSFP+Cu” (Optional) July 6, 2009 REVISION 4.1    PUBLISHED

APPENDIX E SFP+ DIRECT ATTACH CABLE SPECIFICATIONS “10GSFP+CU” (OPTIONAL)


       A passive copper cable compliant to this appendix is identified using the  2-wire management defined in chapter 4 and memory map of SFF-8472.

       This appendix describes additional requirements or exceptions to the linear  host specification of Chapter 3 to implement passive direct attach SFP+ cable  assemblies.

       The compliance points for SFP+ Direct Attach Cable (10GSFP+Cu) are the same  as host compliance test points 3.3.1 and the module compliance test points in  3.3.2.

       All SFI test equipment must have 50 Ohms single ended impedance on all test  ports.

       Each Tx_Disable contacts of 10GSFP+Cu passive cable assemblies shall be  pulled to VccT with a 4.7 kΩ to  10 kΩ in the module. The Rx_LOS contacts in   the module shall be pulled low in the module for 10GSFP+Cu passive cable as-  semblies. Direct connection of Rx_LOS to VeeR is allowed.

 Active cable assemblies must operate with existing linear or limiting specifica-  tions of Chapter 3.

       This specification does not assume additional transmit pre-emphasis beyond  the level required to meet the jitter specifications at point B (see Table 12) and   TWDPc specification (see Table 33) at point B. Increasing the transmit pre-em-  phasis may increase cable reach, however it may increase transmitter DDJ and   is outside the scope of this specification.

 Warning: 10GSFP+Cu can only be used on systems with common   grounds. Connecting systems with different ground potential with SFP+   direct attach cable results in a short and may cause damage.
附录E SFP +直接连接电缆规格“10GSFP + CU”（可选）


       符合本附录的被动铜缆使用第4章定义的2线管理和SFF-8472的存储器映射来识别。

       本附录描述了第3章线性主机规范的附加要求或例外，以实施被动直接连接SFP +电缆组件。

       SFP +直连电缆（10GSFP + Cu）的合规点与主机兼容性测试点3.3.1和3.3.2中的模块符合性测试点相同。

       所有SFI测试设备在所有测试端口上必须具有50欧姆的单端阻抗。

       10GSFP + Cu无源电缆组件的每个Tx_Disable触点在模块中拉至VccT，功率为4.7kΩ至10kΩ。模块中的Rx_LOS触点在10GSFP + Cu无源电缆组件的模块中应拉低。允许将Rx_LOS直接连接到VeeR。

 有源电缆组件必须按照第3章的现有线性或限制规定进行操作。

       该规范不承担超出满足B点（见表12）和TWDPc规范（见表33）在B点处的抖动规范所需的水平的额外的发射预加重。增加传输预测可能会增加电缆但是可能会增加发射机DDJ，并且超出了本规范的范围。

 警告：10GSFP + Cu只能在具有共同理由的系统上使用。使用SFP +直接连接电缆连接具有不同接地电位的系统会导致短路并可能导致损坏。

E.1  10GSFP+CU DIRECT ATTACH CONSTRUCTION 
10GSFP+Cu cable assemblies are effectively constructed out of a pair of SFP+  modules with the OE components replaced with copper cabling as shown in  Figure 59. SFP+ Edge card connector contacts are defined in Table 3. The cable  assembly shall incorporate DC blocking capacitors with at least 4.3 V rating on  the RX side and with high pass pole of between 20 kHz and 100 kHz. The drain  wire is connected to VeeT and to VeeR. The cable shield directly connects the  module A and B cases.
E.1 10GSFP + CU直接连接结构
10GSFP + Cu电缆组件由一对SFP +模块有效地构成，其OE组件替换为铜缆布线，如图59所示。SFP +边缘卡连接器触点在表3中定义。电缆组件应包含直流阻塞电容器 RX侧最小4.3 V额定值，20 kHz至100 kHz之间的高通极点。 漏极线连接到VeeT和VeeR。 电缆屏蔽层直接连接模块A和B模块。

SFP+ (Enhanced 10 Gbps Pluggable Module)        Page 101SFF-8431  SFP+ Direct Attach Cable Specifications “10GSFP+Cu” (Optional)   July 6, 2009 REVISION 4.1           PUBLISHED



     Cable    SFP+ Module Top View of Board        Cable Shield       SFP+ Module Top View of Board          DC Blocks  RD-     TD-

       RD+       TD+   Drain Wire TD+       RD+


 Edge  Connector    Edge  Connector TD-    RD-     DC Blocks

     10GSFP+Cu          10GSFP+Cu   End A   End B


           Figure 59  10GSFP+Cu Direct Attach Block Diagram

E.2  SFP+ HOST OUTPUT SPECIFICATIONS FOR PASSIVE DIRECT ATTACH CABLES           
SFP+ host supporting direct attach cables must meet transmitter output specifications in Table 11 and jitter specifications in Table 12 at reference point B. In addition SFP+ host transmitter must meet the specifications in Table 33.
E.2用于被动直接连接电缆的SFP +主机输出规范
支持直接连接电缆的SFP +主机必须符合表11中的发射机输出规格和参考点B的表12中的抖动规格。此外，SFP +主机变送器必须符合表33中的规格。

           Table 33  SFP+ Host Transmitter Output Specifications at B for Cu

    Parameters- B     Symbol         Conditions           Min       Target      Max         Units

    Voltage Modulation Amplitude (p-p)       VMA  See D.7 300  mV

    Transmitter Qsq    Qsq   See 1  63.1     Output AC Common Mode Voltage     See D.15     12.0     mV (RMS)

    Host Output TWDPc           TWDPc  See 2, 3    10.7        dBe

    1. Qsq= 1/RN if the one level and zero level noises are identical and see D.8.     
2. Host electrical output measured with LRM 14 taps FFE and 5 taps DFE Equalizer with PRBS9 for copper direct attach stressor, see      Appendix G.     
3. The stressor for TWDPc is given in Table 34 and is included in the code in Appendix G.

          TWDPc is the host transmitter penalty for copper cable stressor shown in Figure 60 and given in Table 34. Code to calculate TWDPc using this stressor is given in Appendix G.
如果一级和零级噪声相同，则Qsq = 1 / RN，见D.8。
2.使用LRM测量的主机电输出14抽头FFE和5抽头DFE均衡器与PRBS9用于铜直接连接应力器，见附录G.
3.表34中给出了TWDPc的应激源，并包含在附录G中的代码中。

           TWDPc是铜电缆应力源的主机发射器，如图60所示，表34中给出。使用该应力源计算TWDPc的代码在附录G中给出。

E.2.1  TRANSMITTER STRESSOR           
For TWDPc compliance, a simulated cable response is required. The response is modeled as a set of delta functions with specific amplitudes and delays. The copper stressor was created from measurements of commonly available direct attach SFP+ cables with the transmitter response de-convolved. The stressor is shown in Figure 60 and the values are listed in Table 34. The sum of all stressor components is normalized to an approximate value of 1.
E.2.1发电机压力机
对于符合TWDPc的要求，需要模拟电缆响应。 响应被建模为具有特定幅度和延迟的一组delta函数。 铜应激源是由通常可用的直接连接SFP +电缆的测量产生的，其中变送器响应去卷积。 应力器如图60所示，值列在表34中。所有应力分量的总和归一化为近似值1。

          0.35

            0.3

          0.25

            0.2


         Amplitude 0.15

            0.1

          0.05

   0     0          1         2          3         4         5          6         7          8          UI

        Figure 60  10GSFP+Cu TWDPc Stressor Impulse Response

        Table 34  10GSFP+Cu TWDPc Stressor

           Delay (UI)       Delay (ns)       Amplitude        Delay (UI)       Delay (ns)       Amplitude

           0           0   0.0175       4.5       0.43637           0.0270

           0.5      0.04849           0.1360       5.0       0.48485           0.0216

           1        0.09697           0.2695       5.5       0.53334           0.0202

           1.5      0.14546           0.1649       6.0       0.58182           0.0174

           2        0.19394           0.0917       6.5       0.63031           0.0146

           2.5      0.24243           0.0717       7.0       0.67879           0.0123

           3.0      0.29091           0.0498       7.5       0.72728           0.0094

           3.5      0.33940           0.0383       8.0       0.77576           0.0066

           4.0      0.38788           0.0315


SFP+ (Enhanced 10 Gbps Pluggable Module)      Page 103SFF-8431  SFP+ Direct Attach Cable Specifications “10GSFP+Cu” (Optional)   July 6, 2009 REVISION 4.1           PUBLISHED

E.3  SFP+ HOST RECEIVER SUPPORTING 10GSFP+CU INPUT COMPLIANCE TEST SIGNAL CALIBRATED AT C”           
A host that is to support the direct attach copper option is to meet the required 1×10-12 BER when tested with the stressed signal described in Section E.3.1 in addition to the requirements of section 3.5.2 relating to a host receiver supporting linear module.

E.3.1  COPPER HOST RECEIVER SPECIFICATIONS           
The SFP+ host receiver stress generator is described by a set of tapped delay lines described in E.3.2, a suitable length of copper cable is expected to generate the stressor described here. The stress generator must meet the target WDPc (Waveform Distortion Penalty for copper) as given in Table 35. The stressor generator shall implement the noise model as captured in Figure 61 using the parameters given in Table 35. The noise model contains two noise sources: Qsq noise which is relative to the transmitter signal level and shaped by the channel response and No fixed noise (modeling cable NEXT) added post channel. The added noise sources Qsq and No are white and Gaussian in this test.

          The sensitivity test shall be made with the minimum VMA and the overload test shall be made with the maximum p-p voltage as given in Table 35.
E.3 SFP + HOST接收机支持10GSFP + CU输入合格测试信号在C“
支持直接连接铜选项的主机是满足所需的1×10-12 BER，在使用E.3.1节所述的应力信号进行测试时，除了符合3.5.​​2节的要求外，主机接收机支持线性模块

E.3.1铜主机接收器规格
SFP +主机接收器应力发生器由E.3.2中描述的一组抽头延迟线描述，预期铜缆的合适长度将产生这里描述的应力器。应力发生器必须满足表35中给出的目标WDPc（铜波形失真罚分）。应力发生器应使用表35中给出的参数实现图61中所示的噪声模型。噪声模型包含两个噪声源：相对于发射机信号电平的Qsq噪声和由信道响应和无固定噪声（建模电缆NEXT）加上的后置信道形成的Qsq噪声。这个测试中增加的噪声源Qsq和No是白色和高斯。

          灵敏度试验应以最小VMA进行，过载试验应按表35给出的最大p-p电压进行。

   Table 35  10GSFP+ Host receiver input stress Generator at C”

    Parameters- C"    Symbol        Conditions         Min     Target     Max        Units

    Waveform Distortion Penalty of the ISI Generator WDPc          See 1, 2        9.3      dBe

    Transmitter Qsq    Qsq See 4, 5        63.1

    Post channel fixed noise source       No  See 3         2.14   mV (RMS)     Differential Voltage Modulation Amplitude      VMA See 4, D.7       180      mV

    Differential Peak-Peak Voltage Overload           700      mV

    Input AC Common Mode Voltage    See 6, D.15.2         13.5          mV(RMS)

    1. Copper stressor as defined in Table 36.  WDPc is measured with reference receiver with 14 FFE taps and with 5 DFE taps, see      Appendix G.     
2. WDPc for the stress is smaller than the transmitter TWDPc due to the VMA loss in the host stressor.

    3. No is the RMS voltage measured over one symbol period at the output of the MCB in a 12 GHz bandwidth. The source for Qsq should be      disabled during this calibration.     
4. Square pattern with eight ONEs and eight ZEROs.

    5. Qsq= 1/RN if the one level and zero level noises are identical and see D.8. Qsq is calibrated at the output of the MCB in a 12 GHz      bandwidth with the ISI of the channel model in Figure 61 disabled. The source for No should be disabled during this calibration.     
6. AC common mode target value is achieved by adjusting relative delay of the P and N signals.
1.如表36所定义的铜应激源。WDPc用具有14个FFE抽头和5个DFE抽头的参考接收器测量，参见附录G.
由于主机压力源的VMA损耗，WDPc的应力小于变送器TWDPc。

     3.否是在12 GHz带宽中，MCB的输出在一个符号周期内测量的RMS电压。 在此校准期间，应禁用Qsq的源。
方形图案，八个八和八个ZERO。

     5.如果一级和零级噪声相同，则Qsq = 1 / RN，参见D.8。 Qsq在12 GHz带宽的MCB输出端校准，图61中的通道模型的ISI被禁用。 在此校准期间，应禁用“否”源。
交流共模目标值通过调整P和N信号的相对延迟来实现。

SFP+ (Enhanced 10 Gbps Pluggable Module)      Page 104SFF-8431     SFP+ Direct Attach Cable Specifications “10GSFP+Cu” (Optional) July 6, 2009 REVISION 4.1    PUBLISHED


        White Gaussian noise source Qsq

  Stressed RX          Unstressed     Channel       Compliance          TX Signal  +    Model     +        Signal


    White Gaussian noise source No         Figure 61  Block Diagram of Copper Stressor Noise Model


E.3.2  COPPER HOST STRESS GENERATOR 1 UI PULSE RESPONSE 
Copper host stressor was created from measurements of commonly available  direct attach SFP+ cables. The response of the copper host stress generator  1  UI pulse response is shown in Figure 62 and the pulse response values are   listed in Table 36.

       A suitable length of copper cable is an acceptable substitute to the stressor of  Table 36 provided it has the same WDPc. The RMS fit between the tabulated   pulse response in Table 36 and the measured isolated pulse response should   be minimized to get the target WDPc values as listed in Table 35.
E.3.2铜主体应力发生器1 UI脉冲响应
铜主体压力源是通过常用直接连接SFP +电缆的测量而创建的。 铜主应力发生器1 UI脉冲响应的响应如图62所示，脉冲响应值列于表36。

        铜缆的合适长度是表36的应力源的可接受的替代品，只要它具有相同的WDPc。 表36中列出的脉冲响应与测量的隔离脉冲响应之间的RMS拟合应该被最小化以获得如表35所列的目标WDPc值。

     0.14

     0.12

      0.1

     0.08


    Amplitude 0.06

     0.04

     0.02

        0          0        2         4        6         8       10        12       14  UI

  Figure 62  Stress Generator 1UI Pulse Response with 8x over-sampling

SFP+ (Enhanced 10 Gbps Pluggable Module)        Page 105SFF-8431  SFP+ Direct Attach Cable Specifications “10GSFP+Cu” (Optional)   July 6, 2009 REVISION 4.1           PUBLISHED



            Table 36  Stress Generator 1 UI Pulse Response with 8x Over-sampling

  Delay (UI)   Delay (ns)  Amplitude   Delay (UI)   Delay (ns)  Amplitude   Delay (UI)   Delay (ns)  Amplitude

      0          0.0000      0.0004       4.625       0.4485      0.0270       9.25        0.8970      0.0093      0.125       0.0121      0.0011       4.75        0.4606      0.0263       9.375       0.9091      0.0092      0.25        0.0242      0.0026       4.875       0.4727      0.0256        9.5        0.9212      0.0089      0.375       0.0364      0.0051         5         0.4848      0.0249       9.625       0.9333      0.0087       0.5        0.0485      0.0094       5.125       0.4970      0.0242       9.75        0.9455      0.0084      0.625       0.0606      0.0158       5.25        0.5091      0.0233       9.875       0.9576      0.0082      0.75        0.0727      0.0246       5.375       0.5212      0.0222        10         0.9697      0.0079      0.875       0.0848      0.0360        5.5        0.5333      0.0212      10.125       0.9818      0.0076       1          0.0970      0.0496       5.625       0.5455      0.0204       10.25       0.9939      0.0073      1.125       0.1091      0.0650       5.75        0.5576      0.0194      10.375       1.0061      0.0070      1.25        0.1212      0.0811       5.875       0.5697      0.0187       10.5        1.0182      0.0068      1.375       0.1333      0.0962         6         0.5818      0.0180      10.6250      1.0303      0.0066       1.5        0.1455      0.1088       6.125       0.5939      0.0174      10.7500      1.0424      0.0065      1.625       0.1576      0.1176       6.25        0.6061      0.0169      10.8750      1.0545      0.0063      1.75        0.1697      0.1218       6.375       0.6182      0.0165      11.0000      1.0667      0.0062      1.875       0.1818      0.1213        6.5        0.6303      0.0161      11.1250      1.0788      0.0061       2          0.1939      0.1169       6.625       0.6424      0.0157      11.2500      1.0909      0.0059      2.125       0.2061      0.1093       6.75        0.6545      0.0155      11.3750      1.1030      0.0058      2.25        0.2182      0.1000       6.875       0.6667      0.0154      11.5000      1.1152      0.0055      2.375       0.2303      0.0899         7         0.6788      0.0153      11.6250      1.1273      0.0052       2.5        0.2424      0.0810       7.125       0.6909      0.0153      11.7500      1.1394      0.0049      2.625       0.2545      0.0732       7.25        0.7030      0.0153      11.8750      1.1515      0.0046      2.75        0.2667      0.0670       7.375       0.7152      0.0153      12.0000      1.1636      0.0044      2.875       0.2788      0.0620        7.5        0.7273      0.0150      12.1250      1.1758      0.0041       3          0.2909      0.0583       7.625       0.7394      0.0146      12.2500      1.1879      0.0039      3.125       0.3030      0.0549       7.75        0.7515      0.0141      12.3750      1.2000      0.0037      3.25        0.3152      0.0519       7.875       0.7636      0.0134      12.5000      1.2121      0.0034      3.375       0.3273      0.0486         8         0.7758      0.0128      12.6250      1.2242      0.0030       3.5        0.3394      0.0455       8.125       0.7879      0.0121      12.7500      1.2364      0.0028      3.625       0.3515      0.0423       8.25        0.8000      0.0115      12.8750      1.2485      0.0026      3.75        0.3636      0.0394       8.375       0.8121      0.0110      13.0000      1.2606      0.0022      3.875       0.3758      0.0367        8.5        0.8242      0.0106      13.1250      1.2727      0.0020       4          0.3879      0.0345       8.625       0.8364      0.0101      13.2500      1.2848      0.0018      4.125       0.4000      0.0324       8.75        0.8485      0.0099      13.3750      1.2970      0.0016      4.25        0.4121      0.0307       8.875       0.8606      0.0097      13.5000      1.3091      0.0014      4.375       0.4242      0.0291         9         0.8727      0.0095      13.6250      1.3212      0.0012       4.5        0.4364      0.0280       9.125       0.8848      0.0094      13.7500      1.3333      0.0009   13.8750      1.3455      0.0008


SFP+ (Enhanced 10 Gbps Pluggable Module)      Page 106SFF-8431  SFP+ Direct Attach Cable Specifications “10GSFP+Cu” (Optional)   July 6, 2009 REVISION 4.1           PUBLISHED

E.4  SFP+ PASSIVE DIRECT ATTACH CABLE ASSEMBLY SPECIFICATIONS           
Passive direct attach cables are tested with a pair of Module Compliance Boards at compliance point B’ and C’. SFP+ passive cable assemblies need to meet specification in Table 37.

          VCR, VMA, Vcm, and dWDP may be derived using frequency based methodologies that yield equivalent results e.g., utilizing frequency dependent crosstalk and insertion loss transfer functions with transmitter behavioral models.
E.4 SFP +被动直接连接电缆总成规格
被动直接连接电缆在合规点B'和C'处用一对模块合规板进行测试。 SFP +无源电缆组件需要符合表37中的规范。

           VCR，VMA，Vcm和dWDP可以使用基于频率的方法导出，其产生等效结果，例如利用具有发射器行为模型的频率相关串扰和插入损耗传递函数。

          Table 37  10GSFP+Cu Cable Assembly Specifications at B’ and C’

 Parameter - C’ (Cable Output)       Symbol          Conditions         Min      Target    Max         Units

 Single Ended Input and Output Voltage Tolerance       -0.3    4.0         V  Output AC Common Mode Voltage         Vcm   See 1  13.5    mV (RMS)

 Difference Waveform Distortion Penalty         dWDPc     See 2, 9, E.4.1, E.4.2 and        6.75       dBe         D.14.2

 VMA Loss  L         See 3, 9, D.7, E.4.4           4.4        dBe  VMA Loss to Crosstalk Ratio           VCR      See 1, D.7, E.4.1, E.4.4 32.5     dB      0.01-4.1 GHz     See 5        dB  Differential Output/Input Reflection Coefficient 4 SDDxx      4.1-11.1 GHz     See 6        dB

 Common Mode Output/Input Reflection  SCCxx         0.01-2.5 GHz     See 10       dB  Coefficient 7      2.5-11.1 GHz       -3         dB

 Parameter - B" (Input Test Conditions)         Symbol          Conditions         Min      Target    Max         Units

 Input AC Common Mode Voltage          Vcm          See 1, D.15.2       12    mV (RMS)  Signal Rise and fall time Time        Tr/tf          See D.6           34        ps  Crosstalk Source Rise/Fall time (20% to 80%)    Tr, Tf          See  D.6          34        ps  Crosstalk Source Amplitude Differential (p-p)       700       mV

 WDPi   See 8            2.4      dBe  

1. When input common mode voltage is 12.0 mV RMS and when input rise and fall times are 34ps and the amplitude is the max amplitude   allowed by Table 12.  
2. Defined with reference receiver with 14 T/2 spaced FFE taps and 5 T spaced DFE taps, see Appendix G.  
3. VMA loss is the ratio of VMA measured at input and output, respectively.  
4. Reference differential impedance is 100  Ω. The dB value listed here are the same as dBe.  
5. Reflection Coefficient given by equation SDDxx(dB)= -12 + 2 × SQRT(f), with f in GHz.  
6. Reflection Coefficient given by equation SDDxx(dB)= -6.3 + 13 ×  log10(f/5.5), with f in GHz.  
7. Common mode reference impedance is 25 Ω. The dB value listed here are the same as dBe
8. Adjust DDJ and/or DDPWS by adjusting pre-emphasis until the target WDPi is achieved.  9. With input test condition given by parameters B" given in this table.  10. Reflection coefficient given by equation SCCxx(dB)  < -7 + 1.6 ×f, with f in GHz.
1.输入共模电压为12.0 mV RMS，输入上升和下降时间为34ps，振幅为表12允许的最大振幅。
2.具有14 T / 2间隔FFE抽头和5 T间隔DFE抽头的参考接收器，见附录G.
VMA损失是输入和输出时VMA测量的比例。
参考差分阻抗为100Ω。 此处列出的dB值与dBe相同。
5.等式SDDxx（dB）= -12 + 2×SQRT（f）给出的反射系数，f为GHz。
6.等式SDDxx（dB）= -6.3 + 13×log10（f / 5.5）给出的反射系数，f为GHz。
共模参考阻抗为25Ω。 此处列出的dB值与dBe相同
8.通过调整预加重直到目标WDPi达到，调整DDJ和/或DDPWS。 9.由表中给出的参数B“给出的输入测试条件。10.由等式SCCxx（dB）给出的反射系数<-7 + 1.6×f，其中f为GHz。

SFP+ (Enhanced 10 Gbps Pluggable Module)      Page 107SFF-8431     SFP+ Direct Attach Cable Specifications “10GSFP+Cu” (Optional) July 6, 2009 REVISION 4.1    PUBLISHED

E.4.1  SFP+ DIRECT ATTACH CABLE TEST SETUP 
Direct attach cable testing methodology is based on the SFP+ test method- ology as defined in section 3.3. The cable is measured through a pair of Module  Compliance Boards as shown in Figure 63. This diagram shows the block dia-  gram for testing NEXT on cable A end and for measuring WDP on path 1. To   measure NEXT on B end and WDP on path 2 the cable end A and B are reversed.   The Compliance Signal Generator is described in Figure 49.
E.4.1 SFP +直接连接电缆测试设置
直接连接电缆测试方法基于第3.3节定义的SFP +测试方法。 电缆通过一对模块合规板进行测量，如图63所示。该图显示了测试电缆A端的NEXT和路径1上测量WDP的框图。要测量B端的NEXT和路径上的WDP 2电缆端A和B相反。 符合性信号发生器如图49所示。

       Connector          C’     DC Blocks    Oscilloscope A       Trace Length  10GSFP+Cu     Compliance       B’     A End      Signal      Generator

    MCB 1        Path 1   Path 2         Connector            C’    DC Blocks     Oscilloscope B Trace Length           10GSFP+Cu          B End            B’      2x50 Ω      Termination

      MCB 2

      Figure 63  10GSFP+ Cable Test Setup


 WDPi and WDP0 in Figure 64 use the WDP method defined in D.9. WDPi for  copper is measured by plugging Host Compliance Board into the Module  Compliance Board 1 and then meeting the target WDPi as listed in Table 37.   WDP0 is measured by plugging one end of the cable in to Module Compliance   Board 1 and the other end in to the Module Compliance Board 2. B” Stress Gen-  erator can be the test system described in D.10.
图64中的WDPi和WDP0使用D.9中定义的WDP方法。 通过将主机合规板插入模块合规板1，然后满足表37中列出的目标WDPi来测量WDPi。WDP0通过将电缆的一端插入模块合规板1，另一端进行测量 模块合规板2.B“压力发生器可以是D.10中描述的测试系统。

SFP+ (Enhanced 10 Gbps Pluggable Module)        Page 108SFF-8431     SFP+ Direct Attach Cable Specifications “10GSFP+Cu” (Optional) July 6, 2009 REVISION 4.1    PUBLISHED




    WDPi    Compliance         Module      Host Compliance     VMAi     Signal         Compliance  Board     Generator        Board  1     or     WDP0  Direct Attach       Module   SFP+ Cable         Compliance         Oscilloscope     End A   (path 1)       End B Board 2    VMA0   A or B


          Figure 64  10GSFP+Cu Cable NEXT dWDP Test Setup


E.4.2  CABLE DWDP TEST PROCEDURE The measurement procedure for dWDP is described below:

    •  The compliance signal generator is set to the PRBS9.     
•  To improve measurement accuracy, uncorrelated jitter and noise         should be reduced.     
•  Averaging should be used to further reduce instrumentation and         measurement noise so their effect on the results are negligible.

    •  To calibrate WDPi per Table 37, refer to Figure 64. Plug a Host Compli-        ance Board into the Module Compliance Board connected to the pat-        tern generator. Adjust input rise and fall times to the target value as in         Table 37. Adjust DDJ and DDPWS to obtain WDPi given by Table 37.         Varying pre-emphasis as described in D.10 is an acceptable method.      •  Unplug the Host Compliance Board and connect the cable assembly         to the Module Compliance Board as shown in Figure 64. Measure

       WD Po.

    •  dWDP = WDPo - WDPi.
E.4.2电缆DWDP测试程序dWDP的测量步骤如下：

     •符合性信号发生器设置为PRBS9。
•为了提高测量精度，应减少不相关的抖动和噪声。
•应使用平均值进一步降低仪器和测量噪声，从而对结果的影响可以忽略不计。

     •要根据表37校准WDPi，请参见图64.将主机兼容板插入连接到模板发生器的模块合规板。 将输入上升和下降时间调整为目标值，如表37所示。调整DDJ和DDPWS以获得表37给出的WDPi。如D.10中所述的不同预加重是可接受的方法。 •拔下主机兼容板并将电缆组件连接到模块合规板，如图64所示

        WD Po

     •dWDP = WDPo - WDPi。

E.4.3  CABLE NEXT MEASUREMENT PROCEDURE 
Cable NEXT is measured based on the following procedure using the test  setup shown in Figure 63:

    •  The Compliance Signal Generator should be calibrated via a Host         Compliance Board inserted into the Module Compliance Board. The         output of the Host Compliance Board is point B”.     
•  The Compliance Signal Generator amplitude and rise and fall times at         B” are calibrated to the crosstalk target values as defined in Table 37.

    •  The Compliance Signal Generator DDJ and DDPWS at B” should meet         or be less than the target specified in Table 17.     •  The pattern for the Compliance Signal Generator is PRBS31.     •   Module Compliance Board B outputs and inputs are terminated in         50 Ω.     •  NEXT is the RMS voltage measured by Oscilloscope A in a bandwidth         of 12 GHz. Oscilloscope A should be free running (not triggered).     •  The inherent Oscilloscope noise may be corrected by the RSS of Gaus-        sian noise from the measured NEXT result.     •  The far end Module Compliance Board outputs and input are termi-        nated in to 50 Ω.     •  This measurement is then repeated for the other cable end.
E.4.3电缆下一个测量程序
使用图63所示的测试设置，根据以下步骤测量电缆NEXT：

    •合规信号发生器应通过插入模块合规板的主机合规板进行校准。主机合规委员会的输出是B点“。
•符合性信号发生器的振幅和B处的上升和下降时间被校准为如表37所定义的串扰目标值。

    •符合性信号发生器DDJ和DDPWS在B“应满足或小于表17中指定的目标。•符合性信号发生器的模式是PRBS31。 •模块合规板B输出和输入端接在50Ω。 •NEXT是示波器A在12 GHz带宽中测得的RMS电压。示波器A应该自由运行（不是触发）。 •固有的示波器噪声可以通过测量的NEXT结果的高斯噪声的RSS来校正。 •远端模块合规板输出和输入端接至50Ω。 •然后对另一个电缆端重复此测量。

E.4.4  VMA TO CROSSTALK RATIO (VCR) 
Cable VMA loss (L) for cable path 1 can be measured using the test setup  shown in Figure 64. VMA loss (L) for cable path 2 is measured by reversing   cable end A with B.         VMA  ()           ⎛⎞i            LdBe=    20log⎝⎠---------------         VMAo

 Where VMAi is the measured VMA at B” and VMAo is measured at C’.

       VMA/2 to crosstalk ratio (VCR) is the ratio of the transmitter minimum VMA at  B” Table 33 divided by the cable NEXT which already incorporates reflective   FEXT. The factor 0.3 in the VCR 1 equation accounts for SFP+ finite host return   loss.

  VCR() dBe   = VNR–  L–20K–101log ()+ C

 where          ⎛⎞2L          –------         ⎝⎠20    C =  0.3× 10




       1.  VCR equation can be as the following 20*log10(VMAMIN/(2*NEXT*(1+C)))-L.

  ()NEXTaggressorVMA   --------------------------------------------------------     2          VNR  = 20log 10 --------------------------------------------------------   NEXT

     .         ⎛⎞VMAmax ⎛⎞700     KdBe()=  20log 10 ----------------------- = 20log 10 -------- = 7.36         ⎝⎠VMAmin ⎝⎠300


     The procedure to measure NEXT is described in E.4.3.
E.4.4 VMA至CROSSTALK比（VCR）
电缆路径1的电缆VMA损耗（L）可以使用图64所示的测试设置进行测量。电缆路径2的VMA损耗（L）通过用B的反向电缆端A测量。VMA（）⎛⎞iLdBe = 20log ⎠⎠--------------- VMAo

 其中VMAi是测量的VMA在B“和VMAo在C'测量。

       VMA / 2到串扰比（VCR）是B处的发射机最小VMA之间的比例，除以已经包含反射FEXT的电缆NEXT。 VCR 1方程中的因子0.3占SFP +有限主机回波损耗。

  VCR（）dBe = VNR-L-20K-101log（）+ C

 其中⎛⎞2L-------⎠⎠20 C = 0.3×10




       VCR方程可以如下：20 * log10（VMAMIN /（2 * NEXT *（1 + C）））-L。

  （）NEXTaggressorVMA ----------------------------------------------- --------- 2 VNR = 20log 10 ------------------------------------ - - - - - - - - - - 下一个

     。 ⎛⎞VMAmax⎛⎞700KdBe（）= 20log 10 ----------------------- = 20log 10 -------- = 7.36⎝⎠ VMAmin⎝⎠300


     E.4.3中描述了测量NEXT的过程。

SFP+ (Enhanced 10 Gbps Pluggable Module)           Page 111SFF-8431   1.25 GBd Operation Support (Optional)  July 6, 2009 REVISION 4.1    PUBLISHED

APPENDIX F 1.25 GBD OPERATION SUPPORT (OPTIONAL)


F.1  INTRODUCTION 
SFP+ host may be designed to operate at 1.25 GBd Ethernet rate using the  classic SFP modules based on INF-8074i. Although IEEE Std 802.3, clauses 38  and 59 (1000BASE-SX, 1000BASE-LX and 1000BASE-LX10 PMDs) do not define  the electrical levels for the module, INF-8074i specifies those levels which are  reproduced here for reference Table 38.

 Host transmitter output levels B and host receiver input tolerance levels at C   are respectively given by Table 39 and Table 40 for SFP+ host operating at 1.25   GBd. Note: levels specified here may not be fully compliant with all classic SFP   modules, but are expected to include a large percentage of existing 1.25 GBd   classic modules. In order to be fully compliant to all classic SFP modules the   max host receiver input tolerance level has to be 2000 mV, however this is not   considered practical for modern 10Gb/s SerDes.
附录F 1.25 GBD操作支持（可选）


F.1引言
SFP +主机可能设计为使用基于INF-8074i的经典SFP模块，以1.25 GBd以太网速率运行。 虽然IEEE Std 802.3，条款38和59（1000BASE-SX，1000BASE-LX和1000BASE-LX10 PMD）没有定义模块的电平，但是INF-8074i规定了这些再现级别，以供参考。

  主机发射机输出电平B和主机接收机输入公差电平分别由表39和表40给出，其中SFP +主机工作在1.25 GBd。 注意：此处指定的级别可能不完全符合所有经典的SFP模块，但预计将包含现有1.25 GBd经典模块的大部分。 为了完全符合所有经典的SFP模块，最大主机接收机输入容限级别必须为2000 mV，但是对于现代10Gb / s SerDs来说，这不被认为是实用的。

          Table 38   INF-8074i Voltage Levels for Reference Only

  Parameters - B’       Symbol      Conditions        Min        Max        Units

  SFP Module Input Differential at B’ Vin        See 1           500        2400      mV (p-p)

  SFP Module Output Differential at C’ Vout           370        2000      mV (p-p)

  1. INF-8074i recommends value between 500-1200 mV differential p-p be used for best EMI performance.


F.2  SFP+ HOST OPERATION GUIDELINE FOR SUPPORTING CLASSIC SFP SFP+ host must support TP1 and TP4 jitter specifications per IEEE CL 38.5 and  CL 59.6 at point B and C respectively.

       SFP+ host output pre-emphasis level may need to be adjusted for optimum  output eye diagram for 1.25 GBd operation.

       The module maximum input at B is given in Table 39 and is the same value as   in INF-8074i. However, to provide compatibility with SFP+ hosts the module   maximum output in Table 40 is much lower than the value specified in INF-  8074i. An SFP module meeting the specifications of Table 41 will interoperate   with SFP+ hosts.

1. INF-8074i建议使用500-1200 mV差分p-p之间的最佳EMI性能。


F.2支持SFP + SFP +主机操作指导SFP +主机必须分别在B点和C点支持IEEE CL 38.5和CL 59.6的TP1和TP4抖动规范。

        对于1.25 GBd操作，可能需要调整SFP +主机输出预加重级别以获得最佳输出眼图。

        B中的模块最大输入在表39中给出，与INF-8074i中的值相同。 然而，为了提供与SFP +主机的兼容性，表40中的模块最大输出远低于INF-8074i中指定的值。 满足表41规格的SFP模块将与SFP +主机互操作。

SFP+ (Enhanced 10 Gbps Pluggable Module)        Page 112SFF-8431       1.25 GBd Operation Support (Optional)     July 6, 2009 REVISION 4.1           PUBLISHED

            Table 39   SFP+ Host Transmitter Requirements to Support 1.25 GBd Mode

       Parameters - B       Symbol         Conditions  Min           Units

       Host Output VMA Differential     Vout    500 mV

       Parameters- B Symbol         Conditions Value          Units

       Eye Mask        Y1           See  D.2 and           150 mV         Figure 65        Eye Mask        Y2     500 mV


  Y2

 Y1  0

 -Y1         Voltage differential Voltage  -Y2

     0.0          1.0      Normalized Time (UI)

           Figure 65  SFP+ Host Transmitter Output Mask for 1.25 GBd Operation

   Table 40   SFP+ Host Receiver Requirements to Support 1.25 GBd Mode

       Parameters - C       Symbol         Conditions  Min           Units

       Host Input VMA Differential       Vin    370 mV

       Parameters- C Symbol         Conditions Value          Units

       Eye Mask        Y1           See  D.2 and           125 mV         Figure 66        Eye Mask        Y2     600 mV


SFP+ (Enhanced 10 Gbps Pluggable Module)      Page 113SFF-8431       1.25 GBd Operation Support (Optional)     July 6, 2009 REVISION 4.1           PUBLISHED


   Y2

   Y1   0   -Y1

        Voltage differential Voltage -Y2

      0.0 X1        1-X1  1.0        Normalized Time (UI)    Figure 66  SFP+ Host Receiver Input Mask for 1.25 GBd Operation           .

       Table 41   SFP Module input and output ranges that can be supported by the SFP+ Host

   Parameters - Module  Symbol          Conditions Min           Max Units

   SFP Module Input at B’            Vin    500 1         2400 1       mV (p-p)

   SFP Module Output at C’           Vout   370 1         1200         mV (p-p)

   1. Values are identical to the SFP classic INF-8074i specification.


SFP+ (Enhanced 10 Gbps Pluggable Module)      Page 114SFF-8431        Matlab Code for TWDP       July 6, 2009 REVISION 4.1    PUBLISHED

APPENDIX G MATLAB CODE FOR TWDP


 %%%%%%%%%%%%%%%%% MATLAB (R) Code for xWDP Computation %%%%%%%%%%%%%%%%%  %% SFF-8431 TWDP Code - PAlloc for Cu is now 14.0 dBe.  %% Based on original TWDP methodology described in IEEE Std 802.3aq(TM)-2006  %% Reference: N. L. Swenson, P. Voois, T. Lindsay, and S. Zeng, “Standards  %% compliance testing of optical transmitters using a software-based equalizing  %% reference receiver”, paper NWC3, Optical Fiber Communication Conference and  %% Exposition and The National Fiber Optic Engineers Conference on CD-ROM  %% (Optical Society of America, Washin[gton, DC), Feb. 2007.  function [xWDP,MeasuredxMA]=SFF8431xWDP(WaveformFile,EqNf,EqNb,SymbolRate,Usage)  %% Example calling syntax:  %%   [xWDP,MeasuredxMA]=SFF8431xWDP('wavefile.txt',14,5,10.3125,'Optical_WDP')  %% The fields in the example given above should be replaced by the actual values  %% being used. WaveformFile should be the actual path\filename for each waveform  %% tested. The waveform consists of exactly N samples per unit interval T, where  %% N is the oversampling rate. The waveform must be circularly shifted to align  %% with the data sequence. The file format for the measured waveform is ASCII  %% with a single column of chronological numerical samples, in signal level,  %% with no headers or footers.  %% EqNf is the # of T/2-spaced feedforward equalizer taps; EqNb is the # of  %% T-spaced feedback equalizer taps.  %% SymbolRate is in gigabaud.  %% Options for Usage are 'Optical_WDP', 'Copper_WDP', and 'Copper_TWDP'.  %% 'Optical_WDP' is used in support of Chapter 3 for  %%    measuring WDPi at the output of an optical TP3 tester,  %%    measuring WDPo at C' of a linear optical module receiver, and  %%    calibrating WDP at C'' for testing a host that supports linear optical modules.  %% 'Copper_WDP' is used in support of Annex E for  %%    measuring WDPi and calibrating WDP at B'' for testing a copper cable assembly,  %%    measuring WDPo at C' of a copper cable assembly (C), and  %%    calibrating WDP at C'' for testing a host that supports copper cable assemblies  %% 'Copper_TWDP' is used for measuring TWDP at B of a host that supports copper  %% cable assemblies.   %% Transmit data file: The transmit data sequence is the 511 bit PRBS9 TWDP test  %% patterns defined in Table 686. The file format is ASCII with a single column  %% of chronological ones and zeros with no headers or footers.  TxDataFile = 'prbs9_950.txt';  %% Program constants %%  OverSampleRate = 16; % Oversampling rate, must be even  SymbolPeriod = 1/SymbolRate; % Symbol period is in ns  Q0 = 7.03; % BER = 10^(-12)  %% Load input waveform and data sequence, generate filter and other matrices  yout0 = load(WaveformFile);  XmitData = load(TxDataFile);  PtrnLength = length(XmitData);  TotLen = PtrnLength*OverSampleRate;  Fgrid = [-TotLen/2:TotLen/2-1].'/(PtrnLength*SymbolPeriod);  %% Compute response of 7.5 GHz 4th order Butterworth antialiasing filter


SFP+ (Enhanced 10 Gbps Pluggable Module)  Page 115SFF-8431        Matlab Code for TWDP       July 6, 2009 REVISION 4.1    PUBLISHED


 a = [1 123.1407 7581.811 273453.7 4931335]; % Denominator polynomial  b = 4931335; % Numerator for frequency response  ExpArg = -j*2*pi*Fgrid;  H_r = b./polyval(a,-ExpArg);  %% Get usage parameters for the application  [H_chan,Delays,PAlloc,dBscale] = GetParams(Usage,ExpArg);  N0 = SymbolPeriod/2 / (Q0 * 10^(PAlloc/dBscale))^2;  %% Set search range for equalizer delay, specified in symbol periods. Lower end  %% of range is minimum channel delay. Upper end of range is the sum of the  %% lengths of the FFE and channel. Round up and add 5 to account for the  %% antialiasing filter.  EqDelMin = floor(min(Delays)/SymbolPeriod);   EqDelMax = ceil(EqNf/2 + max(Delays)/SymbolPeriod);  ONE=ones(PtrnLength,1);  %% Normalize the received xMA (OMA or VMA) to 1. Estimate the xMA of the captured  %% waveform by using a linear fit to estimate a pulse response, synthesize a  %% square wave, and calculate the xMA of the synthesized square wave per IEEE  %% 802.3, clause 52.9.5.  ant=4; mem=40; % Anticipation and memory parameters for linear fit  X=zeros(ant+mem+1,PtrnLength); % Size data matrix for linear fit  Y=zeros(OverSampleRate,PtrnLength); % Size observation matrix for linear fit  for ind=1:ant+mem+1      X(ind,:)=circshift(XmitData,ind-ant-1)'; % Wrap appropriately for lin fit  end  X=[X;ones(1,PtrnLength)]; % The all-ones row is included to compute the bias  for ind=1:OverSampleRate      Y(ind,:)=yout0([0:PtrnLength-1]*OverSampleRate+ind)'; % Each column is 1 bit  end  Qmat=Y*X'*(X*X')^(-1); % Coefficient matrix resulting from linear fit. Each   %% column (except the last) is one bit period of the pulse response. The last  %% column is the bias.  SqWvPer=16; % Even number; sets the period of the sq wave used to compute xMA  SqWv=[zeros(SqWvPer/2,1);ones(SqWvPer/2,1)]; % One period of sq wave (column)  X=zeros(ant+mem+1,SqWvPer); % Size data matrix for synthesis  for ind=1:ant+mem+1      X(ind,:)=circshift(SqWv,ind-ant-1)'; % Wrap appropriately for synthesis  end  X=[X;ones(1,SqWvPer)]; % Include the bias  Y=Qmat*X;Y=Y(:); % Synthesize the modulated square wave, put into one column  Y=AlignY(Y,SqWvPer,OverSampleRate);   avgpos=[0.4*SqWvPer/2*OverSampleRate:0.6*SqWvPer/2*OverSampleRate];  ZeroLevel=mean(Y(round(avgpos),:)); % Average over middle 20% of "zero" run  % Average over middle 20% of "one" run, compute xMA  MeasuredxMA=mean(Y(round(SqWvPer/2*OverSampleRate+avgpos),:))-ZeroLevel;  %% Subtract zero level and normalize xMA  yout0 = (yout0-ZeroLevel)/MeasuredxMA;  %% Compute the noise autocorrelation sequence at the output of the front-end  %% antialiasing filter and rate-2/T sampler.  Snn = N0/2 * fftshift(abs(H_r).^2) * 1/SymbolPeriod * OverSampleRate;  Rnn = real(ifft(Snn));


SFP+ (Enhanced 10 Gbps Pluggable Module)  Page 116SFF-8431        Matlab Code for TWDP       July 6, 2009 REVISION 4.1    PUBLISHED


 Corr = Rnn(1:OverSampleRate/2:end);  C = toeplitz(Corr(1:EqNf));  %% Compute the minimum slicer MSE and corresponding xWDP  X = toeplitz(XmitData, [XmitData(1); XmitData(end:-1:end+1-EqNb)]);  Xtil = toeplitz(circshift(XmitData,EqDelMin), ...      XmitData(mod(-EqDelMin:-1:-(EqDelMax+EqNb),PtrnLength)+1));  Rxx = X'*X; % Used in MSE calculation  %% Propagate the waveform through channel.  yout = real(ifft(fft(yout0) .* fftshift(H_chan)));  %% Process signal through front-end antialiasing filter %%%%%%%%%%%%%%%%%%  yout = real(ifft(fft(yout) .* fftshift(H_r)));  %% Compute MMSE-DFE %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  %% The MMSE-DFE filter coefficients computed below minimize mean-squared error  %% at the slicer input. The derivation follows from the fact that the slicer  %% input over the period of the data sequence can be expressed as Z = (R+N)*W -  %% X*[0 B]', where R and N are Toeplitz matrices constructed from the signal and  %% noise components, respectively, at the sampled output of the antialiasing  %% filter, W is the feedforward filter, X is a Toeplitz matrix constructed from  %% the input data sequence, and B is the feedback filter. The computed W and B  %% minimize the mean square error between the input to the slicer and the  %% transmitted sequence due to residual ISI and Gaussian noise. Minimize MSE  %% over 2/T sampling phase and FFE delay and determine BER.  MseOpt = Inf;  for jj= [0:OverSampleRate-1]-OverSampleRate/2 % sampling phase      %% Sample at rate 2/T with new phase (wrap around as required)      yout_2overT = yout(mod([1:OverSampleRate/2:TotLen]+jj-1,TotLen)+1);      Rout = toeplitz(yout_2overT, [yout_2overT(1); yout_2overT(end:-1:end-EqNf+2)]);      R = Rout(1:2:end, :);      RINV = inv([R'*R+PtrnLength*C R'*ONE;ONE'*R PtrnLength]);      R=[R ONE]; % Add all-ones column to compute optimal offset      Rxr = Xtil'*R; Px_r = Rxr*RINV*Rxr';      %% Minimize MSE over equalizer delay      for kk = 1:EqDelMax-EqDelMin+1          SubRange = [kk:kk+EqNb];          SubRange = mod(SubRange-1,PtrnLength)+1;          P = Rxx - Px_r(SubRange,SubRange);          P00 = P(1,1); P01 = P(1,2:end); P11 = P(2:end,2:end);          Mse = P00 - P01*inv(P11)*P01';          if (Mse<MseOpt)   MseOpt = Mse;   B = -inv(P11)*P01'; % Feedback filter   XSel = Xtil(:,SubRange);   W = RINV*R'*XSel*[1;B]; % Feedforward filter   Z = R*W - XSel*[0;B]; % Input to slicer   %% Compute BER using semi-analytic method %%%%%%%%%%%%%%%%%%   MseGaussian = W(1:end-1)'*C*W(1:end-1);   Ber = mean(0.5*erfc((abs(Z-0.5)/sqrt(MseGaussian))/sqrt(2)));          end      end  end  %% Compute equivalent SNR %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  %% This function computes the inverse of the Gaussian error probability


SFP+ (Enhanced 10 Gbps Pluggable Module)  Page 117SFF-8431        Matlab Code for TWDP       July 6, 2009 REVISION 4.1    PUBLISHED


 %% function. The built-in function erfcinv() is not sensitive enough for low  %% probability of error cases.  if Ber>10^(-12) Q = sqrt(2)*erfinv(1-2*Ber);  elseif Ber>10^(-323) Q = 2.1143*(-1.0658-log10(Ber)).^0.5024;  else Q = inf;  end  %% Compute penalty %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  RefSNR = dBscale * log10(Q0) + PAlloc;  xWDP = RefSNR-dBscale*log10(Q);  %% End of main function  %% GetParams subFunction  function [H_chan,Delays,PAlloc,dBscale] = GetParams(Usage,ExpArg);      switch Usage          case 'Optical_WDP' % Identity channel for optical   Delays = 0;   H_chan = 1;   PAlloc = 6.5; % Total allocated dispersion penalty (dBo)   dBscale = 10;          case 'Copper_WDP' % Identity channel for copper   Delays = 0;   H_chan = 1;   PAlloc = 14.0;% Total allocated dispersion penalty (dBe)   dBscale = 20;          case 'Copper_TWDP' % Cu TWDP stressor   ChanResp = [...       .0 .04849 .09697 .14546 .19394 .24243 .29091 .33940 .38788, ...       .43637 .48485 .53334 .58182 .63031 .67879 .72728 .77576;       .0175 .136 .2695 .1649 .0917 .0717 .0498 .0383 .0315, ...       .027 .0216 .0202 .0174 .0146 .0123 .0094 .0066];   Delays = ChanResp(1,:);   PCoefs = ChanResp(2,:)';   H_chan = exp(ExpArg*Delays)*PCoefs/sum(PCoefs); %With normalization   PAlloc = 14.0;% Total allocated dispersion penalty (dBe)   dBscale = 20;      end  %% End of GetParams function  %% AlignY subFunction  function Y = AlignY(Y0,SqWvPer,OverSampleRate)      % Aligns the mid crossing of the xMA square waveform to its ideal position.      Y = Y0-mean(Y0); % AC-couple so crossings are at 0. % Look only for the crossing in the middle by ignoring any within ~2 UI from      % its beginning. Due to possible misalignment of the captured waveform, this      % is the only crossing that is certain.      x = find(sign(Y(2*OverSampleRate:end-1))~= ...          sign(Y(2*OverSampleRate+1:end)),1)+2*OverSampleRate-1;      % Find a more exact crossing point.      xinterp = interp1([Y(x),Y(x+1)],[x,x+1],0); % Shift to create the aligned square waveform      Y = circshift(Y0,SqWvPer/2*OverSampleRate-x); % Coarse shift.      X = [1:length(Y)].'; Y = interp1(X,Y,X+xinterp-x,'spline'); % Fine shift.  %% End of AlignY function


SFP+ (Enhanced 10 Gbps Pluggable Module)  Page 118SFF-8431 Rev 4.1 Addendum           September 15, 2013       TABLE 1 SFP+ STANDARD COMPLIANCE       Standard Sign High            High       Low      Low      Manage       Mech  aling       Speed       Speed     Speed    Speed      ment      anical/   Rate       Serial     Serial     Elect    Test        Conn  (GBd)     Interface     Test      rical    Meth       ector       Method     Defin     ods      itions  IEEE 802.3  1.25 802.3        Clause 38 or         Clause 38           Clause 59 (1           or 59  Gb/s Ethernet)         Appen       dix F   1 GFC     1.0625      FC-PH       FC-PH  2 GFC     2.125       FC-PI       FC-PI  4 GFC      4.25      FC-PI-2     FC-PI-2 8 GFC *    8.5       FC-PI-5     FC-PI-5           16 GFC     14.025     FC-PI-5     FC-PI-5           32 GFC     28.05      FC-PI-6     FC-PI-6           10GSFP+Cu 10.3125 Chapter 3 Appen      Appen       dix D      dix E       Appen       dix E    Chapter  Appen    Chapter 4    SFF-8432  IEEE 802.3           10.3125 2     dix D     SFF-8472    SFF-8083  Clause 52 (10   SFF-8079  Gb/s Ethernet   SFF-8089  LAN PHY)   IEEE 802.3           9.95328    Chapter 3     Appen       Clause 52 (10    dix D   Gb/s Ethernet  WAN PHY)   IEEE 802.3           10.3125  Clause 68 (LRM)  10 GFC    10.51875  10GBASE-R (IEEE       11.10  802.3 Clause 49)  Encapsulated in  G.709 ODU-2  Frame (FEC)   * 8GFC specifications revised in FC-PI-5 and override FC-PI-4 requirements      2.8  SFP+ Power Requirements    The module host has two 3.3 V power contacts, one supplying the module transmitter  voltage (VccT) and the other supplying the module receiver voltage (VccR). The  maximum current capacity, both continuous and peak, for each connector contact is  500 mA.    SFP+ module maximum power consumption shall meet one of the following power  classes:       Power Level I modules    - Up to 1.0 W       Power Level II modules   - Up to 1.5 W       Power Level III modules  - Up to 2.0 W    To avoid exceeding system power supply limits and cooling capacity, all modules at  power up by default shall operate with up to 1.0 W. Hosts supporting Power Level II  or III operation may enable a Power Level II or III module through the 2-wire  interface. Power Level II or III modules shall assert the power level declaration    SFP+    Page 1  SFF-8431 Rev 4.1 Addendum           September 15, 2013       bit of SFF-8472.    The maximum power level is allowed to exceed the classified power level for 500 ms  following hot insertion or power up, or Power Level II or III authorization,  however the current is limited to values given by Table 8 and illustrated in Figure  11.    At host power up the host shall supply VccT and VccR to the module within 100 ms of  each other.    TABLE 8 SFP+ MODULE POWER SUPPLY REQUIREMENTS           Parameters Symbol Condition Min Max Unit          Common Parameters  Power supply noise tolerance including ripple  see  66 mV  [peak-to-peak]           D.17.3  Power supply voltages including ripple, droop         VccT,        *1 3.14 3.46           V  and noise below 100 kHz   VccR  Instantaneous peak current at hot plug     *2 *3  400    mA  Sustained peak current at hot plug *2 *3 *5           330    mA         Power Level I Module  Module maximum power consumption           1.0    W        Power Level II Module  Instantaneous peak current on enabling Power         *2 *3 *5           600    mA  Level II  Module sustained peak current on enabling            *2 *3 *5           500    mA  Power Level II   Maximum power consumption at power up *4   1.0    W  Module maximum power consumption           1.5    W       Power Level III Module  Instantaneous peak current on enabling Power         *2 *3 *5           800    mA  Level III  Module sustained peak current on enabling            *2 *3 *5           660    mA  Power Level III  Maximum power consumption at power up *4   1.0    W  Module maximum power consumption           2.0    W  *1  Set point is measured at the input to the connector on the host board reference       to Vee. Droop is any temporary drop in voltage of the power supply such as that       caused by plugging in another module or when enabling another module to Power       Level II.  *2  The requirements for current apply to the current through each inductor of       Figure 56.  *3  The maximum currents are the allowed currents for each power supply VccT or       VccR, therefore the total module peak currents can be twice this value. The       instantaneous peak current is allowed to exceed the specified maximum current       capacity of the connector contact for a short period, see Figure 11.  *4  Maximum module power consumption shall not exceed 1.0 W from 500ms after power       up until level II operation is enabled.  *5  Not to exceed the sustained peak limit for more than 50 us; may exceed this       limit for shorter durations.


  SFP+    Page 2



%%%%%%%%%%%%%%%%% MATLAB (R) Code for xWDP Computation %%%%%%%%%%%%%%%%%
%% SFF-8431 TWDP Code - PAlloc for Cu is now 14.0 dBe.
%% Based on original TWDP methodology described in IEEE Std 802.3aq(TM)-2006
%% Reference: N. L. Swenson, P. Voois, T. Lindsay, and S. Zeng, “Standards
%% compliance testing of optical transmitters using a software-based equalizing
%% reference receiver”, paper NWC3, Optical Fiber Communication Conference and
%% Exposition and The National Fiber Optic Engineers Conference on CD-ROM
%% (Optical Society of America, Washin[gton, DC), Feb. 2007.
function [xWDP,MeasuredxMA]=SFF8431xWDP(WaveformFile,EqNf,EqNb,SymbolRate,Usage)
%% Example calling syntax:
%% [xWDP,MeasuredxMA]=SFF8431xWDP('wavefile.txt',14,5,10.3125,'Optical_WDP')
%% The fields in the example given above should be replaced by the actual values
%% being used. WaveformFile should be the actual path\filename for each waveform
%% tested. The waveform consists of exactly N samples per unit interval T, where
%% N is the oversampling rate. The waveform must be circularly shifted to align
%% with the data sequence. The file format for the measured waveform is ASCII
%% with a single column of chronological numerical samples, in signal level,
%% with no headers or footers.
%% EqNf is the # of T/2-spaced feedforward equalizer taps; EqNb is the # of
%% T-spaced feedback equalizer taps.
%% SymbolRate is in gigabaud.
%% Options for Usage are 'Optical_WDP', 'Copper_WDP', and 'Copper_TWDP'.
%% 'Optical_WDP' is used in support of Chapter 3 for
%% measuring WDPi at the output of an optical TP3 tester,
%% measuring WDPo at C' of a linear optical module receiver, and
%% calibrating WDP at C'' for testing a host that supports linear optical modules.
%% 'Copper_WDP' is used in support of Annex E for
%% measuring WDPi and calibrating WDP at B'' for testing a copper cable assembly,
%% measuring WDPo at C' of a copper cable assembly (C), and
%% calibrating WDP at C'' for testing a host that supports copper cable assemblies
%% 'Copper_TWDP' is used for measuring TWDP at B of a host that supports copper
%% cable assemblies.
%% Transmit data file: The transmit data sequence is the 511 bit PRBS9 TWDP test
%% patterns defined in Table 686. The file format is ASCII with a single column
%% of chronological ones and zeros with no headers or footers.
TxDataFile = 'prbs9_950.txt';
%% Program constants %%
OverSampleRate = 16; % Oversampling rate, must be even
SymbolPeriod = 1/SymbolRate; % Symbol period is in ns
Q0 = 7.03; % BER = 10^(-12)
%% Load input waveform and data sequence, generate filter and other matrices
yout0 = load(WaveformFile);
XmitData = load(TxDataFile);
PtrnLength = length(XmitData);
TotLen = PtrnLength*OverSampleRate;
Fgrid = [-TotLen/2:TotLen/2-1].'/(PtrnLength*SymbolPeriod);
%% Compute response of 7.5 GHz 4th order Butterworth antialiasing filter


2.8 SFP+ Power Requirements
The module host has two 3.3 V power contacts, one supplying the module transmitter voltage (VccT) and the other supplying the module receiver voltage (VccR). The maximum current capacity, both continuous and peak, for each connector contact is 500 mA.
SFP+ module maximum power consumption shall meet one of the following power classes:
Power Level I modules - Up to 1.0 W
Power Level II modules - Up to 1.5 W
Power Level III modules - Up to 2.0 W
To avoid exceeding system power supply limits and cooling capacity, all modules at power up by default shall operate with up to 1.0 W. Hosts supporting Power Level II or III operation may enable a Power Level II or III module through the 2-wire interface. Power Level II or III modules shall assert the power level declaration bit of SFF-8472.
The maximum power level is allowed to exceed the classified power level for 500 ms following hot insertion or power up, or Power Level II or III authorization, however the current is limited to values given by Table 8 and illustrated in Figure 11.
At host power up the host shall supply VccT and VccR to the module within 100 ms of each other.

*1 Set point is measured at the input to the connector on the host board reference to Vee. Droop is any temporary drop in voltage of the power supply such as that caused by plugging in another module or when enabling another module to Power Level II.
*2 The requirements for current apply to the current through each inductor of Figure 56.
*3 The maximum currents are the allowed currents for each power supply VccT or VccR, therefore the total module peak currents can be twice this value. The instantaneous peak current is allowed to exceed the specified maximum current capacity of the connector contact for a short period, see Figure 11.
*4 Maximum module power consumption shall not exceed 1.0 W from 500ms after power up until level II operation is enabled.
*5 Not to exceed the sustained peak limit for more than 50 us; may exceed this limit for shorter durations.